!(function(){"use strict";var Rn=Object.defineProperty,Un=Object.defineProperties;var Tn=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols,On=Object.getPrototypeOf,Vr=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable,Dn=Reflect.get;var zr=m=>{throw TypeError(m)};var ze=(m,w,y)=>w in m?Rn(m,w,{enumerable:!0,configurable:!0,writable:!0,value:y}):m[w]=y,b=(m,w)=>{for(var y in w||(w={}))Vr.call(w,y)&&ze(m,y,w[y]);if(Ie)for(var y of Ie(w))Hr.call(w,y)&&ze(m,y,w[y]);return m},U=(m,w)=>Un(m,Tn(w));var Wr=(m,w)=>{var y={};for(var A in m)Vr.call(m,A)&&w.indexOf(A)<0&&(y[A]=m[A]);if(m!=null&&Ie)for(var A of Ie(m))w.indexOf(A)<0&&Hr.call(m,A)&&(y[A]=m[A]);return y};var We=(m,w,y)=>ze(m,typeof w!="symbol"?w+"":w,y),je=(m,w,y)=>w.has(m)||zr("Cannot "+y);var _=(m,w,y)=>(je(m,w,"read from private field"),y?y.call(m):w.get(m)),te=(m,w,y)=>w.has(m)?zr("Cannot add the same private member more than once"):w instanceof WeakSet?w.add(m):w.set(m,y),T=(m,w,y,A)=>(je(m,w,"write to private field"),A?A.call(m,y):w.set(m,y),y),Xe=(m,w,y)=>(je(m,w,"access private method"),y);var jr=(m,w,y)=>Dn(On(m),y,w);(self.webpackChunk_yuntijs_ui=self.webpackChunk_yuntijs_ui||[]).push([[3912],{3912:function(m,w,y){var X,z,ee,Z,re,ge,Ze,Q;y.r(w),y.d(w,{ShikiError:function(){return C.Z5},addClassToHast:function(){return C.Gx},applyColorReplacements:function(){return C.i_},bundledLanguages:function(){return Ae.j8},bundledLanguagesAlias:function(){return Ae.Fb},bundledLanguagesBase:function(){return Ae.OJ},bundledLanguagesInfo:function(){return Ae.Rt},bundledThemes:function(){return Br.B},bundledThemesInfo:function(){return Br.M},codeToHast:function(){return A.A1},codeToHtml:function(){return A.CZ},codeToTokens:function(){return A.g0},codeToTokensBase:function(){return A.UU},codeToTokensWithThemes:function(){return A.yr},createBundledHighlighter:function(){return C.AX},createCssVariablesTheme:function(){return C.FJ},createHighlighter:function(){return A.e$},createHighlighterCore:function(){return C.Ew},createHighlighterCoreSync:function(){return C.CO},createJavaScriptRegexEngine:function(){return Fn},createOnigurumaEngine:function(){return Dr.QG},createPositionConverter:function(){return C.S2},createShikiInternal:function(){return C.ex},createShikiInternalSync:function(){return C.Xw},createSingletonShorthands:function(){return C.iX},createdBundledHighlighter:function(){return C.y6},defaultJavaScriptRegexConstructor:function(){return Or},enableDeprecationWarnings:function(){return C.k_},flatTokenVariants:function(){return C.Sj},getLastGrammarState:function(){return A.kI},getSingletonHighlighter:function(){return A.xP},getSingletonHighlighterCore:function(){return C.f3},getTokenStyleObject:function(){return C.Vl},guessEmbeddedLanguages:function(){return C.qn},hastToHtml:function(){return C.IY},isNoneTheme:function(){return C.DN},isPlainLang:function(){return C._l},isSpecialLang:function(){return C.ri},isSpecialTheme:function(){return C.vH},loadWasm:function(){return Dr.oP},makeSingletonHighlighter:function(){return C.xK},makeSingletonHighlighterCore:function(){return C.n5},normalizeGetter:function(){return C.vg},normalizeTheme:function(){return C.Ho},resolveColorReplacements:function(){return C.F3},splitLines:function(){return C.uq},splitToken:function(){return C.NW},splitTokens:function(){return C.n9},stringifyTokenStyle:function(){return C.V8},toArray:function(){return C.qo},tokenizeAnsiWithTheme:function(){return C.Bo},tokenizeWithTheme:function(){return C.dO},tokensToHast:function(){return C.is},transformerDecorations:function(){return C.E0},warnDeprecated:function(){return C.Jp}});var A=y(35958);function ne(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}function Xr(e,r,t){return e.has(r)||e.set(r,t),e.get(r)}const Se=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),S=String.raw;function se(e,r){if(e==null)throw new Error(r!=null?r:"Value expected");return e}const Qe=S`\[\^?`,Je=`c.? | C(?:-.?)?|${S`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${S`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${S`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${S`o\{[^\}]*\}?`}|${S`\d{1,3}`}`,ve=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,me=new RegExp(S`
  \\ (?:
    ${Je}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${ve.source})+
  | ${Qe}
  | .
`.replace(/\s+/g,""),"gsu"),_e=new RegExp(S`
  \\ (?:
    ${Je}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Qe}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function Zr(e,r={}){const t=U(b({flags:""},r),{rules:b({captureGroup:!1,singleline:!1},r.rules)});if(typeof e!="string")throw new Error("String expected as pattern");const n=dt(t.flags),s=[n.extended],o={captureGroup:t.rules.captureGroup,getCurrentModX(){return s.at(-1)},numOpenGroups:0,popModX(){s.pop()},pushModX(l){s.push(l)},replaceCurrentModX(l){s[s.length-1]=l},singleline:t.rules.singleline};let a=[],i;for(me.lastIndex=0;i=me.exec(e);){const l=Qr(o,e,i[0],me.lastIndex);l.tokens?a.push(...l.tokens):l.token&&a.push(l.token),l.lastIndex!==void 0&&(me.lastIndex=l.lastIndex)}const u=[];let c=0;a.filter(l=>l.type==="GroupOpen").forEach(l=>{l.kind==="capturing"?l.number=++c:l.raw==="("&&u.push(l)}),c||u.forEach((l,f)=>{l.kind="capturing",l.number=f+1});const p=c||u.length;return{tokens:a.map(l=>l.type==="EscapedNumber"?ht(l,p):l).flat(),flags:n}}function Qr(e,r,t,n){const[s,o]=t;if(t==="["||t==="[^"){const a=Jr(r,t,n);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(s==="\\"){if("AbBGyYzZ".includes(o))return{token:Ke(t,t)};if(/^\\g[<']/.test(t)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(t))throw new Error(`Invalid group name "${t}"`);return{token:at(t)}}if(/^\\k[<']/.test(t)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(t))throw new Error(`Invalid group name "${t}"`);return{token:Ye(t)}}if(o==="K")return{token:rr("keep",t)};if(o==="N"||o==="R")return{token:J("newline",t,{negate:o==="N"})};if(o==="O")return{token:J("any",t)};if(o==="X")return{token:J("text_segment",t)};const a=qe(t,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(s==="("){if(o==="*")return{token:lt(t)};if(t==="(?{")throw new Error(`Unsupported callout "${t}"`);if(t.startsWith("(?#")){if(r[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(t))return{token:ct(t,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,t==="("&&!e.captureGroup||t==="(?:")return{token:oe("group",t)};if(t==="(?>")return{token:oe("atomic",t)};if(t==="(?="||t==="(?!"||t==="(?<="||t==="(?<!")return{token:oe(t[2]==="<"?"lookbehind":"lookahead",t,{negate:t.endsWith("!")})};if(t==="("&&e.captureGroup||t.startsWith("(?<")&&t.endsWith(">")||t.startsWith("(?'")&&t.endsWith("'"))return{token:oe("capturing",t,b({},t!=="("&&{name:t.slice(3,-1)}))};if(t.startsWith("(?~")){if(t==="(?~|")throw new Error(`Unsupported absence function kind "${t}"`);return{token:oe("absence_repeater",t)}}throw t==="(?("?new Error(`Unsupported conditional "${t}"`):new Error(`Invalid or unsupported group option "${t}"`)}if(t===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:nt(t)}}if(e.getCurrentModX()){if(t==="#"){const a=r.indexOf(`
`,n);return{lastIndex:a===-1?r.length:a}}if(/^\s$/.test(t)){const a=/\s+/y;return a.lastIndex=n,{lastIndex:a.exec(r)?a.lastIndex:n}}}if(t===".")return{token:J("dot",t)};if(t==="^"||t==="$"){const a=e.singleline?{"^":S`\A`,$:S`\Z`}[t]:t;return{token:Ke(a,t)}}return t==="|"?{token:Kr(t)}:ve.test(t)?{tokens:mt(t)}:{token:D(ne(t),t)}}function Jr(e,r,t){const n=[er(r[1]==="^",r)];let s=1,o;for(_e.lastIndex=t;o=_e.exec(e);){const a=o[0];if(a[0]==="["&&a[1]!==":")s++,n.push(er(a[1]==="^",a));else if(a==="]"){if(n.at(-1).type==="CharacterClassOpen")n.push(D(93,a));else if(s--,n.push(Yr(a)),!s)break}else{const i=qr(a);Array.isArray(i)?n.push(...i):n.push(i)}}return{tokens:n,lastIndex:_e.lastIndex||e.length}}function qr(e){if(e[0]==="\\")return qe(e,{inCharClass:!0});if(e[0]==="["){const r=new RegExp("\\[:(?<negate>\\^?)(?<name>[a-z]+):\\]").exec(e);if(!r||!Se.has(r.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return J("posix",e,{value:r.groups.name,negate:!!r.groups.negate})}return e==="-"?et(e):e==="&&"?rt(e):D(ne(e),e)}function qe(e,{inCharClass:r}){const t=e[1];if(t==="c"||t==="C")return ut(e);if("dDhHsSwW".includes(t))return pt(e);if(e.startsWith(S`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return ft(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const n=e.split(/\\x/).slice(1).map(a=>parseInt(a,16)),s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),o=new TextEncoder;return[...s].map(a=>{const i=[...o.encode(a)].map(u=>`\\x${u.toString(16)}`).join("");return D(ne(a),i)})}catch(n){throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(t==="u"||t==="x")return D(gt(e),e);if(tr.has(t))return D(tr.get(t),e);if(/\d/.test(t))return tt(r,e);if(e==="\\")throw new Error(S`Incomplete escape "\"`);if(t==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return D(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}function Kr(e){return{type:"Alternator",raw:e}}function Ke(e,r){return{type:"Assertion",kind:e,raw:r}}function Ye(e){return{type:"Backreference",raw:e}}function D(e,r){return{type:"Character",value:e,raw:r}}function Yr(e){return{type:"CharacterClassClose",raw:e}}function et(e){return{type:"CharacterClassHyphen",raw:e}}function rt(e){return{type:"CharacterClassIntersector",raw:e}}function er(e,r){return{type:"CharacterClassOpen",negate:e,raw:r}}function J(e,r,t={}){return U(b({type:"CharacterSet",kind:e},t),{raw:r})}function rr(e,r,t={}){return e==="keep"?{type:"Directive",kind:e,raw:r}:{type:"Directive",kind:e,flags:se(t.flags),raw:r}}function tt(e,r){return{type:"EscapedNumber",inCharClass:e,raw:r}}function nt(e){return{type:"GroupClose",raw:e}}function oe(e,r,t={}){return U(b({type:"GroupOpen",kind:e},t),{raw:r})}function st(e,r,t,n){return{type:"NamedCallout",kind:e,tag:r,arguments:t,raw:n}}function ot(e,r,t,n){return{type:"Quantifier",kind:e,min:r,max:t,raw:n}}function at(e){return{type:"Subroutine",raw:e}}const it=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),tr=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function ut(e){const r=e[1]==="c"?e[2]:e[3];if(!r||!/[A-Za-z]/.test(r))throw new Error(`Unsupported control character "${e}"`);return D(ne(r.toUpperCase())-64,e)}function ct(e,r){let{on:t,off:n}=new RegExp("^\\(\\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?").exec(e).groups;n!=null||(n="");const s=(r.getCurrentModX()||t.includes("x"))&&!n.includes("x"),o=sr(t),a=sr(n),i={};if(o&&(i.enable=o),a&&(i.disable=a),e.endsWith(")"))return r.replaceCurrentModX(s),rr("flags",e,{flags:i});if(e.endsWith(":"))return r.pushModX(s),r.numOpenGroups++,oe("group",e,b({},(o||a)&&{flags:i}));throw new Error(`Unexpected flag modifier "${e}"`)}function lt(e){var p;const r=new RegExp("\\(\\*(?<name>[A-Za-z_]\\w*)?(?:\\[(?<tag>(?:[A-Za-z_]\\w*)?)\\])?(?:\\{(?<args>[^}]*)\\})?\\)").exec(e);if(!r)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:t,tag:n,args:s}=r.groups;if(!t)throw new Error(`Invalid named callout "${e}"`);if(n==="")throw new Error(`Named callout tag with empty value not allowed "${e}"`);const o=s?s.split(",").filter(l=>l!=="").map(l=>/^[+-]?\d+$/.test(l)?+l:l):[],[a,i,u]=o,c=it.has(t)?t.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(o.length>0)throw new Error(`Named callout arguments not allowed "${o}"`);break;case"error":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(typeof a=="string")throw new Error(`Named callout argument must be a number "${a}"`);break;case"max":if(!o.length||o.length>2)throw new Error(`Named callout must have one or two arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(o.length===2&&(typeof i=="number"||!/^[<>X]$/.test(i)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${i}"`);break;case"count":case"total_count":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(o.length===1&&(typeof a=="number"||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a}"`);break;case"cmp":if(o.length!==3)throw new Error(`Named callout must have three arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(typeof i=="number"||!/^(?:[<>!=]=|[<>])$/.test(i))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${i}"`);if(typeof u=="string"&&!/^[A-Za-z_]\w*$/.test(u))throw new Error(`Named callout argument three must be a tag or number "${u}"`);break;case"custom":throw new Error(`Undefined callout name "${t}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return st(c,n!=null?n:null,(p=s==null?void 0:s.split(","))!=null?p:null,e)}function nr(e){let r=null,t,n;if(e[0]==="{"){const{minStr:s,maxStr:o}=new RegExp("^\\{(?<minStr>\\d*)(?:,(?<maxStr>\\d*))?").exec(e).groups,a=1e5;if(+s>a||o&&+o>a)throw new Error("Quantifier value unsupported in Oniguruma");if(t=+s,n=o===void 0?+s:o===""?1/0:+o,t>n&&(r="possessive",[t,n]=[n,t]),e.endsWith("?")){if(r==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');r="lazy"}else r||(r="greedy")}else t=e[0]==="+"?1:0,n=e[0]==="?"?1:1/0,r=e[1]==="+"?"possessive":e[1]==="?"?"lazy":"greedy";return ot(r,t,n,e)}function pt(e){const r=e[1].toLowerCase();return J({d:"digit",h:"hex",s:"space",w:"word"}[r],e,{negate:e[1]!==r})}function ft(e){const{p:r,neg:t,value:n}=new RegExp("^\\\\(?<p>[pP])\\{(?<neg>\\^?)(?<value>[^}]+)").exec(e).groups;return J("property",e,{value:n,negate:r==="P"&&!t||r==="p"&&!!t})}function sr(e){const r={};return e.includes("i")&&(r.ignoreCase=!0),e.includes("m")&&(r.dotAll=!0),e.includes("x")&&(r.extended=!0),Object.keys(r).length?r:null}function dt(e){const r={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let t=0;t<e.length;t++){const n=e[t];if(!"imxDPSWy".includes(n))throw new Error(`Invalid flag "${n}"`);if(n==="y"){if(!/^y{[gw]}/.test(e.slice(t)))throw new Error('Invalid or unspecified flag "y" mode');r.textSegmentMode=e[t+2]==="g"?"grapheme":"word",t+=3;continue}r[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0}return r}function gt(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const r=e[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(r,16)}function ht(e,r){const{raw:t,inCharClass:n}=e,s=t.slice(1);if(!n&&(s!=="0"&&s.length===1||s[0]!=="0"&&+s<=r))return[Ye(t)];const o=[],a=s.match(/^[0-7]+|\d/g);for(let i=0;i<a.length;i++){const u=a[i];let c;if(i===0&&u!=="8"&&u!=="9"){if(c=parseInt(u,8),c>127)throw new Error(S`Octal encoded byte above 177 unsupported "${t}"`)}else c=ne(u);o.push(D(c,(i===0?"\\":"")+u))}return o}function mt(e){const r=[],t=new RegExp(ve,"gy");let n;for(;n=t.exec(e);){const s=n[0];if(s[0]==="{"){const o=new RegExp("^\\{(?<min>\\d+),(?<max>\\d+)\\}\\??$").exec(s);if(o){const{min:a,max:i}=o.groups;if(+a>+i&&s.endsWith("?")){t.lastIndex--,r.push(nr(s.slice(0,-1)));continue}}}r.push(nr(s))}return r}function or(e,r){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(e.body.length!==1)return!1;const t=e.body[0];return!r||Object.keys(r).every(n=>r[n]===t[n])}function Bn(e){return!(!wt.has(e.type)||e.type==="AbsenceFunction"&&e.kind!=="repeater")}const wt=new Set(["AbsenceFunction","CapturingGroup","Group","LookaroundAssertion","Regex"]);function yt(e){return Ct.has(e.type)}const Ct=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function ar(e,r={}){const t=U(b({flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null},r),{rules:b({captureGroup:!1,singleline:!1},r.rules)}),n=Zr(e,{flags:t.flags,rules:{captureGroup:t.rules.captureGroup,singleline:t.rules.singleline}}),s=(f,g)=>{const d=n.tokens[o.nextIndex];switch(o.parent=f,o.nextIndex++,d.type){case"Alternator":return q();case"Assertion":return bt(d);case"Backreference":return kt(d,o);case"Character":return we(d.value,{useLastValid:!!g.isCheckingRangeEnd});case"CharacterClassHyphen":return xt(d,o,g);case"CharacterClassOpen":return Et(d,o,g);case"CharacterSet":return At(d,o);case"Directive":return Mt(d.kind,{flags:d.flags});case"GroupOpen":return $t(d,o,g);case"NamedCallout":return Lt(d.kind,d.tag,d.arguments);case"Quantifier":return It(d,o);case"Subroutine":return St(d,o);default:throw new Error(`Unexpected token type "${d.type}"`)}},o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:t.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:t.skipBackrefValidation,skipLookbehindValidation:t.skipLookbehindValidation,skipPropertyNameValidation:t.skipPropertyNameValidation,subroutines:[],tokens:n.tokens,unicodePropertyMap:t.unicodePropertyMap,walk:s},a=Gt(Nt(n.flags));let i=a.body[0];for(;o.nextIndex<n.tokens.length;){const f=s(i,{});f.type==="Alternative"?(a.body.push(f),i=f):i.body.push(f)}const{capturingGroups:u,hasNumberedRef:c,namedGroupsByName:p,subroutines:l}=o;if(c&&p.size&&!t.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:f}of l)if(typeof f=="number"){if(f>u.length)throw new Error("Subroutine uses a group number that's not defined");f&&(u[f-1].isSubroutined=!0)}else if(p.has(f)){if(p.get(f).length>1)throw new Error(S`Subroutine uses a duplicate group name "\g<${f}>"`);p.get(f)[0].isSubroutined=!0}else throw new Error(S`Subroutine uses a group name that's not defined "\g<${f}>"`);return a}function bt({kind:e}){return Me(se({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===S`\B`||e===S`\Y`})}function kt({raw:e},r){const t=/^\\k[<']/.test(e),n=t?e.slice(3,-1):e.slice(1),s=(o,a=!1)=>{const i=r.capturingGroups.length;let u=!1;if(o>i)if(r.skipBackrefValidation)u=!0;else throw new Error(`Not enough capturing groups defined to the left "${e}"`);return r.hasNumberedRef=!0,Ne(a?i+1-o:o,{orphan:u})};if(t){const o=new RegExp("^(?<sign>-?)0*(?<num>[1-9]\\d*)$").exec(n);if(o)return s(+o.groups.num,!!o.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${e}"`);if(!r.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${e}"`);return Ne(n)}return s(+n)}function xt(e,r,t){const{tokens:n,walk:s}=r,o=r.parent,a=o.body.at(-1),i=n[r.nextIndex];if(!t.isCheckingRangeEnd&&a&&a.type!=="CharacterClass"&&a.type!=="CharacterClassRange"&&i&&i.type!=="CharacterClassOpen"&&i.type!=="CharacterClassClose"&&i.type!=="CharacterClassIntersector"){const u=s(o,U(b({},t),{isCheckingRangeEnd:!0}));if(a.type==="Character"&&u.type==="Character")return o.body.pop(),_t(a,u);throw new Error("Invalid character class range")}return we(ne("-"))}function Et({negate:e},r,t){const{tokens:n,walk:s}=r,o=n[r.nextIndex],a=[ye()];let i=dr(o);for(;i.type!=="CharacterClassClose";){if(i.type==="CharacterClassIntersector")a.push(ye()),r.nextIndex++;else{const c=a.at(-1);c.body.push(s(c,t))}i=dr(n[r.nextIndex],o)}const u=ye({negate:e});return a.length===1?u.body=a[0].body:(u.kind="intersection",u.body=a.map(c=>c.body.length===1?c.body[0]:c)),r.nextIndex++,u}function At({kind:e,negate:r,value:t},n){const{normalizeUnknownPropertyNames:s,skipPropertyNameValidation:o,unicodePropertyMap:a}=n;if(e==="property"){const i=Ce(t);if(Se.has(i)&&!(a!=null&&a.has(i)))e="posix",t=i;else return ae(t,{negate:r,normalizeUnknownPropertyNames:s,skipPropertyNameValidation:o,unicodePropertyMap:a})}return e==="posix"?Ft(t,{negate:r}):Le(e,{negate:r})}function $t(e,r,t){const{tokens:n,capturingGroups:s,namedGroupsByName:o,skipLookbehindValidation:a,walk:i}=r,u=Pt(e),c=u.type==="AbsenceFunction",p=fr(u),l=p&&u.negate;if(u.type==="CapturingGroup"&&(s.push(u),u.name&&Xr(o,u.name,[]).push(u)),c&&t.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let f=gr(n[r.nextIndex]);for(;f.type!=="GroupClose";){if(f.type==="Alternator")u.body.push(q()),r.nextIndex++;else{const g=u.body.at(-1),d=i(g,U(b({},t),{isInAbsenceFunction:t.isInAbsenceFunction||c,isInLookbehind:t.isInLookbehind||p,isInNegLookbehind:t.isInNegLookbehind||l}));if(g.body.push(d),(p||t.isInLookbehind)&&!a){const k="Lookbehind includes a pattern not allowed by Oniguruma";if(l||t.isInNegLookbehind){if(pr(d)||d.type==="CapturingGroup")throw new Error(k)}else if(pr(d)||fr(d)&&d.negate)throw new Error(k)}}f=gr(n[r.nextIndex])}return r.nextIndex++,u}function It({kind:e,min:r,max:t},n){const s=n.parent,o=s.body.at(-1);if(!o||!yt(o))throw new Error("Quantifier requires a repeatable token");const a=ur(e,r,t,o);return s.body.pop(),a}function St({raw:e},r){const{capturingGroups:t,subroutines:n}=r;let s=e.slice(3,-1);const o=new RegExp("^(?<sign>[-+]?)0*(?<num>[1-9]\\d*)$").exec(s);if(o){const i=+o.groups.num,u=t.length;if(r.hasNumberedRef=!0,s={"":i,"+":u+i,"-":u+1-i}[o.groups.sign],s<1)throw new Error("Invalid subroutine number")}else s==="0"&&(s=0);const a=cr(s);return n.push(a),a}function vt(e,r){if(e!=="repeater")throw new Error(`Unexpected absence function kind "${e}"`);return{type:"AbsenceFunction",kind:e,body:pe(r==null?void 0:r.body)}}function q(e){return{type:"Alternative",body:lr(e==null?void 0:e.body)}}function Me(e,r){const t={type:"Assertion",kind:e};return(e==="word_boundary"||e==="text_segment_boundary")&&(t.negate=!!(r!=null&&r.negate)),t}function Ne(e,r){const t=!!(r!=null&&r.orphan);return b({type:"Backreference",ref:e},t&&{orphan:t})}function ir(e,r){const t=b({name:void 0,isSubroutined:!1},r);if(t.name!==void 0&&!Rt(t.name))throw new Error(`Group name "${t.name}" invalid in Oniguruma`);return U(b(b({type:"CapturingGroup",number:e},t.name&&{name:t.name}),t.isSubroutined&&{isSubroutined:t.isSubroutined}),{body:pe(r==null?void 0:r.body)})}function we(e,r){const t=b({useLastValid:!1},r);if(e>1114111){const n=e.toString(16);if(t.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:"Character",value:e}}function ye(e){const r=b({kind:"union",negate:!1},e);return{type:"CharacterClass",kind:r.kind,negate:r.negate,body:lr(e==null?void 0:e.body)}}function _t(e,r){if(r.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:r}}function Le(e,r){const t=!!(r!=null&&r.negate),n={type:"CharacterSet",kind:e};return(e==="digit"||e==="hex"||e==="newline"||e==="space"||e==="word")&&(n.negate=t),(e==="text_segment"||e==="newline"&&!t)&&(n.variableLength=!0),n}function Mt(e,r={}){if(e==="keep")return{type:"Directive",kind:e};if(e==="flags")return{type:"Directive",kind:e,flags:se(r.flags)};throw new Error(`Unexpected directive kind "${e}"`)}function Nt(e){return b({type:"Flags"},e)}function P(e){const r=e==null?void 0:e.atomic,t=e==null?void 0:e.flags;if(r&&t)throw new Error("Atomic group cannot have flags");return U(b(b({type:"Group"},r&&{atomic:r}),t&&{flags:t}),{body:pe(e==null?void 0:e.body)})}function K(e){const r=b({behind:!1,negate:!1},e);return{type:"LookaroundAssertion",kind:r.behind?"lookbehind":"lookahead",negate:r.negate,body:pe(e==null?void 0:e.body)}}function Lt(e,r,t){return{type:"NamedCallout",kind:e,tag:r,arguments:t}}function Ft(e,r){const t=!!(r!=null&&r.negate);if(!Se.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:t}}function ur(e,r,t,n){if(r>t)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:r,max:t,body:n}}function Gt(e,r){return{type:"Regex",body:pe(r==null?void 0:r.body),flags:e}}function cr(e){return{type:"Subroutine",ref:e}}function ae(e,r){var s;const t=b({negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null},r);let n=(s=t.unicodePropertyMap)==null?void 0:s.get(Ce(e));if(!n){if(t.normalizeUnknownPropertyNames)n=Ut(e);else if(t.unicodePropertyMap&&!t.skipPropertyNameValidation)throw new Error(S`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n!=null?n:e,negate:t.negate}}function Pt({flags:e,kind:r,name:t,negate:n,number:s}){switch(r){case"absence_repeater":return vt("repeater");case"atomic":return P({atomic:!0});case"capturing":return ir(s,{name:t});case"group":return P({flags:e});case"lookahead":case"lookbehind":return K({behind:r==="lookbehind",negate:n});default:throw new Error(`Unexpected group kind "${r}"`)}}function pe(e){if(e===void 0)e=[q()];else if(!Array.isArray(e)||!e.length||!e.every(r=>r.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}function lr(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(r=>!!r.type))throw new Error("Invalid body; expected array of nodes");return e}function pr(e){return e.type==="LookaroundAssertion"&&e.kind==="lookahead"}function fr(e){return e.type==="LookaroundAssertion"&&e.kind==="lookbehind"}function Rt(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function Ut(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}function Ce(e){return e.replace(/[- _]+/g,"").toLowerCase()}function dr(e,r){return se(e,`${(r==null?void 0:r.type)==="Character"&&r.value===93?"Empty":"Unclosed"} character class`)}function gr(e){return se(e,"Unclosed group")}function fe(e,r,t=null){function n(o,a){for(let i=0;i<o.length;i++){const u=s(o[i],a,i,o);i=Math.max(-1,i+u)}}function s(o,a=null,i=null,u=null){var v,R;let c=0,p=!1;const l={node:o,parent:a,key:i,container:u,root:e,remove(){be(u).splice(Math.max(0,ie(i)+c),1),c--,p=!0},removeAllNextSiblings(){return be(u).splice(ie(i)+1)},removeAllPrevSiblings(){const E=ie(i)+c;return c-=E,be(u).splice(0,Math.max(0,E))},replaceWith(E,M={}){const G=!!M.traverse;u?u[Math.max(0,ie(i)+c)]=E:se(a,"Can't replace root node")[i]=E,G&&s(E,a,i,u),p=!0},replaceWithMultiple(E,M={}){const G=!!M.traverse;if(be(u).splice(Math.max(0,ie(i)+c),1,...E),c+=E.length-1,G){let N=0;for(let O=0;O<E.length;O++)N+=s(E[O],a,ie(i)+O+N,u)}p=!0},skip(){p=!0}},{type:f}=o,g=r["*"],d=r[f],k=typeof g=="function"?g:g==null?void 0:g.enter,x=typeof d=="function"?d:d==null?void 0:d.enter;if(k==null||k(l,t),x==null||x(l,t),!p)switch(f){case"AbsenceFunction":case"CapturingGroup":case"Group":n(o.body,o);break;case"Alternative":case"CharacterClass":n(o.body,o);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":s(o.min,o,"min"),s(o.max,o,"max");break;case"LookaroundAssertion":n(o.body,o);break;case"Quantifier":s(o.body,o,"body");break;case"Regex":n(o.body,o),s(o.flags,o,"flags");break;default:throw new Error(`Unexpected node type "${f}"`)}return(v=d==null?void 0:d.exit)==null||v.call(d,l,t),(R=g==null?void 0:g.exit)==null||R.call(g,l,t),c}return s(e),e}function be(e){if(!Array.isArray(e))throw new Error("Container expected");return e}function ie(e){if(typeof e!="number")throw new Error("Numeric key expected");return e}const Tt=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Ot(e,r){for(let t=0;t<e.length;t++)e[t]>=r&&e[t]++}function Dt(e,r,t,n){return e.slice(0,r)+n+e.slice(r+t.length)}const L=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Fe(e,r,t,n){const s=new RegExp(String.raw`${r}|(?<$skip>\[\^?|\\?.)`,"gsu"),o=[!1];let a=0,i="";for(const u of e.matchAll(s)){const{0:c,groups:{$skip:p}}=u;if(!p&&(!n||n===L.DEFAULT==!a)){t instanceof Function?i+=t(u,{context:a?L.CHAR_CLASS:L.DEFAULT,negated:o[o.length-1]}):i+=t;continue}c[0]==="["?(a++,o.push(c[1]==="^")):c==="]"&&a&&(a--,o.pop()),i+=c}return i}function hr(e,r,t,n){Fe(e,r,t,n)}function Bt(e,r,t=0,n){if(!new RegExp(r,"su").test(e))return null;const s=new RegExp(`${r}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=t;let o=0,a;for(;a=s.exec(e);){const{0:i,groups:{$skip:u}}=a;if(!u&&(!n||n===L.DEFAULT==!o))return a;i==="["?o++:i==="]"&&o&&o--,s.lastIndex==a.index&&s.lastIndex++}return null}function ke(e,r,t){return!!Bt(e,r,0,t)}function Vt(e,r){const t=new RegExp("\\\\?.","gsu");t.lastIndex=r;let n=e.length,s=0,o=1,a;for(;a=t.exec(e);){const[i]=a;if(i==="[")s++;else if(s)i==="]"&&s--;else if(i==="(")o++;else if(i===")"&&(o--,!o)){n=a.index;break}}return e.slice(r,n)}const mr=new RegExp(String.raw`(?<noncapturingStart>${Tt})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function Ht(e,r){var f,g;const t=(f=r==null?void 0:r.hiddenCaptures)!=null?f:[];let n=(g=r==null?void 0:r.captureTransfers)!=null?g:new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:t};const s="(?>",o="(?:(?=(",a=[0],i=[];let u=0,c=0,p=NaN,l;do{l=!1;let d=0,k=0,x=!1,v;for(mr.lastIndex=Number.isNaN(p)?0:p+o.length;v=mr.exec(e);){const{0:R,index:E,groups:{capturingStart:M,noncapturingStart:G}}=v;if(R==="[")d++;else if(d)R==="]"&&d--;else if(R===s&&!x)p=E,x=!0;else if(x&&G)k++;else if(M)x?k++:(u++,a.push(u+c));else if(R===")"&&x){if(!k){c++;const N=u+c;if(e=`${e.slice(0,p)}${o}${e.slice(p+s.length,E)}))<$$${N}>)${e.slice(E+1)}`,l=!0,i.push(N),Ot(t,N),n.size){const O=new Map;n.forEach(($e,ce)=>{O.set(ce>=N?ce+1:ce,$e.map(le=>le>=N?le+1:le))}),n=O}break}k--}}}while(l);return t.push(...i),e=Fe(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:d,groups:{backrefNum:k,wrappedBackrefNum:x}})=>{if(k){const v=+k;if(v>a.length-1)throw new Error(`Backref "${d}" greater than number of captures`);return`\\${a[v]}`}return`\\${x}`},L.DEFAULT),{pattern:e,captureTransfers:n,hiddenCaptures:t}}const wr=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,Ge=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${wr})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function zt(e){if(!new RegExp(`${wr}\\+`).test(e))return{pattern:e};const r=[];let t=null,n=null,s="",o=0,a;for(Ge.lastIndex=0;a=Ge.exec(e);){const{0:i,index:u,groups:{qBase:c,qMod:p,invalidQ:l}}=a;if(i==="[")o||(n=u),o++;else if(i==="]")o?o--:n=null;else if(!o)if(p==="+"&&s&&!s.startsWith("(")){if(l)throw new Error(`Invalid quantifier "${i}"`);let f=-1;if(/^\{\d+\}$/.test(c))e=Dt(e,u+c.length,p,"");else{if(s===")"||s==="]"){const g=s===")"?t:n;if(g===null)throw new Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,g)}(?>${e.slice(g,u)}${c})${e.slice(u+i.length)}`}else e=`${e.slice(0,u-s.length)}(?>${s}${c})${e.slice(u+i.length)}`;f+=4}Ge.lastIndex+=f}else i[0]==="("?r.push(u):i===")"&&(t=r.length?r.pop():null);s=i}return{pattern:e}}const F=String.raw,Wt=F`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,Pe=F`\(\?R=(?<rDepth>[^\)]+)\)|${Wt}`,xe=F`\(\?<(?![=!])(?<captureName>[^>]+)>`,yr=F`${xe}|(?<unnamed>\()(?!\?)`,Y=new RegExp(F`${xe}|${Pe}|\(\?|\\?.`,"gsu"),Re="Cannot use multiple overlapping recursions";function jt(e,r){var g;const{hiddenCaptures:t,mode:n}=b({hiddenCaptures:[],mode:"plugin"},r);let s=(g=r==null?void 0:r.captureTransfers)!=null?g:new Map;if(!new RegExp(Pe,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:t};if(n==="plugin"&&ke(e,F`\(\?\(DEFINE\)`,L.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const o=[],a=ke(e,F`\\[1-9]`,L.DEFAULT),i=new Map,u=[];let c=!1,p=0,l=0,f;for(Y.lastIndex=0;f=Y.exec(e);){const{0:d,groups:{captureName:k,rDepth:x,gRNameOrNum:v,gRDepth:R}}=f;if(d==="[")p++;else if(p)d==="]"&&p--;else if(x){if(Cr(x),c)throw new Error(Re);if(a)throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const E=e.slice(0,f.index),M=e.slice(Y.lastIndex);if(ke(M,Pe,L.DEFAULT))throw new Error(Re);const G=+x-1;e=br(E,M,G,!1,t,o,l),s=xr(s,E,G,o.length,0,l);break}else if(v){Cr(R);let E=!1;for(const he of u)if(he.name===v||he.num===+v){if(E=!0,he.hasRecursedWithin)throw new Error(Re);break}if(!E)throw new Error(F`Recursive \g cannot be used outside the referenced group "${n==="external"?v:F`\g<${v}&R=${R}>`}"`);const M=i.get(v),G=Vt(e,M);if(a&&ke(G,F`${xe}|\((?!\?)`,L.DEFAULT))throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const N=e.slice(M,f.index),O=G.slice(N.length+d.length),$e=o.length,ce=+R-1,le=br(N,O,ce,!0,t,o,l);s=xr(s,N,ce,o.length-$e,$e,l);const Gn=e.slice(0,M),Pn=e.slice(M+G.length);e=`${Gn}${le}${Pn}`,Y.lastIndex+=le.length-d.length-N.length-O.length,u.forEach(he=>he.hasRecursedWithin=!0),c=!0}else if(k)l++,i.set(String(l),Y.lastIndex),i.set(k,Y.lastIndex),u.push({num:l,name:k});else if(d[0]==="("){const E=d==="(";E&&(l++,i.set(String(l),Y.lastIndex)),u.push(E?{num:l}:{})}else d===")"&&u.pop()}return t.push(...o),{pattern:e,captureTransfers:s,hiddenCaptures:t}}function Cr(e){const r=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(r);if(e=+e,e<2||e>100)throw new Error(r)}function br(e,r,t,n,s,o,a){const i=new Set;n&&hr(e+r,xe,({groups:{captureName:c}})=>{i.add(c)},L.DEFAULT);const u=[t,n?i:null,s,o,a];return`${e}${kr(`(?:${e}`,"forward",...u)}(?:)${kr(`${r})`,"backward",...u)}${r}`}function kr(e,r,t,n,s,o,a){const u=p=>r==="forward"?p+2:t-p+2-1;let c="";for(let p=0;p<t;p++){const l=u(p);c+=Fe(e,F`${yr}|\\k<(?<backref>[^>]+)>`,({0:f,groups:{captureName:g,unnamed:d,backref:k}})=>{if(k&&n&&!n.has(k))return f;const x=`_$${l}`;if(d||g){const v=a+o.length+1;return o.push(v),Xt(s,v),d?f:`(?<${g}${x}>`}return F`\k<${k}${x}>`},L.DEFAULT)}return c}function Xt(e,r){for(let t=0;t<e.length;t++)e[t]>=r&&e[t]++}function xr(e,r,t,n,s,o){if(e.size&&n){let a=0;hr(r,yr,()=>a++,L.DEFAULT);const i=o-a+s,u=new Map;return e.forEach((c,p)=>{const l=(n-a*t)/t,f=a*t,g=p>i+a?p+n:p,d=[];for(const k of c)if(k<=i)d.push(k);else if(k>i+a+l)d.push(k+n);else if(k<=i+a)for(let x=0;x<=t;x++)d.push(k+a*x);else for(let x=0;x<=t;x++)d.push(k+f+l*x);u.set(g,d)}),u}return e}var I=String.fromCodePoint,h=String.raw,B={flagGroups:(()=>{try{new RegExp("(?i:)")}catch(e){return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("[[]]","v")}catch(e){return!1}return!0})()};B.bugFlagVLiteralHyphenIsRange=B.unicodeSets?(()=>{try{new RegExp(h`[\d\-a]`,"v")}catch(e){return!0}return!1})():!1,B.bugNestedClassIgnoresNegation=B.unicodeSets&&new RegExp("[[^a]]","v").test("a");function Ee(e,{enable:r,disable:t}){return{dotAll:!(t!=null&&t.dotAll)&&!!(r!=null&&r.dotAll||e.dotAll),ignoreCase:!(t!=null&&t.ignoreCase)&&!!(r!=null&&r.ignoreCase||e.ignoreCase)}}function de(e,r,t){return e.has(r)||e.set(r,t),e.get(r)}function Ue(e,r){return Er[e]>=Er[r]}function Zt(e,r){if(e==null)throw new Error(r!=null?r:"Value expected");return e}var Er={ES2025:2025,ES2024:2024,ES2018:2018},Qt={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Ar(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!Qt[e.target])throw new Error(`Unexpected target "${e.target}"`);const r=U(b({accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1},e),{rules:b({allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1},e.rules)});return r.target==="auto"&&(r.target=B.flagGroups?"ES2025":B.unicodeSets?"ES2024":"ES2018"),r}var Jt="[	-\r ]",qt=new Set([I(304),I(305)]),V=h`[\p{L}\p{M}\p{N}\p{Pc}]`;function $r(e){if(qt.has(e))return[e];const r=new Set,t=e.toLowerCase(),n=t.toUpperCase(),s=en.get(t),o=Kt.get(t),a=Yt.get(t);return[...n].length===1&&r.add(n),a&&r.add(a),s&&r.add(s),r.add(t),o&&r.add(o),[...r]}var Te=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Ce(e),e])),Kt=new Map([["s",I(383)],[I(383),"s"]]),Yt=new Map([[I(223),I(7838)],[I(107),I(8490)],[I(229),I(8491)],[I(969),I(8486)]]),en=new Map([W(453),W(456),W(459),W(498),...Oe(8072,8079),...Oe(8088,8095),...Oe(8104,8111),W(8124),W(8140),W(8188)]),rn=new Map([["alnum",h`[\p{Alpha}\p{Nd}]`],["alpha",h`\p{Alpha}`],["ascii",h`\p{ASCII}`],["blank",h`[\p{Zs}\t]`],["cntrl",h`\p{Cc}`],["digit",h`\p{Nd}`],["graph",h`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",h`\p{Lower}`],["print",h`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",h`[\p{P}\p{S}]`],["space",h`\p{space}`],["upper",h`\p{Upper}`],["word",h`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",h`\p{AHex}`]]);function tn(e,r){const t=[];for(let n=e;n<=r;n++)t.push(n);return t}function W(e){const r=I(e);return[r.toLowerCase(),r]}function Oe(e,r){return tn(e,r).map(t=>W(t))}var Ir=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function nn(e,r){const t=b({accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025"},r);Sr(e);const n={accuracy:t.accuracy,asciiWordBoundaries:t.asciiWordBoundaries,avoidSubclass:t.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:Ue(t.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};fe(e,sn,n);const s={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},o={currentFlags:s,prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};fe(e,on,o);const a={groupsByName:o.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:o.reffedNodesByReferencer};return fe(e,an,a),e._originMap=o.groupOriginByCopy,e._strategy=n.strategy,e}var sn={AbsenceFunction({node:e,parent:r,replaceWith:t}){const{body:n,kind:s}=e;if(s==="repeater"){const o=P();o.body[0].body.push(K({negate:!0,body:n}),ae("Any"));const a=P();a.body[0].body.push(ur("greedy",0,1/0,o)),t($(a,r),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:r,key:t},{flagDirectivesByAlt:n}){const s=e.body.filter(o=>o.kind==="flags");for(let o=t+1;o<r.body.length;o++){const a=r.body[o];de(n,a,[]).push(...s)}},exit({node:e},{flagDirectivesByAlt:r}){var t;if((t=r.get(e))!=null&&t.length){const n=Mr(r.get(e));if(n){const s=P({flags:n});s.body[0].body=e.body,e.body=[$(s,e)]}}}},Assertion({node:e,parent:r,key:t,container:n,root:s,remove:o,replaceWith:a},i){const{kind:u,negate:c}=e,{asciiWordBoundaries:p,avoidSubclass:l,supportedGNodes:f,wordIsAscii:g}=i;if(u==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if(u==="line_end")a($(K({body:[q({body:[Me("string_end")]}),q({body:[we(10)]})]}),r));else if(u==="line_start")a($(H(h`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),r));else if(u==="search_start")if(f.has(e))s.flags.sticky=!0,o();else{const d=n[t-1];if(d&&dn(d))a($(K({negate:!0}),r));else{if(l)throw new Error(h`Uses "\G" in a way that requires a subclass`);a(j(Me("string_start"),r)),i.strategy="clip_search"}}else if(!(u==="string_end"||u==="string_start"))if(u==="string_end_newline")a($(H(h`(?=\n?\z)`),r));else if(u==="word_boundary"){if(!g&&!p){const d=`(?:(?<=${V})(?!${V})|(?<!${V})(?=${V}))`,k=`(?:(?<=${V})(?=${V})|(?<!${V})(?!${V}))`;a($(H(c?k:d),r))}}else throw new Error(`Unexpected assertion kind "${u}"`)},Backreference({node:e},{jsGroupNameMap:r}){let{ref:t}=e;typeof t=="string"&&!Be(t)&&(t=De(t,r),e.ref=t)},CapturingGroup({node:e},{jsGroupNameMap:r,subroutineRefMap:t}){let{name:n}=e;n&&!Be(n)&&(n=De(n,r),e.name=n),t.set(e.number,e),n&&t.set(n,e)},CharacterClassRange({node:e,parent:r,replaceWith:t}){if(r.kind==="intersection"){const n=ye({body:[e]});t($(n,r),{traverse:!0})}},CharacterSet({node:e,parent:r,replaceWith:t},{accuracy:n,minTargetEs2024:s,digitIsAscii:o,spaceIsAscii:a,wordIsAscii:i}){const{kind:u,negate:c,value:p}=e;if(o&&(u==="digit"||p==="digit")){t(j(Le("digit",{negate:c}),r));return}if(a&&(u==="space"||p==="space")){t($(Ve(H(Jt),c),r));return}if(i&&(u==="word"||p==="word")){t(j(Le("word",{negate:c}),r));return}if(u==="any")t(j(ae("Any"),r));else if(u==="digit")t(j(ae("Nd",{negate:c}),r));else if(u!=="dot")if(u==="text_segment"){if(n==="strict")throw new Error(h`Use of "\X" requires non-strict accuracy`);const l="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",f=h`\p{RI}{2}|${l}(?:\u200D${l})*`;t($(H(h`(?>\r\n|${s?h`\p{RGI_Emoji}`:f}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),r))}else if(u==="hex")t(j(ae("AHex",{negate:c}),r));else if(u==="newline")t($(H(c?`[^
]`:`(?>\r
?|[
\v\f\x85\u2028\u2029])`),r));else if(u==="posix")if(!s&&(p==="graph"||p==="print")){if(n==="strict")throw new Error(`POSIX class "${p}" requires min target ES2024 or non-strict accuracy`);let l={graph:"!-~",print:" -~"}[p];c&&(l=`\0-${I(l.codePointAt(0)-1)}${I(l.codePointAt(2)+1)}-\u{10FFFF}`),t($(H(`[${l}]`),r))}else t($(Ve(H(rn.get(p)),c),r));else if(u==="property")Te.has(Ce(p))||(e.key="sc");else if(u==="space")t(j(ae("space",{negate:c}),r));else if(u==="word")t($(Ve(H(V),c),r));else throw new Error(`Unexpected character set kind "${u}"`)},Directive({node:e,parent:r,root:t,remove:n,replaceWith:s,removeAllPrevSiblings:o,removeAllNextSiblings:a}){const{kind:i,flags:u}=e;if(i==="flags")if(!u.enable&&!u.disable)n();else{const c=P({flags:u});c.body[0].body=a(),s($(c,r),{traverse:!0})}else if(i==="keep"){const c=t.body[0],l=t.body.length===1&&or(c,{type:"Group"})&&c.body[0].body.length===1?c.body[0]:t;if(r.parent!==l||l.body.length>1)throw new Error(h`Uses "\K" in a way that's unsupported`);const f=K({behind:!0});f.body[0].body=o(),s($(f,r))}else throw new Error(`Unexpected directive kind "${i}"`)},Flags({node:e,parent:r}){var t;if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if(e.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(n=>delete e[n]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:(t=e.sticky)!=null?t:!1}),r.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:r,disable:t}=e.flags;r!=null&&r.extended&&delete r.extended,t!=null&&t.extended&&delete t.extended,r!=null&&r.dotAll&&(t!=null&&t.dotAll)&&delete r.dotAll,r!=null&&r.ignoreCase&&(t!=null&&t.ignoreCase)&&delete r.ignoreCase,r&&!Object.keys(r).length&&delete e.flags.enable,t&&!Object.keys(t).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},r){const{kind:t}=e;t==="lookbehind"&&(r.passedLookbehind=!0)},NamedCallout({node:e,parent:r,replaceWith:t}){const{kind:n}=e;if(n==="fail")t($(K({negate:!0}),r));else throw new Error(`Unsupported named callout "(*${n.toUpperCase()}"`)},Quantifier({node:e}){if(e.body.type==="Quantifier"){const r=P();r.body[0].body.push(e.body),e.body=$(r,e)}},Regex:{enter({node:e},{supportedGNodes:r}){const t=[];let n=!1,s=!1;for(const o of e.body)if(o.body.length===1&&o.body[0].kind==="search_start")o.body.pop();else{const a=Lr(o.body);a?(n=!0,Array.isArray(a)?t.push(...a):t.push(a)):s=!0}n&&!s&&t.forEach(o=>r.add(o))},exit(e,{accuracy:r,passedLookbehind:t,strategy:n}){if(r==="strict"&&t&&n)throw new Error(h`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:r}){let{ref:t}=e;typeof t=="string"&&!Be(t)&&(t=De(t,r),e.ref=t)}},on={Backreference({node:e},{multiplexCapturesToLeftByRef:r,reffedNodesByReferencer:t}){const{orphan:n,ref:s}=e;n||t.set(e,[...r.get(s).map(({node:o})=>o)])},CapturingGroup:{enter({node:e,parent:r,replaceWith:t,skip:n},{groupOriginByCopy:s,groupsByName:o,multiplexCapturesToLeftByRef:a,openRefs:i,reffedNodesByReferencer:u}){var l;const c=s.get(e);if(c&&i.has(e.number)){const f=j(_r(e.number),r);u.set(f,i.get(e.number)),t(f);return}i.set(e.number,e),a.set(e.number,[]),e.name&&de(a,e.name,[]);const p=a.get((l=e.name)!=null?l:e.number);for(let f=0;f<p.length;f++){const g=p[f];if(c===g.node||c&&c===g.origin||e===g.origin){p.splice(f,1);break}}if(a.get(e.number).push({node:e,origin:c}),e.name&&a.get(e.name).push({node:e,origin:c}),e.name){const f=de(o,e.name,new Map);let g=!1;if(c)g=!0;else for(const d of f.values())if(!d.hasDuplicateNameToRemove){g=!0;break}o.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:g})}},exit({node:e},{openRefs:r}){r.delete(e.number)}},Group:{enter({node:e},r){r.prevFlags=r.currentFlags,e.flags&&(r.currentFlags=Ee(r.currentFlags,e.flags))},exit(e,r){r.currentFlags=r.prevFlags}},Subroutine({node:e,parent:r,replaceWith:t},n){const{isRecursive:s,ref:o}=e;if(s){let p=r;for(;(p=p.parent)&&!(p.type==="CapturingGroup"&&(p.name===o||p.number===o)););n.reffedNodesByReferencer.set(e,p);return}const a=n.subroutineRefMap.get(o),i=o===0,u=i?_r(0):vr(a,n.groupOriginByCopy,null);let c=u;if(!i){const p=Mr(ln(a,f=>f.type==="Group"&&!!f.flags)),l=p?Ee(n.globalFlags,p):n.globalFlags;un(l,n.currentFlags)||(c=P({flags:pn(l)}),c.body[0].body.push(u))}t($(c,r),{traverse:!i})}},an={Backreference({node:e,parent:r,replaceWith:t},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}const o=n.reffedNodesByReferencer.get(e).filter(a=>cn(a,e));if(!o.length)t($(K({negate:!0}),r));else if(o.length>1){const a=P({atomic:!0,body:o.reverse().map(i=>q({body:[Ne(i.number)]}))});t($(a,r))}else e.ref=o[0].number},CapturingGroup({node:e},r){e.number=++r.numCapturesToLeft,e.name&&r.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},r){const t=Math.max(r.highestOrphanBackref-r.numCapturesToLeft,0);for(let n=0;n<t;n++){const s=ir();e.body.at(-1).body.push(s)}}},Subroutine({node:e},r){!e.isRecursive||e.ref===0||(e.ref=r.reffedNodesByReferencer.get(e).number)}};function Sr(e){fe(e,{"*"({node:r,parent:t}){r.parent=t}})}function un(e,r){return e.dotAll===r.dotAll&&e.ignoreCase===r.ignoreCase}function cn(e,r){let t=r;do{if(t.type==="Regex")return!1;if(t.type==="Alternative")continue;if(t===e)return!1;const n=Nr(t.parent);for(const s of n){if(s===t)break;if(s===e||Fr(s,e))return!0}}while(t=t.parent);throw new Error("Unexpected path")}function vr(e,r,t,n){var o;const s=Array.isArray(e)?[]:{};for(const[a,i]of Object.entries(e))a==="parent"?s.parent=Array.isArray(t)?n:t:i&&typeof i=="object"?s[a]=vr(i,r,s,t):(a==="type"&&i==="CapturingGroup"&&r.set(s,(o=r.get(e))!=null?o:e),s[a]=i);return s}function _r(e){const r=cr(e);return r.isRecursive=!0,r}function ln(e,r){const t=[];for(;e=e.parent;)(!r||r(e))&&t.push(e);return t}function De(e,r){if(r.has(e))return r.get(e);const t=`$${r.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return r.set(e,t),t}function Mr(e){const r=["dotAll","ignoreCase"],t={enable:{},disable:{}};return e.forEach(({flags:n})=>{r.forEach(s=>{var o,a;(o=n.enable)!=null&&o[s]&&(delete t.disable[s],t.enable[s]=!0),(a=n.disable)!=null&&a[s]&&(t.disable[s]=!0)})}),Object.keys(t.enable).length||delete t.enable,Object.keys(t.disable).length||delete t.disable,t.enable||t.disable?t:null}function pn({dotAll:e,ignoreCase:r}){const t={};return(e||r)&&(t.enable={},e&&(t.enable.dotAll=!0),r&&(t.enable.ignoreCase=!0)),(!e||!r)&&(t.disable={},!e&&(t.disable.dotAll=!0),!r&&(t.disable.ignoreCase=!0)),t}function Nr(e){if(!e)throw new Error("Node expected");const{body:r}=e;return Array.isArray(r)?r:r?[r]:null}function Lr(e){const r=e.find(t=>t.kind==="search_start"||gn(t,{negate:!1})||!fn(t));if(!r)return null;if(r.kind==="search_start")return r;if(r.type==="LookaroundAssertion")return r.body[0].body[0];if(r.type==="CapturingGroup"||r.type==="Group"){const t=[];for(const n of r.body){const s=Lr(n.body);if(!s)return null;Array.isArray(s)?t.push(...s):t.push(s)}return t}return null}function Fr(e,r){var n;const t=(n=Nr(e))!=null?n:[];for(const s of t)if(s===r||Fr(s,r))return!0;return!1}function fn({type:e}){return e==="Assertion"||e==="Directive"||e==="LookaroundAssertion"}function dn(e){const r=["Character","CharacterClass","CharacterSet"];return r.includes(e.type)||e.type==="Quantifier"&&e.min&&r.includes(e.body.type)}function gn(e,r){const t=b({negate:null},r);return e.type==="LookaroundAssertion"&&(t.negate===null||e.negate===t.negate)&&e.body.length===1&&or(e.body[0],{type:"Assertion",kind:"search_start"})}function Be(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function H(e,r){const n=ar(e,U(b({},r),{unicodePropertyMap:Te})).body;return n.length>1||n[0].body.length>1?P({body:n}):n[0].body[0]}function Ve(e,r){return e.negate=r,e}function j(e,r){return e.parent=r,e}function $(e,r){return Sr(e),e.parent=r,e}function hn(e,r){const t=Ar(r),n=Ue(t.target,"ES2024"),s=Ue(t.target,"ES2025"),o=t.rules.recursionLimit;if(!Number.isInteger(o)||o<2||o>20)throw new Error("Invalid recursionLimit; use 2-20");let a=null,i=null;if(!s){const g=[e.flags.ignoreCase];fe(e,mn,{getCurrentModI:()=>g.at(-1),popModI(){g.pop()},pushModI(d){g.push(d)},setHasCasedChar(){g.at(-1)?a=!0:i=!0}})}const u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||a)&&!i)};let c=e;const p={accuracy:t.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:o,useAppliedIgnoreCase:!!(!s&&a&&i),useFlagMods:s,useFlagV:n,verbose:t.verbose};function l(g){return p.lastNode=c,c=g,Zt(wn[g.type],`Unexpected node type "${g.type}"`)(g,p,l)}const f={pattern:e.body.map(l).join("|"),flags:l(e.flags),options:b({},e.options)};return n||(delete f.options.force.v,f.options.disable.v=!0,f.options.unicodeSetsPlugin=null),f._captureTransfers=new Map,f._hiddenCaptures=[],p.captureMap.forEach((g,d)=>{g.hidden&&f._hiddenCaptures.push(d),g.transferTo&&de(f._captureTransfers,g.transferTo,[]).push(d)}),f}var mn={"*":{enter({node:e},r){if(Rr(e)){const t=r.getCurrentModI();r.pushModI(e.flags?Ee({ignoreCase:t},e.flags).ignoreCase:t)}},exit({node:e},r){Rr(e)&&r.popModI()}},Backreference(e,r){r.setHasCasedChar()},Character({node:e},r){He(I(e.value))&&r.setHasCasedChar()},CharacterClassRange({node:e,skip:r},t){r(),Pr(e,{firstOnly:!0}).length&&t.setHasCasedChar()},CharacterSet({node:e},r){e.kind==="property"&&Ir.has(e.value)&&r.setHasCasedChar()}},wn={Alternative({body:e},r,t){return e.map(t).join("")},Assertion({kind:e,negate:r}){if(e==="string_end")return"$";if(e==="string_start")return"^";if(e==="word_boundary")return r?h`\B`:h`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},r){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!r.useFlagMods&&r.accuracy==="strict"&&r.currentFlags.ignoreCase&&!r.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,r,t){const{body:n,name:s,number:o}=e,a={ignoreCase:r.currentFlags.ignoreCase},i=r.originMap.get(e);return i&&(a.hidden=!0,o>i.number&&(a.transferTo=i.number)),r.captureMap.set(o,a),`(${s?`?<${s}>`:""}${n.map(t).join("|")})`},Character({value:e},r){const t=I(e),n=ue(e,{escDigit:r.lastNode.type==="Backreference",inCharClass:r.inCharClass,useFlagV:r.useFlagV});if(n!==t)return n;if(r.useAppliedIgnoreCase&&r.currentFlags.ignoreCase&&He(t)){const s=$r(t);return r.inCharClass?s.join(""):s.length>1?`[${s.join("")}]`:s[0]}return t},CharacterClass(e,r,t){const{kind:n,negate:s,parent:o}=e;let{body:a}=e;if(n==="intersection"&&!r.useFlagV)throw new Error("Use of character class intersection requires min target ES2024");B.bugFlagVLiteralHyphenIsRange&&r.useFlagV&&a.some(Ur)&&(a=[we(45),...a.filter(c=>!Ur(c))]);const i=()=>`[${s?"^":""}${a.map(t).join(n==="intersection"?"&&":"")}]`;if(!r.inCharClass){if((!r.useFlagV||B.bugNestedClassIgnoresNegation)&&!s){const p=a.filter(l=>l.type==="CharacterClass"&&l.kind==="union"&&l.negate);if(p.length){const l=P(),f=l.body[0];return l.parent=o,f.parent=l,a=a.filter(g=>!p.includes(g)),e.body=a,a.length?(e.parent=f,f.body.push(e)):l.body.pop(),p.forEach(g=>{const d=q({body:[g]});g.parent=d,d.parent=l,l.body.push(d)}),t(l)}}r.inCharClass=!0;const c=i();return r.inCharClass=!1,c}const u=a[0];if(n==="union"&&!s&&u&&((!r.useFlagV||!r.verbose)&&o.kind==="union"&&!(B.bugFlagVLiteralHyphenIsRange&&r.useFlagV)||!r.verbose&&o.kind==="intersection"&&a.length===1&&u.type!=="CharacterClassRange"))return a.map(t).join("");if(!r.useFlagV&&o.type==="CharacterClass")throw new Error("Uses nested character class in a way that requires min target ES2024");return i()},CharacterClassRange(e,r){const t=e.min.value,n=e.max.value,s={escDigit:!1,inCharClass:!0,useFlagV:r.useFlagV},o=ue(t,s),a=ue(n,s),i=new Set;if(r.useAppliedIgnoreCase&&r.currentFlags.ignoreCase){const u=Pr(e);xn(u).forEach(p=>{i.add(Array.isArray(p)?`${ue(p[0],s)}-${ue(p[1],s)}`:ue(p,s))})}return`${o}-${a}${[...i].join("")}`},CharacterSet({kind:e,negate:r,value:t,key:n},s){if(e==="dot")return s.currentFlags.dotAll?s.appliedGlobalFlags.dotAll||s.useFlagMods?".":"[^]":h`[^\n]`;if(e==="digit")return r?h`\D`:h`\d`;if(e==="property"){if(s.useAppliedIgnoreCase&&s.currentFlags.ignoreCase&&Ir.has(t))throw new Error(`Unicode property "${t}" can't be case-insensitive when other chars have specific case`);return`${r?h`\P`:h`\p`}{${n?`${n}=`:""}${t}}`}if(e==="word")return r?h`\W`:h`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags(e,r){return(r.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")},Group({atomic:e,body:r,flags:t,parent:n},s,o){const a=s.currentFlags;t&&(s.currentFlags=Ee(a,t));const i=r.map(o).join("|"),u=!s.verbose&&r.length===1&&n.type!=="Quantifier"&&!e&&(!s.useFlagMods||!t)?i:`(?${En(e,t,s.useFlagMods)}${i})`;return s.currentFlags=a,u},LookaroundAssertion({body:e,kind:r,negate:t},n,s){return`(?${`${r==="lookahead"?"":"<"}${t?"!":"="}`}${e.map(s).join("|")})`},Quantifier(e,r,t){return t(e.body)+An(e)},Subroutine({isRecursive:e,ref:r},t){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const n=t.recursionLimit;return r===0?`(?R=${n})`:h`\g<${r}&R=${n}>`}},yn=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Cn=new Set(["-","\\","]","^","["]),bn=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),Gr=new Map([[9,h`\t`],[10,h`\n`],[11,h`\v`],[12,h`\f`],[13,h`\r`],[8232,h`\u2028`],[8233,h`\u2029`],[65279,h`\uFEFF`]]),kn=new RegExp("^\\p{Cased}$","u");function He(e){return kn.test(e)}function Pr(e,r){const t=!!(r!=null&&r.firstOnly),n=e.min.value,s=e.max.value,o=[];if(n<65&&(s===65535||s>=131071)||n===65536&&s>=131071)return o;for(let a=n;a<=s;a++){const i=I(a);if(!He(i))continue;const u=$r(i).filter(c=>{const p=c.codePointAt(0);return p<n||p>s});if(u.length&&(o.push(...u),t))break}return o}function ue(e,{escDigit:r,inCharClass:t,useFlagV:n}){if(Gr.has(e))return Gr.get(e);if(e<32||e>126&&e<160||e>262143||r&&$n(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const s=t?n?bn:Cn:yn,o=I(e);return(s.has(o)?"\\":"")+o}function xn(e){const r=e.map(s=>s.codePointAt(0)).sort((s,o)=>s-o),t=[];let n=null;for(let s=0;s<r.length;s++)r[s+1]===r[s]+1?n!=null||(n=r[s]):n===null?t.push(r[s]):(t.push([n,r[s]]),n=null);return t}function En(e,r,t){if(e)return">";let n="";if(r&&t){const{enable:s,disable:o}=r;n=(s!=null&&s.ignoreCase?"i":"")+(s!=null&&s.dotAll?"s":"")+(o?"-":"")+(o!=null&&o.ignoreCase?"i":"")+(o!=null&&o.dotAll?"s":"")}return`${n}:`}function An({kind:e,max:r,min:t}){let n;return!t&&r===1?n="?":!t&&r===1/0?n="*":t===1&&r===1/0?n="+":t===r?n=`{${t}}`:n=`{${t},${r===1/0?"":r}}`,n+{greedy:"",lazy:"?",possessive:"+"}[e]}function Rr({type:e}){return e==="CapturingGroup"||e==="Group"||e==="LookaroundAssertion"}function $n(e){return e>47&&e<58}function Ur({type:e,value:r}){return e==="Character"&&r===45}var In=(Q=class extends RegExp{constructor(t,n,s){var r=(...Vn)=>(super(...Vn),te(this,ge),te(this,X,new Map),te(this,z,null),te(this,ee),te(this,Z,null),te(this,re,null),We(this,"rawOptions",{}),this);const o=!!(s!=null&&s.lazyCompile);if(t instanceof RegExp){if(s)throw new Error("Cannot provide options when copying a regexp");const a=t;r(a,n),T(this,ee,a.source),a instanceof Q&&(T(this,X,_(a,X)),T(this,Z,_(a,Z)),T(this,re,_(a,re)),this.rawOptions=a.rawOptions)}else{const a=b({hiddenCaptures:[],strategy:null,transfers:[]},s);r(o?"":t,n),T(this,ee,t),T(this,X,vn(a.hiddenCaptures,a.transfers)),T(this,re,a.strategy),this.rawOptions=s!=null?s:{}}o||T(this,z,this)}get source(){return _(this,ee)||"(?:)"}exec(t){if(!_(this,z)){const o=this.rawOptions,{lazyCompile:a}=o,i=Wr(o,["lazyCompile"]);T(this,z,new Q(_(this,ee),this.flags,i))}const n=this.global||this.sticky,s=this.lastIndex;if(_(this,re)==="clip_search"&&n&&s){this.lastIndex=0;const a=Xe(this,ge,Ze).call(this,t.slice(s));return a&&(Sn(a,s,t,this.hasIndices),this.lastIndex+=s),a}return Xe(this,ge,Ze).call(this,t)}},X=new WeakMap,z=new WeakMap,ee=new WeakMap,Z=new WeakMap,re=new WeakMap,ge=new WeakSet,Ze=function(t){var i;_(this,z).lastIndex=this.lastIndex;const n=jr(Q.prototype,this,"exec").call(_(this,z),t);if(this.lastIndex=_(this,z).lastIndex,!n||!_(this,X).size)return n;const s=[...n];n.length=1;let o;this.hasIndices&&(o=[...n.indices],n.indices.length=1);const a=[0];for(let u=1;u<s.length;u++){const{hidden:c,transferTo:p}=(i=_(this,X).get(u))!=null?i:{};if(c?a.push(null):(a.push(n.length),n.push(s[u]),this.hasIndices&&n.indices.push(o[u])),p&&s[u]!==void 0){const l=a[p];if(!l)throw new Error(`Invalid capture transfer to "${l}"`);if(n[l]=s[u],this.hasIndices&&(n.indices[l]=o[u]),n.groups){_(this,Z)||T(this,Z,_n(this.source));const f=_(this,Z).get(p);f&&(n.groups[f]=s[u],this.hasIndices&&(n.indices.groups[f]=o[u]))}}}return n},Q);function Sn(e,r,t,n){if(e.index+=r,e.input=t,n){const s=e.indices;for(let a=0;a<s.length;a++){const i=s[a];i&&(s[a]=[i[0]+r,i[1]+r])}const o=s.groups;o&&Object.keys(o).forEach(a=>{const i=o[a];i&&(o[a]=[i[0]+r,i[1]+r])})}}function vn(e,r){const t=new Map;for(const n of e)t.set(n,{hidden:!0});for(const[n,s]of r)for(const o of s)de(t,o,{}).transferTo=n;return t}function _n(e){const r=new RegExp("(?<capture>\\((?:\\?<(?![=!])(?<name>[^>]+)>|(?!\\?)))|\\\\?.","gsu"),t=new Map;let n=0,s=0,o;for(;o=r.exec(e);){const{0:a,groups:{capture:i,name:u}}=o;a==="["?n++:n?a==="]"&&n--:i&&(s++,u&&t.set(s,u))}return t}function Mn(e,r){const t=Nn(e,r);return t.options?new In(t.pattern,t.flags,t.options):new RegExp(t.pattern,t.flags)}function Nn(e,r){const t=Ar(r),n=ar(e,{flags:t.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:t.rules.captureGroup,singleline:t.rules.singleline},skipBackrefValidation:t.rules.allowOrphanBackrefs,unicodePropertyMap:Te}),s=nn(n,{accuracy:t.accuracy,asciiWordBoundaries:t.rules.asciiWordBoundaries,avoidSubclass:t.avoidSubclass,bestEffortTarget:t.target}),o=hn(s,t),a=jt(o.pattern,{captureTransfers:o._captureTransfers,hiddenCaptures:o._hiddenCaptures,mode:"external"}),i=zt(a.pattern),u=Ht(i.pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),c={pattern:u.pattern,flags:`${t.hasIndices?"d":""}${t.global?"g":""}${o.flags}${o.options.disable.v?"u":"v"}`};if(t.avoidSubclass){if(t.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const p=u.hiddenCaptures.sort((d,k)=>d-k),l=Array.from(u.captureTransfers),f=s._strategy,g=c.pattern.length>=t.lazyCompileLength;(p.length||l.length||f||g)&&(c.options=b(b(b(b({},p.length&&{hiddenCaptures:p}),l.length&&{transfers:l}),f&&{strategy:f}),g&&{lazyCompile:g}))}return c}const Tr=4294967295;class Ln{constructor(r,t={}){We(this,"regexps");this.patterns=r,this.options=t;const{forgiving:n=!1,cache:s,regexConstructor:o}=t;if(!o)throw new Error("Option `regexConstructor` is not provided");this.regexps=r.map(a=>{if(typeof a!="string")return a;const i=s==null?void 0:s.get(a);if(i){if(i instanceof RegExp)return i;if(n)return null;throw i}try{const u=o(a);return s==null||s.set(a,u),u}catch(u){if(s==null||s.set(a,u),n)return null;throw u}})}findNextMatchSync(r,t,n){const s=typeof r=="string"?r:r.content,o=[];function a(i,u,c=0){return{index:i,captureIndices:u.indices.map(p=>p==null?{start:Tr,end:Tr,length:0}:{start:p[0]+c,end:p[1]+c,length:p[1]-p[0]})}}for(let i=0;i<this.regexps.length;i++){const u=this.regexps[i];if(u)try{u.lastIndex=t;const c=u.exec(s);if(!c)continue;if(c.index===t)return a(i,c,0);o.push([i,c,0])}catch(c){if(this.options.forgiving)continue;throw c}}if(o.length){const i=Math.min(...o.map(u=>u[1].index));for(const[u,c,p]of o)if(c.index===i)return a(u,c,p)}return null}}function Or(e,r){return Mn(e,b({global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0}},r))}function Fn(e={}){const r=Object.assign({target:"auto",cache:new Map},e);return r.regexConstructor||(r.regexConstructor=t=>Or(t,{target:r.target})),{createScanner(t){return new Ln(t,r)},createString(t){return{content:t}}}}var Dr=y(79927),C=y(19172),Ae=y(35013),Br=y(63787)}}]);
}());