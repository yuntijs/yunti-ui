!(function(){"use strict";var N=Object.defineProperty;var $=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var T=(k,n,e)=>n in k?N(k,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):k[n]=e,P=(k,n)=>{for(var e in n||(n={}))Y.call(n,e)&&T(k,e,n[e]);if($)for(var e of $(n))G.call(n,e)&&T(k,e,n[e]);return k};var A=(k,n,e)=>new Promise((y,B)=>{var u=p=>{try{c(e.next(p))}catch(v){B(v)}},r=p=>{try{c(e.throw(p))}catch(v){B(v)}},c=p=>p.done?y(p.value):Promise.resolve(p.value).then(u,r);c((e=e.apply(k,n)).next())});(self.webpackChunk_yuntijs_ui=self.webpackChunk_yuntijs_ui||[]).push([[9096],{91626:function(k,n,e){e.d(n,{A:function(){return B}});var y=e(99177);function B(u,r){var c,p,v;u.accDescr&&((c=r.setAccDescription)==null||c.call(r,u.accDescr)),u.accTitle&&((p=r.setAccTitle)==null||p.call(r,u.accTitle)),u.title&&((v=r.setDiagramTitle)==null||v.call(r,u.title))}(0,y.eW)(B,"populateCommonDb")},29096:function(k,n,e){var x;e.d(n,{diagram:function(){return I}});var y=e(20857),B=e(91626),u=e(68072),r=e(28081),c=e(99177),p=e(7853),v=r.vZ.packet,b=(x=class{constructor(){this.packet=[],this.setAccTitle=r.GN,this.getAccTitle=r.eu,this.setDiagramTitle=r.g2,this.getDiagramTitle=r.Kr,this.getAccDescription=r.Mx,this.setAccDescription=r.U$}getConfig(){const t=(0,u.Rb)(P(P({},v),(0,r.iE)().packet));return t.showBits&&(t.paddingY+=10),t}getPacket(){return this.packet}pushWord(t){t.length>0&&this.packet.push(t)}clear(){(0,r.ZH)(),this.packet=[]}},(0,c.eW)(x,"PacketDB"),x),M=1e4,O=(0,c.eW)((a,t)=>{(0,B.A)(a,t);let l=-1,i=[],_=1;const{bitsPerRow:f}=t.getConfig();for(let{start:o,end:s,bits:h,label:g}of a.blocks){if(o!==void 0&&s!==void 0&&s<o)throw new Error(`Packet block ${o} - ${s} is invalid. End must be greater than start.`);if(o!=null||(o=l+1),o!==l+1)throw new Error(`Packet block ${o} - ${s!=null?s:o} is not contiguous. It should start from ${l+1}.`);if(h===0)throw new Error(`Packet block ${o} is invalid. Cannot have a zero bit field.`);for(s!=null||(s=o+(h!=null?h:1)-1),h!=null||(h=s-o+1),l=s,c.cM.debug(`Packet block ${o} - ${l} with label ${g}`);i.length<=f+1&&t.getPacket().length<M;){const[m,d]=S({start:o,end:s,bits:h,label:g},_,f);if(i.push(m),m.end+1===_*f&&(t.pushWord(i),i=[],_++),!d)break;({start:o,end:s,bits:h,label:g}=d)}}t.pushWord(i)},"populate"),S=(0,c.eW)((a,t,l)=>{if(a.start===void 0)throw new Error("start should have been set during first phase");if(a.end===void 0)throw new Error("end should have been set during first phase");if(a.start>a.end)throw new Error(`Block start ${a.start} is greater than block end ${a.end}.`);if(a.end+1<=t*l)return[a,void 0];const i=t*l-1,_=t*l;return[{start:a.start,end:i,label:a.label,bits:i-a.start},{start:_,end:a.end,label:a.label,bits:a.end-_}]},"getNextFittingBlock"),W={parser:{yy:void 0},parse:(0,c.eW)(a=>A(this,null,function*(){var i;const t=yield(0,p.Qc)("packet",a),l=(i=W.parser)==null?void 0:i.yy;if(!(l instanceof b))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");c.cM.debug(t),O(t,l)}),"parse")},F=(0,c.eW)((a,t,l,i)=>{const _=i.db,f=_.getConfig(),{rowHeight:o,paddingY:s,bitWidth:h,bitsPerRow:g}=f,m=_.getPacket(),d=_.getDiagramTitle(),w=o+s,E=w*(m.length+1)-(d?0:o),D=h*g+2,C=(0,y.P)(t);C.attr("viewbox",`0 0 ${D} ${E}`),(0,r.v2)(C,E,D,f.useMaxWidth);for(const[K,L]of m.entries())R(C,L,K,f);C.append("text").text(d).attr("x",D/2).attr("y",E-w/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),R=(0,c.eW)((a,t,l,{rowHeight:i,paddingX:_,paddingY:f,bitWidth:o,bitsPerRow:s,showBits:h})=>{const g=a.append("g"),m=l*(i+f)+f;for(const d of t){const w=d.start%s*o+1,E=(d.end-d.start+1)*o-_;if(g.append("rect").attr("x",w).attr("y",m).attr("width",E).attr("height",i).attr("class","packetBlock"),g.append("text").attr("x",w+E/2).attr("y",m+i/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!h)continue;const D=d.end===d.start,C=m-2;g.append("text").attr("x",w+(D?E/2:0)).attr("y",C).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",D?"middle":"start").text(d.start),D||g.append("text").attr("x",w+E).attr("y",C).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),z={draw:F},U={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},j=(0,c.eW)(({packet:a}={})=>{const t=(0,u.Rb)(U,a);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),I={parser:W,get db(){return new b},renderer:z,styles:j}}}]);
}());