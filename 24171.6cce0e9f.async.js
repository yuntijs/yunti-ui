!(function(){var ye=Object.defineProperty,Ee=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var de=(Gt,j,at)=>j in Gt?ye(Gt,j,{enumerable:!0,configurable:!0,writable:!0,value:at}):Gt[j]=at,ie=(Gt,j)=>{for(var at in j||(j={}))Te.call(j,at)&&de(Gt,at,j[at]);if(ve)for(var at of ve(j))Ne.call(j,at)&&de(Gt,at,j[at]);return Gt},ae=(Gt,j)=>Ee(Gt,me(j));var re=(Gt,j,at)=>new Promise((F,E)=>{var s=o=>{try{r(at.next(o))}catch(h){E(h)}},n=o=>{try{r(at.throw(o))}catch(h){E(h)}},r=o=>o.done?F(o.value):Promise.resolve(o.value).then(s,n);r((at=at.apply(Gt,j)).next())});(self.webpackChunk_yuntijs_ui=self.webpackChunk_yuntijs_ui||[]).push([[24171],{21553:function(Gt,j,at){(function(E,s){Gt.exports=s(at(20378))})(this,function(F){return(()=>{"use strict";var E={45:(o,h,e)=>{var p={};p.layoutBase=e(551),p.CoSEConstants=e(806),p.CoSEEdge=e(767),p.CoSEGraph=e(880),p.CoSEGraphManager=e(578),p.CoSELayout=e(765),p.CoSENode=e(991),p.ConstraintHandler=e(902),o.exports=p},806:(o,h,e)=>{var p=e(551).FDLayoutConstants;function t(){}for(var i in p)t[i]=p[i];t.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,t.DEFAULT_RADIAL_SEPARATION=p.DEFAULT_EDGE_LENGTH,t.DEFAULT_COMPONENT_SEPERATION=60,t.TILE=!0,t.TILING_PADDING_VERTICAL=10,t.TILING_PADDING_HORIZONTAL=10,t.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,t.ENFORCE_CONSTRAINTS=!0,t.APPLY_LAYOUT=!0,t.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,t.TREE_REDUCTION_ON_INCREMENTAL=!0,t.PURE_INCREMENTAL=t.DEFAULT_INCREMENTAL,o.exports=t},767:(o,h,e)=>{var p=e(551).FDLayoutEdge;function t(l,g,u){p.call(this,l,g,u)}t.prototype=Object.create(p.prototype);for(var i in p)t[i]=p[i];o.exports=t},880:(o,h,e)=>{var p=e(551).LGraph;function t(l,g,u){p.call(this,l,g,u)}t.prototype=Object.create(p.prototype);for(var i in p)t[i]=p[i];o.exports=t},578:(o,h,e)=>{var p=e(551).LGraphManager;function t(l){p.call(this,l)}t.prototype=Object.create(p.prototype);for(var i in p)t[i]=p[i];o.exports=t},765:(o,h,e)=>{var p=e(551).FDLayout,t=e(578),i=e(880),l=e(991),g=e(767),u=e(806),T=e(902),c=e(551).FDLayoutConstants,A=e(551).LayoutConstants,N=e(551).Point,L=e(551).PointD,I=e(551).DimensionD,Q=e(551).Layout,R=e(551).Integer,et=e(551).IGeometry,ut=e(551).LGraph,lt=e(551).Transform,mt=e(551).LinkedList;function b(){p.call(this),this.toBeTiled={},this.constraints={}}b.prototype=Object.create(p.prototype);for(var Z in p)b[Z]=p[Z];b.prototype.newGraphManager=function(){var a=new t(this);return this.graphManager=a,a},b.prototype.newGraph=function(a){return new i(null,this.graphManager,a)},b.prototype.newNode=function(a){return new l(this.graphManager,a)},b.prototype.newEdge=function(a){return new g(null,null,a)},b.prototype.initParameters=function(){p.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},b.prototype.initSpringEmbedder=function(){p.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},b.prototype.layout=function(){var a=A.DEFAULT_CREATE_BENDS_AS_NEEDED;return a&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},b.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(u.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(P){return v.has(P)});this.graphManager.setAllNodesToApplyGravitation(f)}}else{var a=this.getFlatForest();if(a.length>0)this.positionNodesRadially(a);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(m){return v.has(m)});this.graphManager.setAllNodesToApplyGravitation(f),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),u.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},b.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var a=new Set(this.getAllNodes()),v=this.nodesWithGravity.filter(function(y){return a.has(y)});this.graphManager.setAllNodesToApplyGravitation(v),this.graphManager.updateBounds(),this.updateGrid(),u.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),u.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var f=!this.isTreeGrowing&&!this.isGrowthFinished,m=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(f,m),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},b.prototype.getPositionsData=function(){for(var a=this.graphManager.getAllNodes(),v={},f=0;f<a.length;f++){var m=a[f].rect,y=a[f].id;v[y]={id:y,x:m.getCenterX(),y:m.getCenterY(),w:m.width,h:m.height}}return v},b.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var a=!1;if(c.ANIMATE==="during")this.emit("layoutstarted");else{for(;!a;)a=this.tick();this.graphManager.updateBounds()}},b.prototype.moveNodes=function(){for(var a=this.getAllNodes(),v,f=0;f<a.length;f++)v=a[f],v.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var f=0;f<a.length;f++)v=a[f],v.move()},b.prototype.initConstraintVariables=function(){var a=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var v=this.graphManager.getAllNodes(),f=0;f<v.length;f++){var m=v[f];this.idToNodeMap.set(m.id,m)}var y=function O(z){for(var Y=z.getChild().getNodes(),nt,pt=0,_=0;_<Y.length;_++)nt=Y[_],nt.getChild()==null?a.fixedNodeSet.has(nt.id)&&(pt+=100):pt+=O(nt);return pt};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(Y){a.fixedNodeSet.add(Y.nodeId)});for(var v=this.graphManager.getAllNodes(),m,f=0;f<v.length;f++)if(m=v[f],m.getChild()!=null){var P=y(m);P>0&&(m.fixedNodeWeight=P)}}if(this.constraints.relativePlacementConstraint){var D=new Map,H=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(O){a.fixedNodesOnHorizontal.add(O),a.fixedNodesOnVertical.add(O)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var X=this.constraints.alignmentConstraint.vertical,f=0;f<X.length;f++)this.dummyToNodeForVerticalAlignment.set("dummy"+f,[]),X[f].forEach(function(z){D.set(z,"dummy"+f),a.dummyToNodeForVerticalAlignment.get("dummy"+f).push(z),a.fixedNodeSet.has(z)&&a.fixedNodesOnHorizontal.add("dummy"+f)});if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,f=0;f<G.length;f++)this.dummyToNodeForHorizontalAlignment.set("dummy"+f,[]),G[f].forEach(function(z){H.set(z,"dummy"+f),a.dummyToNodeForHorizontalAlignment.get("dummy"+f).push(z),a.fixedNodeSet.has(z)&&a.fixedNodesOnVertical.add("dummy"+f)})}if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(O){var z,Y,nt;for(nt=O.length-1;nt>=2*O.length/3;nt--)z=Math.floor(Math.random()*(nt+1)),Y=O[nt],O[nt]=O[z],O[z]=Y;return O},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(O){if(O.left){var z=D.has(O.left)?D.get(O.left):O.left,Y=D.has(O.right)?D.get(O.right):O.right;a.nodesInRelativeHorizontal.includes(z)||(a.nodesInRelativeHorizontal.push(z),a.nodeToRelativeConstraintMapHorizontal.set(z,[]),a.dummyToNodeForVerticalAlignment.has(z)?a.nodeToTempPositionMapHorizontal.set(z,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(z)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(z,a.idToNodeMap.get(z).getCenterX())),a.nodesInRelativeHorizontal.includes(Y)||(a.nodesInRelativeHorizontal.push(Y),a.nodeToRelativeConstraintMapHorizontal.set(Y,[]),a.dummyToNodeForVerticalAlignment.has(Y)?a.nodeToTempPositionMapHorizontal.set(Y,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(Y,a.idToNodeMap.get(Y).getCenterX())),a.nodeToRelativeConstraintMapHorizontal.get(z).push({right:Y,gap:O.gap}),a.nodeToRelativeConstraintMapHorizontal.get(Y).push({left:z,gap:O.gap})}else{var nt=H.has(O.top)?H.get(O.top):O.top,pt=H.has(O.bottom)?H.get(O.bottom):O.bottom;a.nodesInRelativeVertical.includes(nt)||(a.nodesInRelativeVertical.push(nt),a.nodeToRelativeConstraintMapVertical.set(nt,[]),a.dummyToNodeForHorizontalAlignment.has(nt)?a.nodeToTempPositionMapVertical.set(nt,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(nt)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(nt,a.idToNodeMap.get(nt).getCenterY())),a.nodesInRelativeVertical.includes(pt)||(a.nodesInRelativeVertical.push(pt),a.nodeToRelativeConstraintMapVertical.set(pt,[]),a.dummyToNodeForHorizontalAlignment.has(pt)?a.nodeToTempPositionMapVertical.set(pt,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(pt)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(pt,a.idToNodeMap.get(pt).getCenterY())),a.nodeToRelativeConstraintMapVertical.get(nt).push({bottom:pt,gap:O.gap}),a.nodeToRelativeConstraintMapVertical.get(pt).push({top:nt,gap:O.gap})}});else{var J=new Map,st=new Map;this.constraints.relativePlacementConstraint.forEach(function(O){if(O.left){var z=D.has(O.left)?D.get(O.left):O.left,Y=D.has(O.right)?D.get(O.right):O.right;J.has(z)?J.get(z).push(Y):J.set(z,[Y]),J.has(Y)?J.get(Y).push(z):J.set(Y,[z])}else{var nt=H.has(O.top)?H.get(O.top):O.top,pt=H.has(O.bottom)?H.get(O.bottom):O.bottom;st.has(nt)?st.get(nt).push(pt):st.set(nt,[pt]),st.has(pt)?st.get(pt).push(nt):st.set(pt,[nt])}});var B=function(z,Y){var nt=[],pt=[],_=new mt,Pt=new Set,Tt=0;return z.forEach(function(Vt,Ut){if(!Pt.has(Ut)){nt[Tt]=[],pt[Tt]=!1;var gt=Ut;for(_.push(gt),Pt.add(gt),nt[Tt].push(gt);_.length!=0;){gt=_.shift(),Y.has(gt)&&(pt[Tt]=!0);var ft=z.get(gt);ft.forEach(function(wt){Pt.has(wt)||(_.push(wt),Pt.add(wt),nt[Tt].push(wt))})}Tt++}}),{components:nt,isFixed:pt}},ht=B(J,a.fixedNodesOnHorizontal);this.componentsOnHorizontal=ht.components,this.fixedComponentsOnHorizontal=ht.isFixed;var K=B(st,a.fixedNodesOnVertical);this.componentsOnVertical=K.components,this.fixedComponentsOnVertical=K.isFixed}}},b.prototype.updateDisplacements=function(){var a=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(K){var O=a.idToNodeMap.get(K.nodeId);O.displacementX=0,O.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var v=this.constraints.alignmentConstraint.vertical,f=0;f<v.length;f++){for(var m=0,y=0;y<v[f].length;y++){if(this.fixedNodeSet.has(v[f][y])){m=0;break}m+=this.idToNodeMap.get(v[f][y]).displacementX}for(var P=m/v[f].length,y=0;y<v[f].length;y++)this.idToNodeMap.get(v[f][y]).displacementX=P}if(this.constraints.alignmentConstraint.horizontal)for(var D=this.constraints.alignmentConstraint.horizontal,f=0;f<D.length;f++){for(var H=0,y=0;y<D[f].length;y++){if(this.fixedNodeSet.has(D[f][y])){H=0;break}H+=this.idToNodeMap.get(D[f][y]).displacementY}for(var X=H/D[f].length,y=0;y<D[f].length;y++)this.idToNodeMap.get(D[f][y]).displacementY=X}}if(this.constraints.relativePlacementConstraint)if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(K){if(!a.fixedNodesOnHorizontal.has(K)){var O=0;a.dummyToNodeForVerticalAlignment.has(K)?O=a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(K)[0]).displacementX:O=a.idToNodeMap.get(K).displacementX,a.nodeToRelativeConstraintMapHorizontal.get(K).forEach(function(z){if(z.right){var Y=a.nodeToTempPositionMapHorizontal.get(z.right)-a.nodeToTempPositionMapHorizontal.get(K)-O;Y<z.gap&&(O-=z.gap-Y)}else{var Y=a.nodeToTempPositionMapHorizontal.get(K)-a.nodeToTempPositionMapHorizontal.get(z.left)+O;Y<z.gap&&(O+=z.gap-Y)}}),a.nodeToTempPositionMapHorizontal.set(K,a.nodeToTempPositionMapHorizontal.get(K)+O),a.dummyToNodeForVerticalAlignment.has(K)?a.dummyToNodeForVerticalAlignment.get(K).forEach(function(z){a.idToNodeMap.get(z).displacementX=O}):a.idToNodeMap.get(K).displacementX=O}}),this.nodesInRelativeVertical.forEach(function(K){if(!a.fixedNodesOnHorizontal.has(K)){var O=0;a.dummyToNodeForHorizontalAlignment.has(K)?O=a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(K)[0]).displacementY:O=a.idToNodeMap.get(K).displacementY,a.nodeToRelativeConstraintMapVertical.get(K).forEach(function(z){if(z.bottom){var Y=a.nodeToTempPositionMapVertical.get(z.bottom)-a.nodeToTempPositionMapVertical.get(K)-O;Y<z.gap&&(O-=z.gap-Y)}else{var Y=a.nodeToTempPositionMapVertical.get(K)-a.nodeToTempPositionMapVertical.get(z.top)+O;Y<z.gap&&(O+=z.gap-Y)}}),a.nodeToTempPositionMapVertical.set(K,a.nodeToTempPositionMapVertical.get(K)+O),a.dummyToNodeForHorizontalAlignment.has(K)?a.dummyToNodeForHorizontalAlignment.get(K).forEach(function(z){a.idToNodeMap.get(z).displacementY=O}):a.idToNodeMap.get(K).displacementY=O}});else{for(var f=0;f<this.componentsOnHorizontal.length;f++){var G=this.componentsOnHorizontal[f];if(this.fixedComponentsOnHorizontal[f])for(var y=0;y<G.length;y++)this.dummyToNodeForVerticalAlignment.has(G[y])?this.dummyToNodeForVerticalAlignment.get(G[y]).forEach(function(z){a.idToNodeMap.get(z).displacementX=0}):this.idToNodeMap.get(G[y]).displacementX=0;else{for(var J=0,st=0,y=0;y<G.length;y++)if(this.dummyToNodeForVerticalAlignment.has(G[y])){var B=this.dummyToNodeForVerticalAlignment.get(G[y]);J+=B.length*this.idToNodeMap.get(B[0]).displacementX,st+=B.length}else J+=this.idToNodeMap.get(G[y]).displacementX,st++;for(var ht=J/st,y=0;y<G.length;y++)this.dummyToNodeForVerticalAlignment.has(G[y])?this.dummyToNodeForVerticalAlignment.get(G[y]).forEach(function(z){a.idToNodeMap.get(z).displacementX=ht}):this.idToNodeMap.get(G[y]).displacementX=ht}}for(var f=0;f<this.componentsOnVertical.length;f++){var G=this.componentsOnVertical[f];if(this.fixedComponentsOnVertical[f])for(var y=0;y<G.length;y++)this.dummyToNodeForHorizontalAlignment.has(G[y])?this.dummyToNodeForHorizontalAlignment.get(G[y]).forEach(function(Y){a.idToNodeMap.get(Y).displacementY=0}):this.idToNodeMap.get(G[y]).displacementY=0;else{for(var J=0,st=0,y=0;y<G.length;y++)if(this.dummyToNodeForHorizontalAlignment.has(G[y])){var B=this.dummyToNodeForHorizontalAlignment.get(G[y]);J+=B.length*this.idToNodeMap.get(B[0]).displacementY,st+=B.length}else J+=this.idToNodeMap.get(G[y]).displacementY,st++;for(var ht=J/st,y=0;y<G.length;y++)this.dummyToNodeForHorizontalAlignment.has(G[y])?this.dummyToNodeForHorizontalAlignment.get(G[y]).forEach(function(_){a.idToNodeMap.get(_).displacementY=ht}):this.idToNodeMap.get(G[y]).displacementY=ht}}}},b.prototype.calculateNodesToApplyGravitationTo=function(){var a=[],v,f=this.graphManager.getGraphs(),m=f.length,y;for(y=0;y<m;y++)v=f[y],v.updateConnected(),v.isConnected||(a=a.concat(v.getNodes()));return a},b.prototype.createBendpoints=function(){var a=[];a=a.concat(this.graphManager.getAllEdges());var v=new Set,f;for(f=0;f<a.length;f++){var m=a[f];if(!v.has(m)){var y=m.getSource(),P=m.getTarget();if(y==P)m.getBendpoints().push(new L),m.getBendpoints().push(new L),this.createDummyNodesForBendpoints(m),v.add(m);else{var D=[];if(D=D.concat(y.getEdgeListToNode(P)),D=D.concat(P.getEdgeListToNode(y)),!v.has(D[0])){if(D.length>1){var H;for(H=0;H<D.length;H++){var X=D[H];X.getBendpoints().push(new L),this.createDummyNodesForBendpoints(X)}}D.forEach(function(G){v.add(G)})}}}if(v.size==a.length)break}},b.prototype.positionNodesRadially=function(a){for(var v=new N(0,0),f=Math.ceil(Math.sqrt(a.length)),m=0,y=0,P=0,D=new L(0,0),H=0;H<a.length;H++){H%f==0&&(P=0,y=m,H!=0&&(y+=u.DEFAULT_COMPONENT_SEPERATION),m=0);var X=a[H],G=Q.findCenterOfTree(X);v.x=P,v.y=y,D=b.radialLayout(X,G,v),D.y>m&&(m=Math.floor(D.y)),P=Math.floor(D.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new L(A.WORLD_CENTER_X-D.x/2,A.WORLD_CENTER_Y-D.y/2))},b.radialLayout=function(a,v,f){var m=Math.max(this.maxDiagonalInTree(a),u.DEFAULT_RADIAL_SEPARATION);b.branchRadialLayout(v,null,0,359,0,m);var y=ut.calculateBounds(a),P=new lt;P.setDeviceOrgX(y.getMinX()),P.setDeviceOrgY(y.getMinY()),P.setWorldOrgX(f.x),P.setWorldOrgY(f.y);for(var D=0;D<a.length;D++){var H=a[D];H.transform(P)}var X=new L(y.getMaxX(),y.getMaxY());return P.inverseTransformPoint(X)},b.branchRadialLayout=function(a,v,f,m,y,P){var D=(m-f+1)/2;D<0&&(D+=180);var H=(D+f)%360,X=H*et.TWO_PI/360,G=Math.cos(X),J=y*Math.cos(X),st=y*Math.sin(X);a.setCenter(J,st);var B=[];B=B.concat(a.getEdges());var ht=B.length;v!=null&&ht--;for(var K=0,O=B.length,z,Y=a.getEdgesBetween(v);Y.length>1;){var nt=Y[0];Y.splice(0,1);var pt=B.indexOf(nt);pt>=0&&B.splice(pt,1),O--,ht--}v!=null?z=(B.indexOf(Y[0])+1)%O:z=0;for(var _=Math.abs(m-f)/ht,Pt=z;K!=ht;Pt=++Pt%O){var Tt=B[Pt].getOtherEnd(a);if(Tt!=v){var Vt=(f+K*_)%360,Ut=(Vt+_)%360;b.branchRadialLayout(Tt,a,Vt,Ut,y+P,P),K++}}},b.maxDiagonalInTree=function(a){for(var v=R.MIN_VALUE,f=0;f<a.length;f++){var m=a[f],y=m.getDiagonal();y>v&&(v=y)}return v},b.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},b.prototype.groupZeroDegreeMembers=function(){var a=this,v={};this.memberGroups={},this.idToDummyNode={};for(var f=[],m=this.graphManager.getAllNodes(),y=0;y<m.length;y++){var P=m[y],D=P.getParent();this.getNodeDegreeWithChildren(P)===0&&(D.id==null||!this.getToBeTiled(D))&&f.push(P)}for(var y=0;y<f.length;y++){var P=f[y],H=P.getParent().id;typeof v[H]=="undefined"&&(v[H]=[]),v[H]=v[H].concat(P)}Object.keys(v).forEach(function(X){if(v[X].length>1){var G="DummyCompound_"+X;a.memberGroups[G]=v[X];var J=v[X][0].getParent(),st=new l(a.graphManager);st.id=G,st.paddingLeft=J.paddingLeft||0,st.paddingRight=J.paddingRight||0,st.paddingBottom=J.paddingBottom||0,st.paddingTop=J.paddingTop||0,a.idToDummyNode[G]=st;var B=a.getGraphManager().add(a.newGraph(),st),ht=J.getChild();ht.add(st);for(var K=0;K<v[X].length;K++){var O=v[X][K];ht.remove(O),B.add(O)}}})},b.prototype.clearCompounds=function(){var a={},v={};this.performDFSOnCompounds();for(var f=0;f<this.compoundOrder.length;f++)v[this.compoundOrder[f].id]=this.compoundOrder[f],a[this.compoundOrder[f].id]=[].concat(this.compoundOrder[f].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[f].getChild()),this.compoundOrder[f].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(a,v)},b.prototype.clearZeroDegreeMembers=function(){var a=this,v=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(f){var m=a.idToDummyNode[f];if(v[f]=a.tileNodes(a.memberGroups[f],m.paddingLeft+m.paddingRight),m.rect.width=v[f].width,m.rect.height=v[f].height,m.setCenter(v[f].centerX,v[f].centerY),m.labelMarginLeft=0,m.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var y=m.rect.width,P=m.rect.height;m.labelWidth&&(m.labelPosHorizontal=="left"?(m.rect.x-=m.labelWidth,m.setWidth(y+m.labelWidth),m.labelMarginLeft=m.labelWidth):m.labelPosHorizontal=="center"&&m.labelWidth>y?(m.rect.x-=(m.labelWidth-y)/2,m.setWidth(m.labelWidth),m.labelMarginLeft=(m.labelWidth-y)/2):m.labelPosHorizontal=="right"&&m.setWidth(y+m.labelWidth)),m.labelHeight&&(m.labelPosVertical=="top"?(m.rect.y-=m.labelHeight,m.setHeight(P+m.labelHeight),m.labelMarginTop=m.labelHeight):m.labelPosVertical=="center"&&m.labelHeight>P?(m.rect.y-=(m.labelHeight-P)/2,m.setHeight(m.labelHeight),m.labelMarginTop=(m.labelHeight-P)/2):m.labelPosVertical=="bottom"&&m.setHeight(P+m.labelHeight))}})},b.prototype.repopulateCompounds=function(){for(var a=this.compoundOrder.length-1;a>=0;a--){var v=this.compoundOrder[a],f=v.id,m=v.paddingLeft,y=v.paddingTop,P=v.labelMarginLeft,D=v.labelMarginTop;this.adjustLocations(this.tiledMemberPack[f],v.rect.x,v.rect.y,m,y,P,D)}},b.prototype.repopulateZeroDegreeMembers=function(){var a=this,v=this.tiledZeroDegreePack;Object.keys(v).forEach(function(f){var m=a.idToDummyNode[f],y=m.paddingLeft,P=m.paddingTop,D=m.labelMarginLeft,H=m.labelMarginTop;a.adjustLocations(v[f],m.rect.x,m.rect.y,y,P,D,H)})},b.prototype.getToBeTiled=function(a){var v=a.id;if(this.toBeTiled[v]!=null)return this.toBeTiled[v];var f=a.getChild();if(f==null)return this.toBeTiled[v]=!1,!1;for(var m=f.getNodes(),y=0;y<m.length;y++){var P=m[y];if(this.getNodeDegree(P)>0)return this.toBeTiled[v]=!1,!1;if(P.getChild()==null){this.toBeTiled[P.id]=!1;continue}if(!this.getToBeTiled(P))return this.toBeTiled[v]=!1,!1}return this.toBeTiled[v]=!0,!0},b.prototype.getNodeDegree=function(a){for(var v=a.id,f=a.getEdges(),m=0,y=0;y<f.length;y++){var P=f[y];P.getSource().id!==P.getTarget().id&&(m=m+1)}return m},b.prototype.getNodeDegreeWithChildren=function(a){var v=this.getNodeDegree(a);if(a.getChild()==null)return v;for(var f=a.getChild().getNodes(),m=0;m<f.length;m++){var y=f[m];v+=this.getNodeDegreeWithChildren(y)}return v},b.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},b.prototype.fillCompexOrderByDFS=function(a){for(var v=0;v<a.length;v++){var f=a[v];f.getChild()!=null&&this.fillCompexOrderByDFS(f.getChild().getNodes()),this.getToBeTiled(f)&&this.compoundOrder.push(f)}},b.prototype.adjustLocations=function(a,v,f,m,y,P,D){v+=m+P,f+=y+D;for(var H=v,X=0;X<a.rows.length;X++){var G=a.rows[X];v=H;for(var J=0,st=0;st<G.length;st++){var B=G[st];B.rect.x=v,B.rect.y=f,v+=B.rect.width+a.horizontalPadding,B.rect.height>J&&(J=B.rect.height)}f+=J+a.verticalPadding}},b.prototype.tileCompoundMembers=function(a,v){var f=this;this.tiledMemberPack=[],Object.keys(a).forEach(function(m){var y=v[m];if(f.tiledMemberPack[m]=f.tileNodes(a[m],y.paddingLeft+y.paddingRight),y.rect.width=f.tiledMemberPack[m].width,y.rect.height=f.tiledMemberPack[m].height,y.setCenter(f.tiledMemberPack[m].centerX,f.tiledMemberPack[m].centerY),y.labelMarginLeft=0,y.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var P=y.rect.width,D=y.rect.height;y.labelWidth&&(y.labelPosHorizontal=="left"?(y.rect.x-=y.labelWidth,y.setWidth(P+y.labelWidth),y.labelMarginLeft=y.labelWidth):y.labelPosHorizontal=="center"&&y.labelWidth>P?(y.rect.x-=(y.labelWidth-P)/2,y.setWidth(y.labelWidth),y.labelMarginLeft=(y.labelWidth-P)/2):y.labelPosHorizontal=="right"&&y.setWidth(P+y.labelWidth)),y.labelHeight&&(y.labelPosVertical=="top"?(y.rect.y-=y.labelHeight,y.setHeight(D+y.labelHeight),y.labelMarginTop=y.labelHeight):y.labelPosVertical=="center"&&y.labelHeight>D?(y.rect.y-=(y.labelHeight-D)/2,y.setHeight(y.labelHeight),y.labelMarginTop=(y.labelHeight-D)/2):y.labelPosVertical=="bottom"&&y.setHeight(D+y.labelHeight))}})},b.prototype.tileNodes=function(a,v){var f=this.tileNodesByFavoringDim(a,v,!0),m=this.tileNodesByFavoringDim(a,v,!1),y=this.getOrgRatio(f),P=this.getOrgRatio(m),D;return P<y?D=m:D=f,D},b.prototype.getOrgRatio=function(a){var v=a.width,f=a.height,m=v/f;return m<1&&(m=1/m),m},b.prototype.calcIdealRowWidth=function(a,v){var f=u.TILING_PADDING_VERTICAL,m=u.TILING_PADDING_HORIZONTAL,y=a.length,P=0,D=0,H=0;a.forEach(function(K){P+=K.getWidth(),D+=K.getHeight(),K.getWidth()>H&&(H=K.getWidth())});var X=P/y,G=D/y,J=Math.pow(f-m,2)+4*(X+m)*(G+f)*y,st=(m-f+Math.sqrt(J))/(2*(X+m)),B;v?(B=Math.ceil(st),B==st&&B++):B=Math.floor(st);var ht=B*(X+m)-m;return H>ht&&(ht=H),ht+=m*2,ht},b.prototype.tileNodesByFavoringDim=function(a,v,f){var m=u.TILING_PADDING_VERTICAL,y=u.TILING_PADDING_HORIZONTAL,P=u.TILING_COMPARE_BY,D={rows:[],rowWidth:[],rowHeight:[],width:0,height:v,verticalPadding:m,horizontalPadding:y,centerX:0,centerY:0};P&&(D.idealRowWidth=this.calcIdealRowWidth(a,f));var H=function(O){return O.rect.width*O.rect.height},X=function(O,z){return H(z)-H(O)};a.sort(function(K,O){var z=X;return D.idealRowWidth?(z=P,z(K.id,O.id)):z(K,O)});for(var G=0,J=0,st=0;st<a.length;st++){var B=a[st];G+=B.getCenterX(),J+=B.getCenterY()}D.centerX=G/a.length,D.centerY=J/a.length;for(var st=0;st<a.length;st++){var B=a[st];if(D.rows.length==0)this.insertNodeToRow(D,B,0,v);else if(this.canAddHorizontal(D,B.rect.width,B.rect.height)){var ht=D.rows.length-1;D.idealRowWidth||(ht=this.getShortestRowIndex(D)),this.insertNodeToRow(D,B,ht,v)}else this.insertNodeToRow(D,B,D.rows.length,v);this.shiftToLastRow(D)}return D},b.prototype.insertNodeToRow=function(a,v,f,m){var y=m;if(f==a.rows.length){var P=[];a.rows.push(P),a.rowWidth.push(y),a.rowHeight.push(0)}var D=a.rowWidth[f]+v.rect.width;a.rows[f].length>0&&(D+=a.horizontalPadding),a.rowWidth[f]=D,a.width<D&&(a.width=D);var H=v.rect.height;f>0&&(H+=a.verticalPadding);var X=0;H>a.rowHeight[f]&&(X=a.rowHeight[f],a.rowHeight[f]=H,X=a.rowHeight[f]-X),a.height+=X,a.rows[f].push(v)},b.prototype.getShortestRowIndex=function(a){for(var v=-1,f=Number.MAX_VALUE,m=0;m<a.rows.length;m++)a.rowWidth[m]<f&&(v=m,f=a.rowWidth[m]);return v},b.prototype.getLongestRowIndex=function(a){for(var v=-1,f=Number.MIN_VALUE,m=0;m<a.rows.length;m++)a.rowWidth[m]>f&&(v=m,f=a.rowWidth[m]);return v},b.prototype.canAddHorizontal=function(a,v,f){if(a.idealRowWidth){var m=a.rows.length-1,y=a.rowWidth[m];return y+v+a.horizontalPadding<=a.idealRowWidth}var P=this.getShortestRowIndex(a);if(P<0)return!0;var D=a.rowWidth[P];if(D+a.horizontalPadding+v<=a.width)return!0;var H=0;a.rowHeight[P]<f&&P>0&&(H=f+a.verticalPadding-a.rowHeight[P]);var X;a.width-D>=v+a.horizontalPadding?X=(a.height+H)/(D+v+a.horizontalPadding):X=(a.height+H)/a.width,H=f+a.verticalPadding;var G;return a.width<v?G=(a.height+H)/v:G=(a.height+H)/a.width,G<1&&(G=1/G),X<1&&(X=1/X),X<G},b.prototype.shiftToLastRow=function(a){var v=this.getLongestRowIndex(a),f=a.rowWidth.length-1,m=a.rows[v],y=m[m.length-1],P=y.width+a.horizontalPadding;if(a.width-a.rowWidth[f]>P&&v!=f){m.splice(-1,1),a.rows[f].push(y),a.rowWidth[v]=a.rowWidth[v]-P,a.rowWidth[f]=a.rowWidth[f]+P,a.width=a.rowWidth[instance.getLongestRowIndex(a)];for(var D=Number.MIN_VALUE,H=0;H<m.length;H++)m[H].height>D&&(D=m[H].height);v>0&&(D+=a.verticalPadding);var X=a.rowHeight[v]+a.rowHeight[f];a.rowHeight[v]=D,a.rowHeight[f]<y.height+a.verticalPadding&&(a.rowHeight[f]=y.height+a.verticalPadding);var G=a.rowHeight[v]+a.rowHeight[f];a.height+=G-X,this.shiftToLastRow(a)}},b.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},b.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},b.prototype.reduceTrees=function(){for(var a=[],v=!0,f;v;){var m=this.graphManager.getAllNodes(),y=[];v=!1;for(var P=0;P<m.length;P++)if(f=m[P],f.getEdges().length==1&&!f.getEdges()[0].isInterGraph&&f.getChild()==null){if(u.PURE_INCREMENTAL){var D=f.getEdges()[0].getOtherEnd(f),H=new I(f.getCenterX()-D.getCenterX(),f.getCenterY()-D.getCenterY());y.push([f,f.getEdges()[0],f.getOwner(),H])}else y.push([f,f.getEdges()[0],f.getOwner()]);v=!0}if(v==!0){for(var X=[],G=0;G<y.length;G++)y[G][0].getEdges().length==1&&(X.push(y[G]),y[G][0].getOwner().remove(y[G][0]));a.push(X),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=a},b.prototype.growTree=function(a){for(var v=a.length,f=a[v-1],m,y=0;y<f.length;y++)m=f[y],this.findPlaceforPrunedNode(m),m[2].add(m[0]),m[2].add(m[1],m[1].source,m[1].target);a.splice(a.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},b.prototype.findPlaceforPrunedNode=function(a){var v,f,m=a[0];if(m==a[1].source?f=a[1].target:f=a[1].source,u.PURE_INCREMENTAL)m.setCenter(f.getCenterX()+a[3].getWidth(),f.getCenterY()+a[3].getHeight());else{var y=f.startX,P=f.finishX,D=f.startY,H=f.finishY,X=0,G=0,J=0,st=0,B=[X,J,G,st];if(D>0)for(var ht=y;ht<=P;ht++)B[0]+=this.grid[ht][D-1].length+this.grid[ht][D].length-1;if(P<this.grid.length-1)for(var ht=D;ht<=H;ht++)B[1]+=this.grid[P+1][ht].length+this.grid[P][ht].length-1;if(H<this.grid[0].length-1)for(var ht=y;ht<=P;ht++)B[2]+=this.grid[ht][H+1].length+this.grid[ht][H].length-1;if(y>0)for(var ht=D;ht<=H;ht++)B[3]+=this.grid[y-1][ht].length+this.grid[y][ht].length-1;for(var K=R.MAX_VALUE,O,z,Y=0;Y<B.length;Y++)B[Y]<K?(K=B[Y],O=1,z=Y):B[Y]==K&&O++;if(O==3&&K==0)B[0]==0&&B[1]==0&&B[2]==0?v=1:B[0]==0&&B[1]==0&&B[3]==0?v=0:B[0]==0&&B[2]==0&&B[3]==0?v=3:B[1]==0&&B[2]==0&&B[3]==0&&(v=2);else if(O==2&&K==0){var nt=Math.floor(Math.random()*2);B[0]==0&&B[1]==0?nt==0?v=0:v=1:B[0]==0&&B[2]==0?nt==0?v=0:v=2:B[0]==0&&B[3]==0?nt==0?v=0:v=3:B[1]==0&&B[2]==0?nt==0?v=1:v=2:B[1]==0&&B[3]==0?nt==0?v=1:v=3:nt==0?v=2:v=3}else if(O==4&&K==0){var nt=Math.floor(Math.random()*4);v=nt}else v=z;v==0?m.setCenter(f.getCenterX(),f.getCenterY()-f.getHeight()/2-c.DEFAULT_EDGE_LENGTH-m.getHeight()/2):v==1?m.setCenter(f.getCenterX()+f.getWidth()/2+c.DEFAULT_EDGE_LENGTH+m.getWidth()/2,f.getCenterY()):v==2?m.setCenter(f.getCenterX(),f.getCenterY()+f.getHeight()/2+c.DEFAULT_EDGE_LENGTH+m.getHeight()/2):m.setCenter(f.getCenterX()-f.getWidth()/2-c.DEFAULT_EDGE_LENGTH-m.getWidth()/2,f.getCenterY())}},o.exports=b},991:(o,h,e)=>{var p=e(551).FDLayoutNode,t=e(551).IMath;function i(g,u,T,c){p.call(this,g,u,T,c)}i.prototype=Object.create(p.prototype);for(var l in p)i[l]=p[l];i.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*t.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*t.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},i.prototype.propogateDisplacementToChildren=function(g,u){for(var T=this.getChild().getNodes(),c,A=0;A<T.length;A++)c=T[A],c.getChild()==null?(c.displacementX+=g,c.displacementY+=u):c.propogateDisplacementToChildren(g,u)},i.prototype.move=function(){var g=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},i.prototype.setPred1=function(g){this.pred1=g},i.prototype.getPred1=function(){return pred1},i.prototype.getPred2=function(){return pred2},i.prototype.setNext=function(g){this.next=g},i.prototype.getNext=function(){return next},i.prototype.setProcessed=function(g){this.processed=g},i.prototype.isProcessed=function(){return processed},o.exports=i},902:(o,h,e)=>{function p(T){if(Array.isArray(T)){for(var c=0,A=Array(T.length);c<T.length;c++)A[c]=T[c];return A}else return Array.from(T)}var t=e(806),i=e(551).LinkedList,l=e(551).Matrix,g=e(551).SVD;function u(){}u.handleConstraints=function(T){var c={};c.fixedNodeConstraint=T.constraints.fixedNodeConstraint,c.alignmentConstraint=T.constraints.alignmentConstraint,c.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var A=new Map,N=new Map,L=[],I=[],Q=T.getAllNodes(),R=0,et=0;et<Q.length;et++){var ut=Q[et];ut.getChild()==null&&(N.set(ut.id,R++),L.push(ut.getCenterX()),I.push(ut.getCenterY()),A.set(ut.id,ut))}c.relativePlacementConstraint&&c.relativePlacementConstraint.forEach(function($){!$.gap&&$.gap!=0&&($.left?$.gap=t.DEFAULT_EDGE_LENGTH+A.get($.left).getWidth()/2+A.get($.right).getWidth()/2:$.gap=t.DEFAULT_EDGE_LENGTH+A.get($.top).getHeight()/2+A.get($.bottom).getHeight()/2)});var lt=function(d,M){return{x:d.x-M.x,y:d.y-M.y}},mt=function(d){var M=0,C=0;return d.forEach(function(x){M+=L[N.get(x)],C+=I[N.get(x)]}),{x:M/d.size,y:C/d.size}},b=function(d,M,C,x,w){function q(k,tt){var vt=new Set(k),ot=!0,ct=!1,Dt=void 0;try{for(var dt=tt[Symbol.iterator](),Et;!(ot=(Et=dt.next()).done);ot=!0){var St=Et.value;vt.add(St)}}catch(xt){ct=!0,Dt=xt}finally{try{!ot&&dt.return&&dt.return()}finally{if(ct)throw Dt}}return vt}var W=new Map;d.forEach(function(k,tt){W.set(tt,0)}),d.forEach(function(k,tt){k.forEach(function(vt){W.set(vt.id,W.get(vt.id)+1)})});var S=new Map,U=new Map,V=new i;W.forEach(function(k,tt){k==0?(V.push(tt),C||(M=="horizontal"?S.set(tt,N.has(tt)?L[N.get(tt)]:x.get(tt)):S.set(tt,N.has(tt)?I[N.get(tt)]:x.get(tt)))):S.set(tt,Number.NEGATIVE_INFINITY),C&&U.set(tt,new Set([tt]))}),C&&w.forEach(function(k){var tt=[];if(k.forEach(function(ct){C.has(ct)&&tt.push(ct)}),tt.length>0){var vt=0;tt.forEach(function(ct){M=="horizontal"?(S.set(ct,N.has(ct)?L[N.get(ct)]:x.get(ct)),vt+=S.get(ct)):(S.set(ct,N.has(ct)?I[N.get(ct)]:x.get(ct)),vt+=S.get(ct))}),vt=vt/tt.length,k.forEach(function(ct){C.has(ct)||S.set(ct,vt)})}else{var ot=0;k.forEach(function(ct){M=="horizontal"?ot+=N.has(ct)?L[N.get(ct)]:x.get(ct):ot+=N.has(ct)?I[N.get(ct)]:x.get(ct)}),ot=ot/k.length,k.forEach(function(ct){S.set(ct,ot)})}});for(var rt=function(){var tt=V.shift(),vt=d.get(tt);vt.forEach(function(ot){if(S.get(ot.id)<S.get(tt)+ot.gap)if(C&&C.has(ot.id)){var ct=void 0;if(M=="horizontal"?ct=N.has(ot.id)?L[N.get(ot.id)]:x.get(ot.id):ct=N.has(ot.id)?I[N.get(ot.id)]:x.get(ot.id),S.set(ot.id,ct),ct<S.get(tt)+ot.gap){var Dt=S.get(tt)+ot.gap-ct;U.get(tt).forEach(function(dt){S.set(dt,S.get(dt)-Dt)})}}else S.set(ot.id,S.get(tt)+ot.gap);W.set(ot.id,W.get(ot.id)-1),W.get(ot.id)==0&&V.push(ot.id),C&&U.set(ot.id,q(U.get(tt),U.get(ot.id)))})};V.length!=0;)rt();if(C){var it=new Set;d.forEach(function(k,tt){k.length==0&&it.add(tt)});var yt=[];U.forEach(function(k,tt){if(it.has(tt)){var vt=!1,ot=!0,ct=!1,Dt=void 0;try{for(var dt=k[Symbol.iterator](),Et;!(ot=(Et=dt.next()).done);ot=!0){var St=Et.value;C.has(St)&&(vt=!0)}}catch(It){ct=!0,Dt=It}finally{try{!ot&&dt.return&&dt.return()}finally{if(ct)throw Dt}}if(!vt){var xt=!1,bt=void 0;yt.forEach(function(It,Ht){It.has([].concat(p(k))[0])&&(xt=!0,bt=Ht)}),xt?k.forEach(function(It){yt[bt].add(It)}):yt.push(new Set(k))}}}),yt.forEach(function(k,tt){var vt=Number.POSITIVE_INFINITY,ot=Number.POSITIVE_INFINITY,ct=Number.NEGATIVE_INFINITY,Dt=Number.NEGATIVE_INFINITY,dt=!0,Et=!1,St=void 0;try{for(var xt=k[Symbol.iterator](),bt;!(dt=(bt=xt.next()).done);dt=!0){var It=bt.value,Ht=void 0;M=="horizontal"?Ht=N.has(It)?L[N.get(It)]:x.get(It):Ht=N.has(It)?I[N.get(It)]:x.get(It);var Jt=S.get(It);Ht<vt&&(vt=Ht),Ht>ct&&(ct=Ht),Jt<ot&&(ot=Jt),Jt>Dt&&(Dt=Jt)}}catch(_t){Et=!0,St=_t}finally{try{!dt&&xt.return&&xt.return()}finally{if(Et)throw St}}var kt=(vt+ct)/2-(ot+Dt)/2,Bt=!0,$t=!1,Qt=void 0;try{for(var qt=k[Symbol.iterator](),te;!(Bt=(te=qt.next()).done);Bt=!0){var jt=te.value;S.set(jt,S.get(jt)+kt)}}catch(_t){$t=!0,Qt=_t}finally{try{!Bt&&qt.return&&qt.return()}finally{if($t)throw Qt}}})}return S},Z=function(d){var M=0,C=0,x=0,w=0;if(d.forEach(function(U){U.left?L[N.get(U.left)]-L[N.get(U.right)]>=0?M++:C++:I[N.get(U.top)]-I[N.get(U.bottom)]>=0?x++:w++}),M>C&&x>w)for(var q=0;q<N.size;q++)L[q]=-1*L[q],I[q]=-1*I[q];else if(M>C)for(var W=0;W<N.size;W++)L[W]=-1*L[W];else if(x>w)for(var S=0;S<N.size;S++)I[S]=-1*I[S]},a=function(d){var M=[],C=new i,x=new Set,w=0;return d.forEach(function(q,W){if(!x.has(W)){M[w]=[];var S=W;for(C.push(S),x.add(S),M[w].push(S);C.length!=0;){S=C.shift();var U=d.get(S);U.forEach(function(V){x.has(V.id)||(C.push(V.id),x.add(V.id),M[w].push(V.id))})}w++}}),M},v=function(d){var M=new Map;return d.forEach(function(C,x){M.set(x,[])}),d.forEach(function(C,x){C.forEach(function(w){M.get(x).push(w),M.get(w.id).push({id:x,gap:w.gap,direction:w.direction})})}),M},f=function(d){var M=new Map;return d.forEach(function(C,x){M.set(x,[])}),d.forEach(function(C,x){C.forEach(function(w){M.get(w.id).push({id:x,gap:w.gap,direction:w.direction})})}),M},m=[],y=[],P=!1,D=!1,H=new Set,X=new Map,G=new Map,J=[];if(c.fixedNodeConstraint&&c.fixedNodeConstraint.forEach(function($){H.add($.nodeId)}),c.relativePlacementConstraint&&(c.relativePlacementConstraint.forEach(function($){$.left?(X.has($.left)?X.get($.left).push({id:$.right,gap:$.gap,direction:"horizontal"}):X.set($.left,[{id:$.right,gap:$.gap,direction:"horizontal"}]),X.has($.right)||X.set($.right,[])):(X.has($.top)?X.get($.top).push({id:$.bottom,gap:$.gap,direction:"vertical"}):X.set($.top,[{id:$.bottom,gap:$.gap,direction:"vertical"}]),X.has($.bottom)||X.set($.bottom,[]))}),G=v(X),J=a(G)),t.TRANSFORM_ON_CONSTRAINT_HANDLING){if(c.fixedNodeConstraint&&c.fixedNodeConstraint.length>1)c.fixedNodeConstraint.forEach(function($,d){m[d]=[$.position.x,$.position.y],y[d]=[L[N.get($.nodeId)],I[N.get($.nodeId)]]}),P=!0;else if(c.alignmentConstraint)(function(){var $=0;if(c.alignmentConstraint.vertical){for(var d=c.alignmentConstraint.vertical,M=function(S){var U=new Set;d[S].forEach(function(it){U.add(it)});var V=new Set([].concat(p(U)).filter(function(it){return H.has(it)})),rt=void 0;V.size>0?rt=L[N.get(V.values().next().value)]:rt=mt(U).x,d[S].forEach(function(it){m[$]=[rt,I[N.get(it)]],y[$]=[L[N.get(it)],I[N.get(it)]],$++})},C=0;C<d.length;C++)M(C);P=!0}if(c.alignmentConstraint.horizontal){for(var x=c.alignmentConstraint.horizontal,w=function(S){var U=new Set;x[S].forEach(function(it){U.add(it)});var V=new Set([].concat(p(U)).filter(function(it){return H.has(it)})),rt=void 0;V.size>0?rt=L[N.get(V.values().next().value)]:rt=mt(U).y,x[S].forEach(function(it){m[$]=[L[N.get(it)],rt],y[$]=[L[N.get(it)],I[N.get(it)]],$++})},q=0;q<x.length;q++)w(q);P=!0}c.relativePlacementConstraint&&(D=!0)})();else if(c.relativePlacementConstraint){for(var st=0,B=0,ht=0;ht<J.length;ht++)J[ht].length>st&&(st=J[ht].length,B=ht);if(st<G.size/2)Z(c.relativePlacementConstraint),P=!1,D=!1;else{var K=new Map,O=new Map,z=[];J[B].forEach(function($){X.get($).forEach(function(d){d.direction=="horizontal"?(K.has($)?K.get($).push(d):K.set($,[d]),K.has(d.id)||K.set(d.id,[]),z.push({left:$,right:d.id})):(O.has($)?O.get($).push(d):O.set($,[d]),O.has(d.id)||O.set(d.id,[]),z.push({top:$,bottom:d.id}))})}),Z(z),D=!1;var Y=b(K,"horizontal"),nt=b(O,"vertical");J[B].forEach(function($,d){y[d]=[L[N.get($)],I[N.get($)]],m[d]=[],Y.has($)?m[d][0]=Y.get($):m[d][0]=L[N.get($)],nt.has($)?m[d][1]=nt.get($):m[d][1]=I[N.get($)]}),P=!0}}if(P){for(var pt=void 0,_=l.transpose(m),Pt=l.transpose(y),Tt=0;Tt<_.length;Tt++)_[Tt]=l.multGamma(_[Tt]),Pt[Tt]=l.multGamma(Pt[Tt]);var Vt=l.multMat(_,l.transpose(Pt)),Ut=g.svd(Vt);pt=l.multMat(Ut.V,l.transpose(Ut.U));for(var gt=0;gt<N.size;gt++){var ft=[L[gt],I[gt]],wt=[pt[0][0],pt[1][0]],At=[pt[0][1],pt[1][1]];L[gt]=l.dotProduct(ft,wt),I[gt]=l.dotProduct(ft,At)}D&&Z(c.relativePlacementConstraint)}}if(t.ENFORCE_CONSTRAINTS){if(c.fixedNodeConstraint&&c.fixedNodeConstraint.length>0){var Lt={x:0,y:0};c.fixedNodeConstraint.forEach(function($,d){var M={x:L[N.get($.nodeId)],y:I[N.get($.nodeId)]},C=$.position,x=lt(C,M);Lt.x+=x.x,Lt.y+=x.y}),Lt.x/=c.fixedNodeConstraint.length,Lt.y/=c.fixedNodeConstraint.length,L.forEach(function($,d){L[d]+=Lt.x}),I.forEach(function($,d){I[d]+=Lt.y}),c.fixedNodeConstraint.forEach(function($){L[N.get($.nodeId)]=$.position.x,I[N.get($.nodeId)]=$.position.y})}if(c.alignmentConstraint){if(c.alignmentConstraint.vertical)for(var Ct=c.alignmentConstraint.vertical,Mt=function(d){var M=new Set;Ct[d].forEach(function(w){M.add(w)});var C=new Set([].concat(p(M)).filter(function(w){return H.has(w)})),x=void 0;C.size>0?x=L[N.get(C.values().next().value)]:x=mt(M).x,M.forEach(function(w){H.has(w)||(L[N.get(w)]=x)})},Ot=0;Ot<Ct.length;Ot++)Mt(Ot);if(c.alignmentConstraint.horizontal)for(var Xt=c.alignmentConstraint.horizontal,Zt=function(d){var M=new Set;Xt[d].forEach(function(w){M.add(w)});var C=new Set([].concat(p(M)).filter(function(w){return H.has(w)})),x=void 0;C.size>0?x=I[N.get(C.values().next().value)]:x=mt(M).y,M.forEach(function(w){H.has(w)||(I[N.get(w)]=x)})},Ft=0;Ft<Xt.length;Ft++)Zt(Ft)}c.relativePlacementConstraint&&function(){var $=new Map,d=new Map,M=new Map,C=new Map,x=new Map,w=new Map,q=new Set,W=new Set;if(H.forEach(function(zt){q.add(zt),W.add(zt)}),c.alignmentConstraint){if(c.alignmentConstraint.vertical)for(var S=c.alignmentConstraint.vertical,U=function(Nt){M.set("dummy"+Nt,[]),S[Nt].forEach(function(Rt){$.set(Rt,"dummy"+Nt),M.get("dummy"+Nt).push(Rt),H.has(Rt)&&q.add("dummy"+Nt)}),x.set("dummy"+Nt,L[N.get(S[Nt][0])])},V=0;V<S.length;V++)U(V);if(c.alignmentConstraint.horizontal)for(var rt=c.alignmentConstraint.horizontal,it=function(Nt){C.set("dummy"+Nt,[]),rt[Nt].forEach(function(Rt){d.set(Rt,"dummy"+Nt),C.get("dummy"+Nt).push(Rt),H.has(Rt)&&W.add("dummy"+Nt)}),w.set("dummy"+Nt,I[N.get(rt[Nt][0])])},yt=0;yt<rt.length;yt++)it(yt)}var k=new Map,tt=new Map,vt=function(Nt){X.get(Nt).forEach(function(Rt){var ee=void 0,Kt=void 0;Rt.direction=="horizontal"?(ee=$.get(Nt)?$.get(Nt):Nt,$.get(Rt.id)?Kt={id:$.get(Rt.id),gap:Rt.gap,direction:Rt.direction}:Kt=Rt,k.has(ee)?k.get(ee).push(Kt):k.set(ee,[Kt]),k.has(Kt.id)||k.set(Kt.id,[])):(ee=d.get(Nt)?d.get(Nt):Nt,d.get(Rt.id)?Kt={id:d.get(Rt.id),gap:Rt.gap,direction:Rt.direction}:Kt=Rt,tt.has(ee)?tt.get(ee).push(Kt):tt.set(ee,[Kt]),tt.has(Kt.id)||tt.set(Kt.id,[]))})},ot=!0,ct=!1,Dt=void 0;try{for(var dt=X.keys()[Symbol.iterator](),Et;!(ot=(Et=dt.next()).done);ot=!0){var St=Et.value;vt(St)}}catch(zt){ct=!0,Dt=zt}finally{try{!ot&&dt.return&&dt.return()}finally{if(ct)throw Dt}}var xt=v(k),bt=v(tt),It=a(xt),Ht=a(bt),Jt=f(k),kt=f(tt),Bt=[],$t=[];It.forEach(function(zt,Nt){Bt[Nt]=[],zt.forEach(function(Rt){Jt.get(Rt).length==0&&Bt[Nt].push(Rt)})}),Ht.forEach(function(zt,Nt){$t[Nt]=[],zt.forEach(function(Rt){kt.get(Rt).length==0&&$t[Nt].push(Rt)})});var Qt=b(k,"horizontal",q,x,Bt),qt=b(tt,"vertical",W,w,$t),te=function(Nt){M.get(Nt)?M.get(Nt).forEach(function(Rt){L[N.get(Rt)]=Qt.get(Nt)}):L[N.get(Nt)]=Qt.get(Nt)},jt=!0,_t=!1,le=void 0;try{for(var ne=Qt.keys()[Symbol.iterator](),fe;!(jt=(fe=ne.next()).done);jt=!0){var oe=fe.value;te(oe)}}catch(zt){_t=!0,le=zt}finally{try{!jt&&ne.return&&ne.return()}finally{if(_t)throw le}}var pe=function(Nt){C.get(Nt)?C.get(Nt).forEach(function(Rt){I[N.get(Rt)]=qt.get(Nt)}):I[N.get(Nt)]=qt.get(Nt)},se=!0,ce=!1,ue=void 0;try{for(var he=qt.keys()[Symbol.iterator](),ge;!(se=(ge=he.next()).done);se=!0){var oe=ge.value;pe(oe)}}catch(zt){ce=!0,ue=zt}finally{try{!se&&he.return&&he.return()}finally{if(ce)throw ue}}}()}for(var Yt=0;Yt<Q.length;Yt++){var Wt=Q[Yt];Wt.getChild()==null&&Wt.setCenter(L[N.get(Wt.id)],I[N.get(Wt.id)])}},o.exports=u},551:o=>{o.exports=F}},s={};function n(o){var h=s[o];if(h!==void 0)return h.exports;var e=s[o]={exports:{}};return E[o](e,e.exports,n),e.exports}var r=n(45);return r})()})},77942:function(Gt,j,at){(function(E,s){Gt.exports=s(at(21553))})(this,function(F){return(()=>{"use strict";var E={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(h){for(var e=arguments.length,p=Array(e>1?e-1:0),t=1;t<e;t++)p[t-1]=arguments[t];return p.forEach(function(i){Object.keys(i).forEach(function(l){return h[l]=i[l]})}),h}},548:(o,h,e)=>{var p=function(){function l(g,u){var T=[],c=!0,A=!1,N=void 0;try{for(var L=g[Symbol.iterator](),I;!(c=(I=L.next()).done)&&(T.push(I.value),!(u&&T.length===u));c=!0);}catch(Q){A=!0,N=Q}finally{try{!c&&L.return&&L.return()}finally{if(A)throw N}}return T}return function(g,u){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return l(g,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=e(140).layoutBase.LinkedList,i={};i.getTopMostNodes=function(l){for(var g={},u=0;u<l.length;u++)g[l[u].id()]=!0;var T=l.filter(function(c,A){typeof c=="number"&&(c=A);for(var N=c.parent()[0];N!=null;){if(g[N.id()])return!1;N=N.parent()[0]}return!0});return T},i.connectComponents=function(l,g,u,T){var c=new t,A=new Set,N=[],L=void 0,I=void 0,Q=void 0,R=!1,et=1,ut=[],lt=[],mt=function(){var Z=l.collection();lt.push(Z);var a=u[0],v=l.collection();v.merge(a).merge(a.descendants().intersection(g)),N.push(a),v.forEach(function(y){c.push(y),A.add(y),Z.merge(y)});for(var f=function(){a=c.shift();var P=l.collection();a.neighborhood().nodes().forEach(function(G){g.intersection(a.edgesWith(G)).length>0&&P.merge(G)});for(var D=0;D<P.length;D++){var H=P[D];if(L=u.intersection(H.union(H.ancestors())),L!=null&&!A.has(L[0])){var X=L.union(L.descendants());X.forEach(function(G){c.push(G),A.add(G),Z.merge(G),u.has(G)&&N.push(G)})}}};c.length!=0;)f();if(Z.forEach(function(y){g.intersection(y.connectedEdges()).forEach(function(P){Z.has(P.source())&&Z.has(P.target())&&Z.merge(P)})}),N.length==u.length&&(R=!0),!R||R&&et>1){I=N[0],Q=I.connectedEdges().length,N.forEach(function(y){y.connectedEdges().length<Q&&(Q=y.connectedEdges().length,I=y)}),ut.push(I.id());var m=l.collection();m.merge(N[0]),N.forEach(function(y){m.merge(y)}),N=[],u=u.difference(m),et++}};do mt();while(!R);return T&&ut.length>0&&T.set("dummy"+(T.size+1),ut),lt},i.relocateComponent=function(l,g,u){if(!u.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY;if(u.quality=="draft"){var L=!0,I=!1,Q=void 0;try{for(var R=g.nodeIndexes[Symbol.iterator](),et;!(L=(et=R.next()).done);L=!0){var ut=et.value,lt=p(ut,2),mt=lt[0],b=lt[1],Z=u.cy.getElementById(mt);if(Z){var a=Z.boundingBox(),v=g.xCoords[b]-a.w/2,f=g.xCoords[b]+a.w/2,m=g.yCoords[b]-a.h/2,y=g.yCoords[b]+a.h/2;v<T&&(T=v),f>c&&(c=f),m<A&&(A=m),y>N&&(N=y)}}}catch(G){I=!0,Q=G}finally{try{!L&&R.return&&R.return()}finally{if(I)throw Q}}var P=l.x-(c+T)/2,D=l.y-(N+A)/2;g.xCoords=g.xCoords.map(function(G){return G+P}),g.yCoords=g.yCoords.map(function(G){return G+D})}else{Object.keys(g).forEach(function(G){var J=g[G],st=J.getRect().x,B=J.getRect().x+J.getRect().width,ht=J.getRect().y,K=J.getRect().y+J.getRect().height;st<T&&(T=st),B>c&&(c=B),ht<A&&(A=ht),K>N&&(N=K)});var H=l.x-(c+T)/2,X=l.y-(N+A)/2;Object.keys(g).forEach(function(G){var J=g[G];J.setCenter(J.getCenterX()+H,J.getCenterY()+X)})}}},i.calcBoundingBox=function(l,g,u,T){for(var c=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,N=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,I=void 0,Q=void 0,R=void 0,et=void 0,ut=l.descendants().not(":parent"),lt=ut.length,mt=0;mt<lt;mt++){var b=ut[mt];I=g[T.get(b.id())]-b.width()/2,Q=g[T.get(b.id())]+b.width()/2,R=u[T.get(b.id())]-b.height()/2,et=u[T.get(b.id())]+b.height()/2,c>I&&(c=I),A<Q&&(A=Q),N>R&&(N=R),L<et&&(L=et)}var Z={};return Z.topLeftX=c,Z.topLeftY=N,Z.width=A-c,Z.height=L-N,Z},i.calcParentsWithoutChildren=function(l,g){var u=l.collection();return g.nodes(":parent").forEach(function(T){var c=!1;T.children().forEach(function(A){A.css("display")!="none"&&(c=!0)}),c||u.merge(T)}),u},o.exports=i},816:(o,h,e)=>{var p=e(548),t=e(140).CoSELayout,i=e(140).CoSENode,l=e(140).layoutBase.PointD,g=e(140).layoutBase.DimensionD,u=e(140).layoutBase.LayoutConstants,T=e(140).layoutBase.FDLayoutConstants,c=e(140).CoSEConstants,A=function(L,I){var Q=L.cy,R=L.eles,et=R.nodes(),ut=R.edges(),lt=void 0,mt=void 0,b=void 0,Z={};L.randomize&&(lt=I.nodeIndexes,mt=I.xCoords,b=I.yCoords);var a=function(G){return typeof G=="function"},v=function(G,J){return a(G)?G(J):G},f=p.calcParentsWithoutChildren(Q,R),m=function X(G,J,st,B){for(var ht=J.length,K=0;K<ht;K++){var O=J[K],z=null;O.intersection(f).length==0&&(z=O.children());var Y=void 0,nt=O.layoutDimensions({nodeDimensionsIncludeLabels:B.nodeDimensionsIncludeLabels});if(O.outerWidth()!=null&&O.outerHeight()!=null)if(B.randomize)if(!O.isParent())Y=G.add(new i(st.graphManager,new l(mt[lt.get(O.id())]-nt.w/2,b[lt.get(O.id())]-nt.h/2),new g(parseFloat(nt.w),parseFloat(nt.h))));else{var pt=p.calcBoundingBox(O,mt,b,lt);O.intersection(f).length==0?Y=G.add(new i(st.graphManager,new l(pt.topLeftX,pt.topLeftY),new g(pt.width,pt.height))):Y=G.add(new i(st.graphManager,new l(pt.topLeftX,pt.topLeftY),new g(parseFloat(nt.w),parseFloat(nt.h))))}else Y=G.add(new i(st.graphManager,new l(O.position("x")-nt.w/2,O.position("y")-nt.h/2),new g(parseFloat(nt.w),parseFloat(nt.h))));else Y=G.add(new i(this.graphManager));if(Y.id=O.data("id"),Y.nodeRepulsion=v(B.nodeRepulsion,O),Y.paddingLeft=parseInt(O.css("padding")),Y.paddingTop=parseInt(O.css("padding")),Y.paddingRight=parseInt(O.css("padding")),Y.paddingBottom=parseInt(O.css("padding")),B.nodeDimensionsIncludeLabels&&(Y.labelWidth=O.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,Y.labelHeight=O.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,Y.labelPosVertical=O.css("text-valign"),Y.labelPosHorizontal=O.css("text-halign")),Z[O.data("id")]=Y,isNaN(Y.rect.x)&&(Y.rect.x=0),isNaN(Y.rect.y)&&(Y.rect.y=0),z!=null&&z.length>0){var _=void 0;_=st.getGraphManager().add(st.newGraph(),Y),X(_,z,st,B)}}},y=function(G,J,st){for(var B=0,ht=0,K=0;K<st.length;K++){var O=st[K],z=Z[O.data("source")],Y=Z[O.data("target")];if(z&&Y&&z!==Y&&z.getEdgesBetween(Y).length==0){var nt=J.add(G.newEdge(),z,Y);nt.id=O.id(),nt.idealLength=v(L.idealEdgeLength,O),nt.edgeElasticity=v(L.edgeElasticity,O),B+=nt.idealLength,ht++}}L.idealEdgeLength!=null&&(ht>0?c.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=B/ht:a(L.idealEdgeLength)?c.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=50:c.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=L.idealEdgeLength,c.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,c.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)},P=function(G,J){J.fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=J.fixedNodeConstraint),J.alignmentConstraint&&(G.constraints.alignmentConstraint=J.alignmentConstraint),J.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=J.relativePlacementConstraint)};L.nestingFactor!=null&&(c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=L.nestingFactor),L.gravity!=null&&(c.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=L.gravity),L.numIter!=null&&(c.MAX_ITERATIONS=T.MAX_ITERATIONS=L.numIter),L.gravityRange!=null&&(c.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=L.gravityRange),L.gravityCompound!=null&&(c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=L.gravityCompound),L.gravityRangeCompound!=null&&(c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=L.gravityRangeCompound),L.initialEnergyOnIncremental!=null&&(c.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=L.initialEnergyOnIncremental),L.tilingCompareBy!=null&&(c.TILING_COMPARE_BY=L.tilingCompareBy),L.quality=="proof"?u.QUALITY=2:u.QUALITY=0,c.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=L.nodeDimensionsIncludeLabels,c.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!L.randomize,c.ANIMATE=T.ANIMATE=u.ANIMATE=L.animate,c.TILE=L.tile,c.TILING_PADDING_VERTICAL=typeof L.tilingPaddingVertical=="function"?L.tilingPaddingVertical.call():L.tilingPaddingVertical,c.TILING_PADDING_HORIZONTAL=typeof L.tilingPaddingHorizontal=="function"?L.tilingPaddingHorizontal.call():L.tilingPaddingHorizontal,c.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!0,c.PURE_INCREMENTAL=!L.randomize,u.DEFAULT_UNIFORM_LEAF_NODE_SIZES=L.uniformNodeDimensions,L.step=="transformed"&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!1),L.step=="enforced"&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!1),L.step=="cose"&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!0),L.step=="all"&&(L.randomize?c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0),L.fixedNodeConstraint||L.alignmentConstraint||L.relativePlacementConstraint?c.TREE_REDUCTION_ON_INCREMENTAL=!1:c.TREE_REDUCTION_ON_INCREMENTAL=!0;var D=new t,H=D.newGraphManager();return m(H.addRoot(),p.getTopMostNodes(et),D,L),y(D,H,ut),P(D,L),D.runLayout(),Z};o.exports={coseLayout:A}},212:(o,h,e)=>{var p=function(){function L(I,Q){for(var R=0;R<Q.length;R++){var et=Q[R];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(I,et.key,et)}}return function(I,Q,R){return Q&&L(I.prototype,Q),R&&L(I,R),I}}();function t(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}var i=e(658),l=e(548),g=e(657),u=g.spectralLayout,T=e(816),c=T.coseLayout,A=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(I){return 4500},idealEdgeLength:function(I){return 50},edgeElasticity:function(I){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),N=function(){function L(I){t(this,L),this.options=i({},A,I)}return p(L,[{key:"run",value:function(){var Q=this,R=this.options,et=R.cy,ut=R.eles,lt=[],mt=void 0,b=void 0,Z=[],a=void 0,v=[];R.fixedNodeConstraint&&(!Array.isArray(R.fixedNodeConstraint)||R.fixedNodeConstraint.length==0)&&(R.fixedNodeConstraint=void 0),R.alignmentConstraint&&(R.alignmentConstraint.vertical&&(!Array.isArray(R.alignmentConstraint.vertical)||R.alignmentConstraint.vertical.length==0)&&(R.alignmentConstraint.vertical=void 0),R.alignmentConstraint.horizontal&&(!Array.isArray(R.alignmentConstraint.horizontal)||R.alignmentConstraint.horizontal.length==0)&&(R.alignmentConstraint.horizontal=void 0)),R.relativePlacementConstraint&&(!Array.isArray(R.relativePlacementConstraint)||R.relativePlacementConstraint.length==0)&&(R.relativePlacementConstraint=void 0);var f=R.fixedNodeConstraint||R.alignmentConstraint||R.relativePlacementConstraint;f&&(R.tile=!1,R.packComponents=!1);var m=void 0,y=!1;if(et.layoutUtilities&&R.packComponents&&(m=et.layoutUtilities("get"),m||(m=et.layoutUtilities()),y=!0),ut.nodes().length>0)if(y){var H=l.getTopMostNodes(R.eles.nodes());if(a=l.connectComponents(et,R.eles,H),a.forEach(function(gt){var ft=gt.boundingBox();v.push({x:ft.x1+ft.w/2,y:ft.y1+ft.h/2})}),R.randomize&&a.forEach(function(gt){R.eles=gt,lt.push(u(R))}),R.quality=="default"||R.quality=="proof"){var X=et.collection();if(R.tile){var G=new Map,J=[],st=[],B=0,ht={nodeIndexes:G,xCoords:J,yCoords:st},K=[];if(a.forEach(function(gt,ft){gt.edges().length==0&&(gt.nodes().forEach(function(wt,At){X.merge(gt.nodes()[At]),wt.isParent()||(ht.nodeIndexes.set(gt.nodes()[At].id(),B++),ht.xCoords.push(gt.nodes()[0].position().x),ht.yCoords.push(gt.nodes()[0].position().y))}),K.push(ft))}),X.length>1){var O=X.boundingBox();v.push({x:O.x1+O.w/2,y:O.y1+O.h/2}),a.push(X),lt.push(ht);for(var z=K.length-1;z>=0;z--)a.splice(K[z],1),lt.splice(K[z],1),v.splice(K[z],1)}}a.forEach(function(gt,ft){R.eles=gt,Z.push(c(R,lt[ft])),l.relocateComponent(v[ft],Z[ft],R)})}else a.forEach(function(gt,ft){l.relocateComponent(v[ft],lt[ft],R)});var Y=new Set;if(a.length>1){var nt=[],pt=ut.filter(function(gt){return gt.css("display")=="none"});a.forEach(function(gt,ft){var wt=void 0;if(R.quality=="draft"&&(wt=lt[ft].nodeIndexes),gt.nodes().not(pt).length>0){var At={};At.edges=[],At.nodes=[];var Lt=void 0;gt.nodes().not(pt).forEach(function(Ct){if(R.quality=="draft")if(!Ct.isParent())Lt=wt.get(Ct.id()),At.nodes.push({x:lt[ft].xCoords[Lt]-Ct.boundingbox().w/2,y:lt[ft].yCoords[Lt]-Ct.boundingbox().h/2,width:Ct.boundingbox().w,height:Ct.boundingbox().h});else{var Mt=l.calcBoundingBox(Ct,lt[ft].xCoords,lt[ft].yCoords,wt);At.nodes.push({x:Mt.topLeftX,y:Mt.topLeftY,width:Mt.width,height:Mt.height})}else Z[ft][Ct.id()]&&At.nodes.push({x:Z[ft][Ct.id()].getLeft(),y:Z[ft][Ct.id()].getTop(),width:Z[ft][Ct.id()].getWidth(),height:Z[ft][Ct.id()].getHeight()})}),gt.edges().forEach(function(Ct){var Mt=Ct.source(),Ot=Ct.target();if(Mt.css("display")!="none"&&Ot.css("display")!="none")if(R.quality=="draft"){var Xt=wt.get(Mt.id()),Zt=wt.get(Ot.id()),Ft=[],Yt=[];if(Mt.isParent()){var Wt=l.calcBoundingBox(Mt,lt[ft].xCoords,lt[ft].yCoords,wt);Ft.push(Wt.topLeftX+Wt.width/2),Ft.push(Wt.topLeftY+Wt.height/2)}else Ft.push(lt[ft].xCoords[Xt]),Ft.push(lt[ft].yCoords[Xt]);if(Ot.isParent()){var $=l.calcBoundingBox(Ot,lt[ft].xCoords,lt[ft].yCoords,wt);Yt.push($.topLeftX+$.width/2),Yt.push($.topLeftY+$.height/2)}else Yt.push(lt[ft].xCoords[Zt]),Yt.push(lt[ft].yCoords[Zt]);At.edges.push({startX:Ft[0],startY:Ft[1],endX:Yt[0],endY:Yt[1]})}else Z[ft][Mt.id()]&&Z[ft][Ot.id()]&&At.edges.push({startX:Z[ft][Mt.id()].getCenterX(),startY:Z[ft][Mt.id()].getCenterY(),endX:Z[ft][Ot.id()].getCenterX(),endY:Z[ft][Ot.id()].getCenterY()})}),At.nodes.length>0&&(nt.push(At),Y.add(ft))}});var _=m.packComponents(nt,R.randomize).shifts;if(R.quality=="draft")lt.forEach(function(gt,ft){var wt=gt.xCoords.map(function(Lt){return Lt+_[ft].dx}),At=gt.yCoords.map(function(Lt){return Lt+_[ft].dy});gt.xCoords=wt,gt.yCoords=At});else{var Pt=0;Y.forEach(function(gt){Object.keys(Z[gt]).forEach(function(ft){var wt=Z[gt][ft];wt.setCenter(wt.getCenterX()+_[Pt].dx,wt.getCenterY()+_[Pt].dy)}),Pt++})}}}else{var P=R.eles.boundingBox();if(v.push({x:P.x1+P.w/2,y:P.y1+P.h/2}),R.randomize){var D=u(R);lt.push(D)}R.quality=="default"||R.quality=="proof"?(Z.push(c(R,lt[0])),l.relocateComponent(v[0],Z[0],R)):l.relocateComponent(v[0],lt[0],R)}var Tt=function(ft,wt){if(R.quality=="default"||R.quality=="proof"){typeof ft=="number"&&(ft=wt);var At=void 0,Lt=void 0,Ct=ft.data("id");return Z.forEach(function(Ot){Ct in Ot&&(At={x:Ot[Ct].getRect().getCenterX(),y:Ot[Ct].getRect().getCenterY()},Lt=Ot[Ct])}),R.nodeDimensionsIncludeLabels&&(Lt.labelWidth&&(Lt.labelPosHorizontal=="left"?At.x+=Lt.labelWidth/2:Lt.labelPosHorizontal=="right"&&(At.x-=Lt.labelWidth/2)),Lt.labelHeight&&(Lt.labelPosVertical=="top"?At.y+=Lt.labelHeight/2:Lt.labelPosVertical=="bottom"&&(At.y-=Lt.labelHeight/2))),At==null&&(At={x:ft.position("x"),y:ft.position("y")}),{x:At.x,y:At.y}}else{var Mt=void 0;return lt.forEach(function(Ot){var Xt=Ot.nodeIndexes.get(ft.id());Xt!=null&&(Mt={x:Ot.xCoords[Xt],y:Ot.yCoords[Xt]})}),Mt==null&&(Mt={x:ft.position("x"),y:ft.position("y")}),{x:Mt.x,y:Mt.y}}};if(R.quality=="default"||R.quality=="proof"||R.randomize){var Vt=l.calcParentsWithoutChildren(et,ut),Ut=ut.filter(function(gt){return gt.css("display")=="none"});R.eles=ut.not(Ut),ut.nodes().not(":parent").not(Ut).layoutPositions(Q,R,Tt),Vt.length>0&&Vt.forEach(function(gt){gt.position(Tt(gt))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),L}();o.exports=N},657:(o,h,e)=>{var p=e(548),t=e(140).layoutBase.Matrix,i=e(140).layoutBase.SVD,l=function(u){var T=u.cy,c=u.eles,A=c.nodes(),N=c.nodes(":parent"),L=new Map,I=new Map,Q=new Map,R=[],et=[],ut=[],lt=[],mt=[],b=[],Z=[],a=[],v=void 0,f=void 0,m=1e8,y=1e-9,P=u.piTol,D=u.samplingType,H=u.nodeSeparation,X=void 0,G=function(){for(var M=0,C=0,x=!1;C<X;){M=Math.floor(Math.random()*f),x=!1;for(var w=0;w<C;w++)if(lt[w]==M){x=!0;break}if(!x)lt[C]=M,C++;else continue}},J=function(M,C,x){for(var w=[],q=0,W=0,S=0,U=void 0,V=[],rt=0,it=1,yt=0;yt<f;yt++)V[yt]=m;for(w[W]=M,V[M]=0;W>=q;){S=w[q++];for(var k=R[S],tt=0;tt<k.length;tt++)U=I.get(k[tt]),V[U]==m&&(V[U]=V[S]+1,w[++W]=U);b[S][C]=V[S]*H}if(x){for(var vt=0;vt<f;vt++)b[vt][C]<mt[vt]&&(mt[vt]=b[vt][C]);for(var ot=0;ot<f;ot++)mt[ot]>rt&&(rt=mt[ot],it=ot)}return it},st=function(M){var C=void 0;if(M){C=Math.floor(Math.random()*f),v=C;for(var w=0;w<f;w++)mt[w]=m;for(var q=0;q<X;q++)lt[q]=C,C=J(C,q,M)}else{G();for(var x=0;x<X;x++)J(lt[x],x,M,!1)}for(var W=0;W<f;W++)for(var S=0;S<X;S++)b[W][S]*=b[W][S];for(var U=0;U<X;U++)Z[U]=[];for(var V=0;V<X;V++)for(var rt=0;rt<X;rt++)Z[V][rt]=b[lt[rt]][V]},B=function(){for(var M=i.svd(Z),C=M.S,x=M.U,w=M.V,q=C[0]*C[0]*C[0],W=[],S=0;S<X;S++){W[S]=[];for(var U=0;U<X;U++)W[S][U]=0,S==U&&(W[S][U]=C[S]/(C[S]*C[S]+q/(C[S]*C[S])))}a=t.multMat(t.multMat(w,W),t.transpose(x))},ht=function(){for(var M=void 0,C=void 0,x=[],w=[],q=[],W=[],S=0;S<f;S++)x[S]=Math.random(),w[S]=Math.random();x=t.normalize(x),w=t.normalize(w);for(var U=0,V=y,rt=y,it=void 0;;){U++;for(var yt=0;yt<f;yt++)q[yt]=x[yt];if(x=t.multGamma(t.multL(t.multGamma(q),b,a)),M=t.dotProduct(q,x),x=t.normalize(x),V=t.dotProduct(q,x),it=Math.abs(V/rt),it<=1+P&&it>=1)break;rt=V}for(var k=0;k<f;k++)q[k]=x[k];for(U=0,rt=y;;){U++;for(var tt=0;tt<f;tt++)W[tt]=w[tt];if(W=t.minusOp(W,t.multCons(q,t.dotProduct(q,W))),w=t.multGamma(t.multL(t.multGamma(W),b,a)),C=t.dotProduct(W,w),w=t.normalize(w),V=t.dotProduct(W,w),it=Math.abs(V/rt),it<=1+P&&it>=1)break;rt=V}for(var vt=0;vt<f;vt++)W[vt]=w[vt];et=t.multCons(q,Math.sqrt(Math.abs(M))),ut=t.multCons(W,Math.sqrt(Math.abs(C)))};p.connectComponents(T,c,p.getTopMostNodes(A),L),N.forEach(function(d){p.connectComponents(T,c,p.getTopMostNodes(d.descendants().intersection(c)),L)});for(var K=0,O=0;O<A.length;O++)A[O].isParent()||I.set(A[O].id(),K++);var z=!0,Y=!1,nt=void 0;try{for(var pt=L.keys()[Symbol.iterator](),_;!(z=(_=pt.next()).done);z=!0){var Pt=_.value;I.set(Pt,K++)}}catch(d){Y=!0,nt=d}finally{try{!z&&pt.return&&pt.return()}finally{if(Y)throw nt}}for(var Tt=0;Tt<I.size;Tt++)R[Tt]=[];N.forEach(function(d){for(var M=d.children().intersection(c);M.nodes(":childless").length==0;)M=M.nodes()[0].children().intersection(c);var C=0,x=M.nodes(":childless")[0].connectedEdges().length;M.nodes(":childless").forEach(function(w,q){w.connectedEdges().length<x&&(x=w.connectedEdges().length,C=q)}),Q.set(d.id(),M.nodes(":childless")[C].id())}),A.forEach(function(d){var M=void 0;d.isParent()?M=I.get(Q.get(d.id())):M=I.get(d.id()),d.neighborhood().nodes().forEach(function(C){c.intersection(d.edgesWith(C)).length>0&&(C.isParent()?R[M].push(Q.get(C.id())):R[M].push(C.id()))})});var Vt=function(M){var C=I.get(M),x=void 0;L.get(M).forEach(function(w){T.getElementById(w).isParent()?x=Q.get(w):x=w,R[C].push(x),R[I.get(x)].push(M)})},Ut=!0,gt=!1,ft=void 0;try{for(var wt=L.keys()[Symbol.iterator](),At;!(Ut=(At=wt.next()).done);Ut=!0){var Lt=At.value;Vt(Lt)}}catch(d){gt=!0,ft=d}finally{try{!Ut&&wt.return&&wt.return()}finally{if(gt)throw ft}}f=I.size;var Ct=void 0;if(f>2){X=f<u.sampleSize?f:u.sampleSize;for(var Mt=0;Mt<f;Mt++)b[Mt]=[];for(var Ot=0;Ot<X;Ot++)a[Ot]=[];return u.quality=="draft"||u.step=="all"?(st(D),B(),ht(),Ct={nodeIndexes:I,xCoords:et,yCoords:ut}):(I.forEach(function(d,M){et.push(T.getElementById(M).position("x")),ut.push(T.getElementById(M).position("y"))}),Ct={nodeIndexes:I,xCoords:et,yCoords:ut}),Ct}else{var Xt=I.keys(),Zt=T.getElementById(Xt.next().value),Ft=Zt.position(),Yt=Zt.outerWidth();if(et.push(Ft.x),ut.push(Ft.y),f==2){var Wt=T.getElementById(Xt.next().value),$=Wt.outerWidth();et.push(Ft.x+Yt/2+$/2+u.idealEdgeLength),ut.push(Ft.y)}return Ct={nodeIndexes:I,xCoords:et,yCoords:ut},Ct}};o.exports={spectralLayout:l}},579:(o,h,e)=>{var p=e(212),t=function(l){l&&l("layout","fcose",p)};typeof cytoscape!="undefined"&&t(cytoscape),o.exports=t},140:o=>{o.exports=F}},s={};function n(o){var h=s[o];if(h!==void 0)return h.exports;var e=s[o]={exports:{}};return E[o](e,e.exports,n),e.exports}var r=n(579);return r})()})},20378:function(Gt){(function(at,F){Gt.exports=F()})(this,function(){return function(j){var at={};function F(E){if(at[E])return at[E].exports;var s=at[E]={i:E,l:!1,exports:{}};return j[E].call(s.exports,s,s.exports,F),s.l=!0,s.exports}return F.m=j,F.c=at,F.i=function(E){return E},F.d=function(E,s,n){F.o(E,s)||Object.defineProperty(E,s,{configurable:!1,enumerable:!0,get:n})},F.n=function(E){var s=E&&E.__esModule?function(){return E.default}:function(){return E};return F.d(s,"a",s),s},F.o=function(E,s){return Object.prototype.hasOwnProperty.call(E,s)},F.p="",F(F.s=28)}([function(j,at,F){"use strict";function E(){}E.QUALITY=1,E.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,E.DEFAULT_INCREMENTAL=!1,E.DEFAULT_ANIMATION_ON_LAYOUT=!0,E.DEFAULT_ANIMATION_DURING_LAYOUT=!1,E.DEFAULT_ANIMATION_PERIOD=50,E.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,E.DEFAULT_GRAPH_MARGIN=15,E.NODE_DIMENSIONS_INCLUDE_LABELS=!1,E.SIMPLE_NODE_SIZE=40,E.SIMPLE_NODE_HALF_SIZE=E.SIMPLE_NODE_SIZE/2,E.EMPTY_COMPOUND_NODE_SIZE=40,E.MIN_EDGE_LENGTH=1,E.WORLD_BOUNDARY=1e6,E.INITIAL_WORLD_BOUNDARY=E.WORLD_BOUNDARY/1e3,E.WORLD_CENTER_X=1200,E.WORLD_CENTER_Y=900,j.exports=E},function(j,at,F){"use strict";var E=F(2),s=F(8),n=F(9);function r(h,e,p){E.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=h,this.target=e}r.prototype=Object.create(E.prototype);for(var o in E)r[o]=E[o];r.prototype.getSource=function(){return this.source},r.prototype.getTarget=function(){return this.target},r.prototype.isInterGraph=function(){return this.isInterGraph},r.prototype.getLength=function(){return this.length},r.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},r.prototype.getBendpoints=function(){return this.bendpoints},r.prototype.getLca=function(){return this.lca},r.prototype.getSourceInLca=function(){return this.sourceInLca},r.prototype.getTargetInLca=function(){return this.targetInLca},r.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},r.prototype.getOtherEndInGraph=function(h,e){for(var p=this.getOtherEnd(h),t=e.getGraphManager().getRoot();;){if(p.getOwner()==e)return p;if(p.getOwner()==t)break;p=p.getOwner().getParent()}return null},r.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},r.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},j.exports=r},function(j,at,F){"use strict";function E(s){this.vGraphObject=s}j.exports=E},function(j,at,F){"use strict";var E=F(2),s=F(10),n=F(13),r=F(0),o=F(16),h=F(5);function e(t,i,l,g){l==null&&g==null&&(g=i),E.call(this,g),t.graphManager!=null&&(t=t.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=g,this.edges=[],this.graphManager=t,l!=null&&i!=null?this.rect=new n(i.x,i.y,l.width,l.height):this.rect=new n}e.prototype=Object.create(E.prototype);for(var p in E)e[p]=E[p];e.prototype.getEdges=function(){return this.edges},e.prototype.getChild=function(){return this.child},e.prototype.getOwner=function(){return this.owner},e.prototype.getWidth=function(){return this.rect.width},e.prototype.setWidth=function(t){this.rect.width=t},e.prototype.getHeight=function(){return this.rect.height},e.prototype.setHeight=function(t){this.rect.height=t},e.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},e.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},e.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},e.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},e.prototype.getRect=function(){return this.rect},e.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},e.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},e.prototype.setRect=function(t,i){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=i.width,this.rect.height=i.height},e.prototype.setCenter=function(t,i){this.rect.x=t-this.rect.width/2,this.rect.y=i-this.rect.height/2},e.prototype.setLocation=function(t,i){this.rect.x=t,this.rect.y=i},e.prototype.moveBy=function(t,i){this.rect.x+=t,this.rect.y+=i},e.prototype.getEdgeListToNode=function(t){var i=[],l,g=this;return g.edges.forEach(function(u){if(u.target==t){if(u.source!=g)throw"Incorrect edge source!";i.push(u)}}),i},e.prototype.getEdgesBetween=function(t){var i=[],l,g=this;return g.edges.forEach(function(u){if(!(u.source==g||u.target==g))throw"Incorrect edge source and/or target";(u.target==t||u.source==t)&&i.push(u)}),i},e.prototype.getNeighborsList=function(){var t=new Set,i=this;return i.edges.forEach(function(l){if(l.source==i)t.add(l.target);else{if(l.target!=i)throw"Incorrect incidency!";t.add(l.source)}}),t},e.prototype.withChildren=function(){var t=new Set,i,l;if(t.add(this),this.child!=null)for(var g=this.child.getNodes(),u=0;u<g.length;u++)i=g[u],l=i.withChildren(),l.forEach(function(T){t.add(T)});return t},e.prototype.getNoOfChildren=function(){var t=0,i;if(this.child==null)t=1;else for(var l=this.child.getNodes(),g=0;g<l.length;g++)i=l[g],t+=i.getNoOfChildren();return t==0&&(t=1),t},e.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},e.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},e.prototype.scatter=function(){var t,i,l=-r.INITIAL_WORLD_BOUNDARY,g=r.INITIAL_WORLD_BOUNDARY;t=r.WORLD_CENTER_X+o.nextDouble()*(g-l)+l;var u=-r.INITIAL_WORLD_BOUNDARY,T=r.INITIAL_WORLD_BOUNDARY;i=r.WORLD_CENTER_Y+o.nextDouble()*(T-u)+u,this.rect.x=t,this.rect.y=i},e.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),r.NODE_DIMENSIONS_INCLUDE_LABELS){var i=t.getRight()-t.getLeft(),l=t.getBottom()-t.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(i+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>i?(this.rect.x-=(this.labelWidth-i)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(i+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(l+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>l?(this.rect.y-=(this.labelHeight-l)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(l+this.labelHeight))}}},e.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},e.prototype.transform=function(t){var i=this.rect.x;i>r.WORLD_BOUNDARY?i=r.WORLD_BOUNDARY:i<-r.WORLD_BOUNDARY&&(i=-r.WORLD_BOUNDARY);var l=this.rect.y;l>r.WORLD_BOUNDARY?l=r.WORLD_BOUNDARY:l<-r.WORLD_BOUNDARY&&(l=-r.WORLD_BOUNDARY);var g=new h(i,l),u=t.inverseTransformPoint(g);this.setLocation(u.x,u.y)},e.prototype.getLeft=function(){return this.rect.x},e.prototype.getRight=function(){return this.rect.x+this.rect.width},e.prototype.getTop=function(){return this.rect.y},e.prototype.getBottom=function(){return this.rect.y+this.rect.height},e.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},j.exports=e},function(j,at,F){"use strict";var E=F(0);function s(){}for(var n in E)s[n]=E[n];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,j.exports=s},function(j,at,F){"use strict";function E(s,n){s==null&&n==null?(this.x=0,this.y=0):(this.x=s,this.y=n)}E.prototype.getX=function(){return this.x},E.prototype.getY=function(){return this.y},E.prototype.setX=function(s){this.x=s},E.prototype.setY=function(s){this.y=s},E.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},E.prototype.getCopy=function(){return new E(this.x,this.y)},E.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},j.exports=E},function(j,at,F){"use strict";var E=F(2),s=F(10),n=F(0),r=F(7),o=F(3),h=F(1),e=F(13),p=F(12),t=F(11);function i(g,u,T){E.call(this,T),this.estimatedSize=s.MIN_VALUE,this.margin=n.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=g,u!=null&&u instanceof r?this.graphManager=u:u!=null&&u instanceof Layout&&(this.graphManager=u.graphManager)}i.prototype=Object.create(E.prototype);for(var l in E)i[l]=E[l];i.prototype.getNodes=function(){return this.nodes},i.prototype.getEdges=function(){return this.edges},i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getParent=function(){return this.parent},i.prototype.getLeft=function(){return this.left},i.prototype.getRight=function(){return this.right},i.prototype.getTop=function(){return this.top},i.prototype.getBottom=function(){return this.bottom},i.prototype.isConnected=function(){return this.isConnected},i.prototype.add=function(g,u,T){if(u==null&&T==null){var c=g;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(c)>-1)throw"Node already in graph!";return c.owner=this,this.getNodes().push(c),c}else{var A=g;if(!(this.getNodes().indexOf(u)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(u.owner==T.owner&&u.owner==this))throw"Both owners must be this graph!";return u.owner!=T.owner?null:(A.source=u,A.target=T,A.isInterGraph=!1,this.getEdges().push(A),u.edges.push(A),T!=u&&T.edges.push(A),A)}},i.prototype.remove=function(g){var u=g;if(g instanceof o){if(u==null)throw"Node is null!";if(!(u.owner!=null&&u.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=u.edges.slice(),c,A=T.length,N=0;N<A;N++)c=T[N],c.isInterGraph?this.graphManager.remove(c):c.source.owner.remove(c);var L=this.nodes.indexOf(u);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(g instanceof h){var c=g;if(c==null)throw"Edge is null!";if(!(c.source!=null&&c.target!=null))throw"Source and/or target is null!";if(!(c.source.owner!=null&&c.target.owner!=null&&c.source.owner==this&&c.target.owner==this))throw"Source and/or target owner is invalid!";var I=c.source.edges.indexOf(c),Q=c.target.edges.indexOf(c);if(!(I>-1&&Q>-1))throw"Source and/or target doesn't know this edge!";c.source.edges.splice(I,1),c.target!=c.source&&c.target.edges.splice(Q,1);var L=c.source.owner.getEdges().indexOf(c);if(L==-1)throw"Not in owner's edge list!";c.source.owner.getEdges().splice(L,1)}},i.prototype.updateLeftTop=function(){for(var g=s.MAX_VALUE,u=s.MAX_VALUE,T,c,A,N=this.getNodes(),L=N.length,I=0;I<L;I++){var Q=N[I];T=Q.getTop(),c=Q.getLeft(),g>T&&(g=T),u>c&&(u=c)}return g==s.MAX_VALUE?null:(N[0].getParent().paddingLeft!=null?A=N[0].getParent().paddingLeft:A=this.margin,this.left=u-A,this.top=g-A,new p(this.left,this.top))},i.prototype.updateBounds=function(g){for(var u=s.MAX_VALUE,T=-s.MAX_VALUE,c=s.MAX_VALUE,A=-s.MAX_VALUE,N,L,I,Q,R,et=this.nodes,ut=et.length,lt=0;lt<ut;lt++){var mt=et[lt];g&&mt.child!=null&&mt.updateBounds(),N=mt.getLeft(),L=mt.getRight(),I=mt.getTop(),Q=mt.getBottom(),u>N&&(u=N),T<L&&(T=L),c>I&&(c=I),A<Q&&(A=Q)}var b=new e(u,c,T-u,A-c);u==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),et[0].getParent().paddingLeft!=null?R=et[0].getParent().paddingLeft:R=this.margin,this.left=b.x-R,this.right=b.x+b.width+R,this.top=b.y-R,this.bottom=b.y+b.height+R},i.calculateBounds=function(g){for(var u=s.MAX_VALUE,T=-s.MAX_VALUE,c=s.MAX_VALUE,A=-s.MAX_VALUE,N,L,I,Q,R=g.length,et=0;et<R;et++){var ut=g[et];N=ut.getLeft(),L=ut.getRight(),I=ut.getTop(),Q=ut.getBottom(),u>N&&(u=N),T<L&&(T=L),c>I&&(c=I),A<Q&&(A=Q)}var lt=new e(u,c,T-u,A-c);return lt},i.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},i.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},i.prototype.calcEstimatedSize=function(){for(var g=0,u=this.nodes,T=u.length,c=0;c<T;c++){var A=u[c];g+=A.calcEstimatedSize()}return g==0?this.estimatedSize=n.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=g/Math.sqrt(this.nodes.length),this.estimatedSize},i.prototype.updateConnected=function(){var g=this;if(this.nodes.length==0){this.isConnected=!0;return}var u=new t,T=new Set,c=this.nodes[0],A,N,L=c.withChildren();for(L.forEach(function(lt){u.push(lt),T.add(lt)});u.length!==0;){c=u.shift(),A=c.getEdges();for(var I=A.length,Q=0;Q<I;Q++){var R=A[Q];if(N=R.getOtherEndInGraph(c,this),N!=null&&!T.has(N)){var et=N.withChildren();et.forEach(function(lt){u.push(lt),T.add(lt)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var ut=0;T.forEach(function(lt){lt.owner==g&&ut++}),ut==this.nodes.length&&(this.isConnected=!0)}},j.exports=i},function(j,at,F){"use strict";var E,s=F(1);function n(r){E=F(6),this.layout=r,this.graphs=[],this.edges=[]}n.prototype.addRoot=function(){var r=this.layout.newGraph(),o=this.layout.newNode(null),h=this.add(r,o);return this.setRootGraph(h),this.rootGraph},n.prototype.add=function(r,o,h,e,p){if(h==null&&e==null&&p==null){if(r==null)throw"Graph is null!";if(o==null)throw"Parent node is null!";if(this.graphs.indexOf(r)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(r),r.parent!=null)throw"Already has a parent!";if(o.child!=null)throw"Already has a child!";return r.parent=o,o.child=r,r}else{p=h,e=o,h=r;var t=e.getOwner(),i=p.getOwner();if(!(t!=null&&t.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(i!=null&&i.getGraphManager()==this))throw"Target not in this graph mgr!";if(t==i)return h.isInterGraph=!1,t.add(h,e,p);if(h.isInterGraph=!0,h.source=e,h.target=p,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},n.prototype.remove=function(r){if(r instanceof E){var o=r;if(o.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(o==this.rootGraph||o.parent!=null&&o.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(o.getEdges());for(var e,p=h.length,t=0;t<p;t++)e=h[t],o.remove(e);var i=[];i=i.concat(o.getNodes());var l;p=i.length;for(var t=0;t<p;t++)l=i[t],o.remove(l);o==this.rootGraph&&this.setRootGraph(null);var g=this.graphs.indexOf(o);this.graphs.splice(g,1),o.parent=null}else if(r instanceof s){if(e=r,e==null)throw"Edge is null!";if(!e.isInterGraph)throw"Not an inter-graph edge!";if(!(e.source!=null&&e.target!=null))throw"Source and/or target is null!";if(!(e.source.edges.indexOf(e)!=-1&&e.target.edges.indexOf(e)!=-1))throw"Source and/or target doesn't know this edge!";var g=e.source.edges.indexOf(e);if(e.source.edges.splice(g,1),g=e.target.edges.indexOf(e),e.target.edges.splice(g,1),!(e.source.owner!=null&&e.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(e.source.owner.getGraphManager().edges.indexOf(e)==-1)throw"Not in owner graph manager's edge list!";var g=e.source.owner.getGraphManager().edges.indexOf(e);e.source.owner.getGraphManager().edges.splice(g,1)}},n.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},n.prototype.getGraphs=function(){return this.graphs},n.prototype.getAllNodes=function(){if(this.allNodes==null){for(var r=[],o=this.getGraphs(),h=o.length,e=0;e<h;e++)r=r.concat(o[e].getNodes());this.allNodes=r}return this.allNodes},n.prototype.resetAllNodes=function(){this.allNodes=null},n.prototype.resetAllEdges=function(){this.allEdges=null},n.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},n.prototype.getAllEdges=function(){if(this.allEdges==null){for(var r=[],o=this.getGraphs(),h=o.length,e=0;e<o.length;e++)r=r.concat(o[e].getEdges());r=r.concat(this.edges),this.allEdges=r}return this.allEdges},n.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},n.prototype.setAllNodesToApplyGravitation=function(r){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=r},n.prototype.getRoot=function(){return this.rootGraph},n.prototype.setRootGraph=function(r){if(r.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=r,r.parent==null&&(r.parent=this.layout.newNode("Root node"))},n.prototype.getLayout=function(){return this.layout},n.prototype.isOneAncestorOfOther=function(r,o){if(!(r!=null&&o!=null))throw"assert failed";if(r==o)return!0;var h=r.getOwner(),e;do{if(e=h.getParent(),e==null)break;if(e==o)return!0;if(h=e.getOwner(),h==null)break}while(!0);h=o.getOwner();do{if(e=h.getParent(),e==null)break;if(e==r)return!0;if(h=e.getOwner(),h==null)break}while(!0);return!1},n.prototype.calcLowestCommonAncestors=function(){for(var r,o,h,e,p,t=this.getAllEdges(),i=t.length,l=0;l<i;l++){if(r=t[l],o=r.source,h=r.target,r.lca=null,r.sourceInLca=o,r.targetInLca=h,o==h){r.lca=o.getOwner();continue}for(e=o.getOwner();r.lca==null;){for(r.targetInLca=h,p=h.getOwner();r.lca==null;){if(p==e){r.lca=p;break}if(p==this.rootGraph)break;if(r.lca!=null)throw"assert failed";r.targetInLca=p.getParent(),p=r.targetInLca.getOwner()}if(e==this.rootGraph)break;r.lca==null&&(r.sourceInLca=e.getParent(),e=r.sourceInLca.getOwner())}if(r.lca==null)throw"assert failed"}},n.prototype.calcLowestCommonAncestor=function(r,o){if(r==o)return r.getOwner();var h=r.getOwner();do{if(h==null)break;var e=o.getOwner();do{if(e==null)break;if(e==h)return e;e=e.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},n.prototype.calcInclusionTreeDepths=function(r,o){r==null&&o==null&&(r=this.rootGraph,o=1);for(var h,e=r.getNodes(),p=e.length,t=0;t<p;t++)h=e[t],h.inclusionTreeDepth=o,h.child!=null&&this.calcInclusionTreeDepths(h.child,o+1)},n.prototype.includesInvalidEdge=function(){for(var r,o=[],h=this.edges.length,e=0;e<h;e++)r=this.edges[e],this.isOneAncestorOfOther(r.source,r.target)&&o.push(r);for(var e=0;e<o.length;e++)this.remove(o[e]);return!1},j.exports=n},function(j,at,F){"use strict";var E=F(12);function s(){}s.calcSeparationAmount=function(n,r,o,h){if(!n.intersects(r))throw"assert failed";var e=new Array(2);this.decideDirectionsForOverlappingNodes(n,r,e),o[0]=Math.min(n.getRight(),r.getRight())-Math.max(n.x,r.x),o[1]=Math.min(n.getBottom(),r.getBottom())-Math.max(n.y,r.y),n.getX()<=r.getX()&&n.getRight()>=r.getRight()?o[0]+=Math.min(r.getX()-n.getX(),n.getRight()-r.getRight()):r.getX()<=n.getX()&&r.getRight()>=n.getRight()&&(o[0]+=Math.min(n.getX()-r.getX(),r.getRight()-n.getRight())),n.getY()<=r.getY()&&n.getBottom()>=r.getBottom()?o[1]+=Math.min(r.getY()-n.getY(),n.getBottom()-r.getBottom()):r.getY()<=n.getY()&&r.getBottom()>=n.getBottom()&&(o[1]+=Math.min(n.getY()-r.getY(),r.getBottom()-n.getBottom()));var p=Math.abs((r.getCenterY()-n.getCenterY())/(r.getCenterX()-n.getCenterX()));r.getCenterY()===n.getCenterY()&&r.getCenterX()===n.getCenterX()&&(p=1);var t=p*o[0],i=o[1]/p;o[0]<i?i=o[0]:t=o[1],o[0]=-1*e[0]*(i/2+h),o[1]=-1*e[1]*(t/2+h)},s.decideDirectionsForOverlappingNodes=function(n,r,o){n.getCenterX()<r.getCenterX()?o[0]=-1:o[0]=1,n.getCenterY()<r.getCenterY()?o[1]=-1:o[1]=1},s.getIntersection2=function(n,r,o){var h=n.getCenterX(),e=n.getCenterY(),p=r.getCenterX(),t=r.getCenterY();if(n.intersects(r))return o[0]=h,o[1]=e,o[2]=p,o[3]=t,!0;var i=n.getX(),l=n.getY(),g=n.getRight(),u=n.getX(),T=n.getBottom(),c=n.getRight(),A=n.getWidthHalf(),N=n.getHeightHalf(),L=r.getX(),I=r.getY(),Q=r.getRight(),R=r.getX(),et=r.getBottom(),ut=r.getRight(),lt=r.getWidthHalf(),mt=r.getHeightHalf(),b=!1,Z=!1;if(h===p){if(e>t)return o[0]=h,o[1]=l,o[2]=p,o[3]=et,!1;if(e<t)return o[0]=h,o[1]=T,o[2]=p,o[3]=I,!1}else if(e===t){if(h>p)return o[0]=i,o[1]=e,o[2]=Q,o[3]=t,!1;if(h<p)return o[0]=g,o[1]=e,o[2]=L,o[3]=t,!1}else{var a=n.height/n.width,v=r.height/r.width,f=(t-e)/(p-h),m=void 0,y=void 0,P=void 0,D=void 0,H=void 0,X=void 0;if(-a===f?h>p?(o[0]=u,o[1]=T,b=!0):(o[0]=g,o[1]=l,b=!0):a===f&&(h>p?(o[0]=i,o[1]=l,b=!0):(o[0]=c,o[1]=T,b=!0)),-v===f?p>h?(o[2]=R,o[3]=et,Z=!0):(o[2]=Q,o[3]=I,Z=!0):v===f&&(p>h?(o[2]=L,o[3]=I,Z=!0):(o[2]=ut,o[3]=et,Z=!0)),b&&Z)return!1;if(h>p?e>t?(m=this.getCardinalDirection(a,f,4),y=this.getCardinalDirection(v,f,2)):(m=this.getCardinalDirection(-a,f,3),y=this.getCardinalDirection(-v,f,1)):e>t?(m=this.getCardinalDirection(-a,f,1),y=this.getCardinalDirection(-v,f,3)):(m=this.getCardinalDirection(a,f,2),y=this.getCardinalDirection(v,f,4)),!b)switch(m){case 1:D=l,P=h+-N/f,o[0]=P,o[1]=D;break;case 2:P=c,D=e+A*f,o[0]=P,o[1]=D;break;case 3:D=T,P=h+N/f,o[0]=P,o[1]=D;break;case 4:P=u,D=e+-A*f,o[0]=P,o[1]=D;break}if(!Z)switch(y){case 1:X=I,H=p+-mt/f,o[2]=H,o[3]=X;break;case 2:H=ut,X=t+lt*f,o[2]=H,o[3]=X;break;case 3:X=et,H=p+mt/f,o[2]=H,o[3]=X;break;case 4:H=R,X=t+-lt*f,o[2]=H,o[3]=X;break}}return!1},s.getCardinalDirection=function(n,r,o){return n>r?o:1+o%4},s.getIntersection=function(n,r,o,h){if(h==null)return this.getIntersection2(n,r,o);var e=n.x,p=n.y,t=r.x,i=r.y,l=o.x,g=o.y,u=h.x,T=h.y,c=void 0,A=void 0,N=void 0,L=void 0,I=void 0,Q=void 0,R=void 0,et=void 0,ut=void 0;return N=i-p,I=e-t,R=t*p-e*i,L=T-g,Q=l-u,et=u*g-l*T,ut=N*Q-L*I,ut===0?null:(c=(I*et-Q*R)/ut,A=(L*R-N*et)/ut,new E(c,A))},s.angleOfVector=function(n,r,o,h){var e=void 0;return n!==o?(e=Math.atan((h-r)/(o-n)),o<n?e+=Math.PI:h<r&&(e+=this.TWO_PI)):h<r?e=this.ONE_AND_HALF_PI:e=this.HALF_PI,e},s.doIntersect=function(n,r,o,h){var e=n.x,p=n.y,t=r.x,i=r.y,l=o.x,g=o.y,u=h.x,T=h.y,c=(t-e)*(T-g)-(u-l)*(i-p);if(c===0)return!1;var A=((T-g)*(u-e)+(l-u)*(T-p))/c,N=((p-i)*(u-e)+(t-e)*(T-p))/c;return 0<A&&A<1&&0<N&&N<1},s.findCircleLineIntersections=function(n,r,o,h,e,p,t){var i=(o-n)*(o-n)+(h-r)*(h-r),l=2*((n-e)*(o-n)+(r-p)*(h-r)),g=(n-e)*(n-e)+(r-p)*(r-p)-t*t,u=l*l-4*i*g;if(u>=0){var T=(-l+Math.sqrt(l*l-4*i*g))/(2*i),c=(-l-Math.sqrt(l*l-4*i*g))/(2*i),A=null;return T>=0&&T<=1?[T]:c>=0&&c<=1?[c]:A}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,j.exports=s},function(j,at,F){"use strict";function E(){}E.sign=function(s){return s>0?1:s<0?-1:0},E.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},E.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},j.exports=E},function(j,at,F){"use strict";function E(){}E.MAX_VALUE=2147483647,E.MIN_VALUE=-2147483648,j.exports=E},function(j,at,F){"use strict";var E=function(){function e(p,t){for(var i=0;i<t.length;i++){var l=t[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(p,l.key,l)}}return function(p,t,i){return t&&e(p.prototype,t),i&&e(p,i),p}}();function s(e,p){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}var n=function(p){return{value:p,next:null,prev:null}},r=function(p,t,i,l){return p!==null?p.next=t:l.head=t,i!==null?i.prev=t:l.tail=t,t.prev=p,t.next=i,l.length++,t},o=function(p,t){var i=p.prev,l=p.next;return i!==null?i.next=l:t.head=l,l!==null?l.prev=i:t.tail=i,p.prev=p.next=null,t.length--,p},h=function(){function e(p){var t=this;s(this,e),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(i){return t.push(i)})}return E(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,i){return r(i.prev,n(t),i,this)}},{key:"insertAfter",value:function(t,i){return r(i,n(t),i.next,this)}},{key:"insertNodeBefore",value:function(t,i){return r(i.prev,t,i,this)}},{key:"insertNodeAfter",value:function(t,i){return r(i,t,i.next,this)}},{key:"push",value:function(t){return r(this.tail,n(t),null,this)}},{key:"unshift",value:function(t){return r(null,n(t),this.head,this)}},{key:"remove",value:function(t){return o(t,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var i=1,l=this.head;i<t;)l=l.next,i++;return l.value}}},{key:"set_object_at",value:function(t,i){if(t<=this.length()){for(var l=1,g=this.head;l<t;)g=g.next,l++;g.value=i}}}]),e}();j.exports=h},function(j,at,F){"use strict";function E(s,n,r){this.x=null,this.y=null,s==null&&n==null&&r==null?(this.x=0,this.y=0):typeof s=="number"&&typeof n=="number"&&r==null?(this.x=s,this.y=n):s.constructor.name=="Point"&&n==null&&r==null&&(r=s,this.x=r.x,this.y=r.y)}E.prototype.getX=function(){return this.x},E.prototype.getY=function(){return this.y},E.prototype.getLocation=function(){return new E(this.x,this.y)},E.prototype.setLocation=function(s,n,r){s.constructor.name=="Point"&&n==null&&r==null?(r=s,this.setLocation(r.x,r.y)):typeof s=="number"&&typeof n=="number"&&r==null&&(parseInt(s)==s&&parseInt(n)==n?this.move(s,n):(this.x=Math.floor(s+.5),this.y=Math.floor(n+.5)))},E.prototype.move=function(s,n){this.x=s,this.y=n},E.prototype.translate=function(s,n){this.x+=s,this.y+=n},E.prototype.equals=function(s){if(s.constructor.name=="Point"){var n=s;return this.x==n.x&&this.y==n.y}return this==s},E.prototype.toString=function(){return new E().constructor.name+"[x="+this.x+",y="+this.y+"]"},j.exports=E},function(j,at,F){"use strict";function E(s,n,r,o){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&n!=null&&r!=null&&o!=null&&(this.x=s,this.y=n,this.width=r,this.height=o)}E.prototype.getX=function(){return this.x},E.prototype.setX=function(s){this.x=s},E.prototype.getY=function(){return this.y},E.prototype.setY=function(s){this.y=s},E.prototype.getWidth=function(){return this.width},E.prototype.setWidth=function(s){this.width=s},E.prototype.getHeight=function(){return this.height},E.prototype.setHeight=function(s){this.height=s},E.prototype.getRight=function(){return this.x+this.width},E.prototype.getBottom=function(){return this.y+this.height},E.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},E.prototype.getCenterX=function(){return this.x+this.width/2},E.prototype.getMinX=function(){return this.getX()},E.prototype.getMaxX=function(){return this.getX()+this.width},E.prototype.getCenterY=function(){return this.y+this.height/2},E.prototype.getMinY=function(){return this.getY()},E.prototype.getMaxY=function(){return this.getY()+this.height},E.prototype.getWidthHalf=function(){return this.width/2},E.prototype.getHeightHalf=function(){return this.height/2},j.exports=E},function(j,at,F){"use strict";var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function s(){}s.lastID=0,s.createID=function(n){return s.isPrimitive(n)?n:(n.uniqueID!=null||(n.uniqueID=s.getString(),s.lastID++),n.uniqueID)},s.getString=function(n){return n==null&&(n=s.lastID),"Object#"+n},s.isPrimitive=function(n){var r=typeof n=="undefined"?"undefined":E(n);return n==null||r!="object"&&r!="function"},j.exports=s},function(j,at,F){"use strict";function E(l){if(Array.isArray(l)){for(var g=0,u=Array(l.length);g<l.length;g++)u[g]=l[g];return u}else return Array.from(l)}var s=F(0),n=F(7),r=F(3),o=F(1),h=F(6),e=F(5),p=F(17),t=F(29);function i(l){t.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new n(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,l!=null&&(this.isRemoteUse=l)}i.RANDOM_SEED=1,i.prototype=Object.create(t.prototype),i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},i.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},i.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},i.prototype.newGraphManager=function(){var l=new n(this);return this.graphManager=l,l},i.prototype.newGraph=function(l){return new h(null,this.graphManager,l)},i.prototype.newNode=function(l){return new r(this.graphManager,l)},i.prototype.newEdge=function(l){return new o(null,null,l)},i.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},i.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var l;return this.checkLayoutSuccess()?l=!1:l=this.layout(),s.ANIMATE==="during"?!1:(l&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,l)},i.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},i.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var l,g=this.graphManager.getAllEdges(),u=0;u<g.length;u++)l=g[u];for(var T,c=this.graphManager.getRoot().getNodes(),u=0;u<c.length;u++)T=c[u];this.update(this.graphManager.getRoot())}},i.prototype.update=function(l){if(l==null)this.update2();else if(l instanceof r){var g=l;if(g.getChild()!=null)for(var u=g.getChild().getNodes(),T=0;T<u.length;T++)update(u[T]);if(g.vGraphObject!=null){var c=g.vGraphObject;c.update(g)}}else if(l instanceof o){var A=l;if(A.vGraphObject!=null){var N=A.vGraphObject;N.update(A)}}else if(l instanceof h){var L=l;if(L.vGraphObject!=null){var I=L.vGraphObject;I.update(L)}}},i.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},i.prototype.transform=function(l){if(l==null)this.transform(new e(0,0));else{var g=new p,u=this.graphManager.getRoot().updateLeftTop();if(u!=null){g.setWorldOrgX(l.x),g.setWorldOrgY(l.y),g.setDeviceOrgX(u.x),g.setDeviceOrgY(u.y);for(var T=this.getAllNodes(),c,A=0;A<T.length;A++)c=T[A],c.transform(g)}}},i.prototype.positionNodesRandomly=function(l){if(l==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var g,u,T=l.getNodes(),c=0;c<T.length;c++)g=T[c],u=g.getChild(),u==null||u.getNodes().length==0?g.scatter():(this.positionNodesRandomly(u),g.updateBounds())},i.prototype.getFlatForest=function(){for(var l=[],g=!0,u=this.graphManager.getRoot().getNodes(),T=!0,c=0;c<u.length;c++)u[c].getChild()!=null&&(T=!1);if(!T)return l;var A=new Set,N=[],L=new Map,I=[];for(I=I.concat(u);I.length>0&&g;){for(N.push(I[0]);N.length>0&&g;){var Q=N[0];N.splice(0,1),A.add(Q);for(var R=Q.getEdges(),c=0;c<R.length;c++){var et=R[c].getOtherEnd(Q);if(L.get(Q)!=et)if(!A.has(et))N.push(et),L.set(et,Q);else{g=!1;break}}}if(!g)l=[];else{var ut=[].concat(E(A));l.push(ut);for(var c=0;c<ut.length;c++){var lt=ut[c],mt=I.indexOf(lt);mt>-1&&I.splice(mt,1)}A=new Set,L=new Map}}return l},i.prototype.createDummyNodesForBendpoints=function(l){for(var g=[],u=l.source,T=this.graphManager.calcLowestCommonAncestor(l.source,l.target),c=0;c<l.bendpoints.length;c++){var A=this.newNode(null);A.setRect(new Point(0,0),new Dimension(1,1)),T.add(A);var N=this.newEdge(null);this.graphManager.add(N,u,A),g.add(A),u=A}var N=this.newEdge(null);return this.graphManager.add(N,u,l.target),this.edgeToDummyNodes.set(l,g),l.isInterGraph()?this.graphManager.remove(l):T.remove(l),g},i.prototype.createBendpointsFromDummyNodes=function(){var l=[];l=l.concat(this.graphManager.getAllEdges()),l=[].concat(E(this.edgeToDummyNodes.keys())).concat(l);for(var g=0;g<l.length;g++){var u=l[g];if(u.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(u),c=0;c<T.length;c++){var A=T[c],N=new e(A.getCenterX(),A.getCenterY()),L=u.bendpoints.get(c);L.x=N.x,L.y=N.y,A.getOwner().remove(A)}this.graphManager.add(u,u.source,u.target)}}},i.transform=function(l,g,u,T){if(u!=null&&T!=null){var c=g;if(l<=50){var A=g/u;c-=(g-A)/50*(50-l)}else{var N=g*T;c+=(N-g)/50*(l-50)}return c}else{var L,I;return l<=50?(L=9*g/500,I=g/10):(L=9*g/50,I=-8*g),L*l+I}},i.findCenterOfTree=function(l){var g=[];g=g.concat(l);var u=[],T=new Map,c=!1,A=null;(g.length==1||g.length==2)&&(c=!0,A=g[0]);for(var N=0;N<g.length;N++){var L=g[N],I=L.getNeighborsList().size;T.set(L,L.getNeighborsList().size),I==1&&u.push(L)}var Q=[];for(Q=Q.concat(u);!c;){var R=[];R=R.concat(Q),Q=[];for(var N=0;N<g.length;N++){var L=g[N],et=g.indexOf(L);et>=0&&g.splice(et,1);var ut=L.getNeighborsList();ut.forEach(function(b){if(u.indexOf(b)<0){var Z=T.get(b),a=Z-1;a==1&&Q.push(b),T.set(b,a)}})}u=u.concat(Q),(g.length==1||g.length==2)&&(c=!0,A=g[0])}return A},i.prototype.setGraphManager=function(l){this.graphManager=l},j.exports=i},function(j,at,F){"use strict";function E(){}E.seed=1,E.x=0,E.nextDouble=function(){return E.x=Math.sin(E.seed++)*1e4,E.x-Math.floor(E.x)},j.exports=E},function(j,at,F){"use strict";var E=F(5);function s(n,r){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(n){this.lworldOrgX=n},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(n){this.lworldOrgY=n},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(n){this.lworldExtX=n},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(n){this.lworldExtY=n},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(n){this.ldeviceOrgX=n},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(n){this.ldeviceOrgY=n},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(n){this.ldeviceExtX=n},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(n){this.ldeviceExtY=n},s.prototype.transformX=function(n){var r=0,o=this.lworldExtX;return o!=0&&(r=this.ldeviceOrgX+(n-this.lworldOrgX)*this.ldeviceExtX/o),r},s.prototype.transformY=function(n){var r=0,o=this.lworldExtY;return o!=0&&(r=this.ldeviceOrgY+(n-this.lworldOrgY)*this.ldeviceExtY/o),r},s.prototype.inverseTransformX=function(n){var r=0,o=this.ldeviceExtX;return o!=0&&(r=this.lworldOrgX+(n-this.ldeviceOrgX)*this.lworldExtX/o),r},s.prototype.inverseTransformY=function(n){var r=0,o=this.ldeviceExtY;return o!=0&&(r=this.lworldOrgY+(n-this.ldeviceOrgY)*this.lworldExtY/o),r},s.prototype.inverseTransformPoint=function(n){var r=new E(this.inverseTransformX(n.x),this.inverseTransformY(n.y));return r},j.exports=s},function(j,at,F){"use strict";function E(t){if(Array.isArray(t)){for(var i=0,l=Array(t.length);i<t.length;i++)l[i]=t[i];return l}else return Array.from(t)}var s=F(15),n=F(4),r=F(0),o=F(8),h=F(9);function e(){s.call(this),this.useSmartIdealEdgeLengthCalculation=n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=n.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=n.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=n.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=n.MAX_ITERATIONS}e.prototype=Object.create(s.prototype);for(var p in s)e[p]=s[p];e.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},e.prototype.calcIdealEdgeLengths=function(){for(var t,i,l,g,u,T,c,A=this.getGraphManager().getAllEdges(),N=0;N<A.length;N++)t=A[N],i=t.idealLength,t.isInterGraph&&(g=t.getSource(),u=t.getTarget(),T=t.getSourceInLca().getEstimatedSize(),c=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=T+c-2*r.SIMPLE_NODE_SIZE),l=t.getLca().getInclusionTreeDepth(),t.idealLength+=i*n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+u.getInclusionTreeDepth()-2*l))},e.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>n.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*n.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-n.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>n.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(n.COOLING_ADAPTATION_FACTOR,1-(t-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*(1-n.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},e.prototype.calcSpringForces=function(){for(var t=this.getAllEdges(),i,l=0;l<t.length;l++)i=t[l],this.calcSpringForce(i,i.idealLength)},e.prototype.calcRepulsionForces=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l,g,u,T,c=this.getAllNodes(),A;if(this.useFRGridVariant)for(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid(),A=new Set,l=0;l<c.length;l++)u=c[l],this.calculateRepulsionForceOfANode(u,A,t,i),A.add(u);else for(l=0;l<c.length;l++)for(u=c[l],g=l+1;g<c.length;g++)T=c[g],u.getOwner()==T.getOwner()&&this.calcRepulsionForce(u,T)},e.prototype.calcGravitationalForces=function(){for(var t,i=this.getAllNodesToApplyGravitation(),l=0;l<i.length;l++)t=i[l],this.calcGravitationalForce(t)},e.prototype.moveNodes=function(){for(var t=this.getAllNodes(),i,l=0;l<t.length;l++)i=t[l],i.move()},e.prototype.calcSpringForce=function(t,i){var l=t.getSource(),g=t.getTarget(),u,T,c,A;if(this.uniformLeafNodeSizes&&l.getChild()==null&&g.getChild()==null)t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;u=t.getLength(),u!=0&&(T=t.edgeElasticity*(u-i),c=T*(t.lengthX/u),A=T*(t.lengthY/u),l.springForceX+=c,l.springForceY+=A,g.springForceX-=c,g.springForceY-=A)},e.prototype.calcRepulsionForce=function(t,i){var l=t.getRect(),g=i.getRect(),u=new Array(2),T=new Array(4),c,A,N,L,I,Q,R;if(l.intersects(g)){o.calcSeparationAmount(l,g,u,n.DEFAULT_EDGE_LENGTH/2),Q=2*u[0],R=2*u[1];var et=t.noOfChildren*i.noOfChildren/(t.noOfChildren+i.noOfChildren);t.repulsionForceX-=et*Q,t.repulsionForceY-=et*R,i.repulsionForceX+=et*Q,i.repulsionForceY+=et*R}else this.uniformLeafNodeSizes&&t.getChild()==null&&i.getChild()==null?(c=g.getCenterX()-l.getCenterX(),A=g.getCenterY()-l.getCenterY()):(o.getIntersection(l,g,T),c=T[2]-T[0],A=T[3]-T[1]),Math.abs(c)<n.MIN_REPULSION_DIST&&(c=h.sign(c)*n.MIN_REPULSION_DIST),Math.abs(A)<n.MIN_REPULSION_DIST&&(A=h.sign(A)*n.MIN_REPULSION_DIST),N=c*c+A*A,L=Math.sqrt(N),I=(t.nodeRepulsion/2+i.nodeRepulsion/2)*t.noOfChildren*i.noOfChildren/N,Q=I*c/L,R=I*A/L,t.repulsionForceX-=Q,t.repulsionForceY-=R,i.repulsionForceX+=Q,i.repulsionForceY+=R},e.prototype.calcGravitationalForce=function(t){var i,l,g,u,T,c,A,N;i=t.getOwner(),l=(i.getRight()+i.getLeft())/2,g=(i.getTop()+i.getBottom())/2,u=t.getCenterX()-l,T=t.getCenterY()-g,c=Math.abs(u)+t.getWidth()/2,A=Math.abs(T)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(N=i.getEstimatedSize()*this.gravityRangeFactor,(c>N||A>N)&&(t.gravitationForceX=-this.gravityConstant*u,t.gravitationForceY=-this.gravityConstant*T)):(N=i.getEstimatedSize()*this.compoundGravityRangeFactor,(c>N||A>N)&&(t.gravitationForceX=-this.gravityConstant*u*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},e.prototype.isConverged=function(){var t,i=!1;return this.totalIterations>this.maxIterations/3&&(i=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||i},e.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},e.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,i=this.graphManager.getAllNodes(),l=0;l<i.length;l++)t=i[l],t.noOfChildren=t.getNoOfChildren()},e.prototype.calcGrid=function(t){var i=0,l=0;i=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),l=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var g=new Array(i),u=0;u<i;u++)g[u]=new Array(l);for(var u=0;u<i;u++)for(var T=0;T<l;T++)g[u][T]=new Array;return g},e.prototype.addNodeToGrid=function(t,i,l){var g=0,u=0,T=0,c=0;g=parseInt(Math.floor((t.getRect().x-i)/this.repulsionRange)),u=parseInt(Math.floor((t.getRect().width+t.getRect().x-i)/this.repulsionRange)),T=parseInt(Math.floor((t.getRect().y-l)/this.repulsionRange)),c=parseInt(Math.floor((t.getRect().height+t.getRect().y-l)/this.repulsionRange));for(var A=g;A<=u;A++)for(var N=T;N<=c;N++)this.grid[A][N].push(t),t.setGridCoordinates(g,u,T,c)},e.prototype.updateGrid=function(){var t,i,l=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<l.length;t++)i=l[t],this.addNodeToGrid(i,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},e.prototype.calculateRepulsionForceOfANode=function(t,i,l,g){if(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&l||g){var u=new Set;t.surrounding=new Array;for(var T,c=this.grid,A=t.startX-1;A<t.finishX+2;A++)for(var N=t.startY-1;N<t.finishY+2;N++)if(!(A<0||N<0||A>=c.length||N>=c[0].length)){for(var L=0;L<c[A][N].length;L++)if(T=c[A][N][L],!(t.getOwner()!=T.getOwner()||t==T)&&!i.has(T)&&!u.has(T)){var I=Math.abs(t.getCenterX()-T.getCenterX())-(t.getWidth()/2+T.getWidth()/2),Q=Math.abs(t.getCenterY()-T.getCenterY())-(t.getHeight()/2+T.getHeight()/2);I<=this.repulsionRange&&Q<=this.repulsionRange&&u.add(T)}}t.surrounding=[].concat(E(u))}for(A=0;A<t.surrounding.length;A++)this.calcRepulsionForce(t,t.surrounding[A])},e.prototype.calcRepulsionRange=function(){return 0},j.exports=e},function(j,at,F){"use strict";var E=F(1),s=F(4);function n(o,h,e){E.call(this,o,h,e),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}n.prototype=Object.create(E.prototype);for(var r in E)n[r]=E[r];j.exports=n},function(j,at,F){"use strict";var E=F(3),s=F(4);function n(o,h,e,p){E.call(this,o,h,e,p),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}n.prototype=Object.create(E.prototype);for(var r in E)n[r]=E[r];n.prototype.setGridCoordinates=function(o,h,e,p){this.startX=o,this.finishX=h,this.startY=e,this.finishY=p},j.exports=n},function(j,at,F){"use strict";function E(s,n){this.width=0,this.height=0,s!==null&&n!==null&&(this.height=n,this.width=s)}E.prototype.getWidth=function(){return this.width},E.prototype.setWidth=function(s){this.width=s},E.prototype.getHeight=function(){return this.height},E.prototype.setHeight=function(s){this.height=s},j.exports=E},function(j,at,F){"use strict";var E=F(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(n,r){var o=E.createID(n);this.contains(o)||(this.map[o]=r,this.keys.push(n))},s.prototype.contains=function(n){var r=E.createID(n);return this.map[n]!=null},s.prototype.get=function(n){var r=E.createID(n);return this.map[r]},s.prototype.keySet=function(){return this.keys},j.exports=s},function(j,at,F){"use strict";var E=F(14);function s(){this.set={}}s.prototype.add=function(n){var r=E.createID(n);this.contains(r)||(this.set[r]=n)},s.prototype.remove=function(n){delete this.set[E.createID(n)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(n){return this.set[E.createID(n)]==n},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(n){for(var r=Object.keys(this.set),o=r.length,h=0;h<o;h++)n.push(this.set[r[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(n){for(var r=n.length,o=0;o<r;o++){var h=n[o];this.add(h)}},j.exports=s},function(j,at,F){"use strict";function E(){}E.multMat=function(s,n){for(var r=[],o=0;o<s.length;o++){r[o]=[];for(var h=0;h<n[0].length;h++){r[o][h]=0;for(var e=0;e<s[0].length;e++)r[o][h]+=s[o][e]*n[e][h]}}return r},E.transpose=function(s){for(var n=[],r=0;r<s[0].length;r++){n[r]=[];for(var o=0;o<s.length;o++)n[r][o]=s[o][r]}return n},E.multCons=function(s,n){for(var r=[],o=0;o<s.length;o++)r[o]=s[o]*n;return r},E.minusOp=function(s,n){for(var r=[],o=0;o<s.length;o++)r[o]=s[o]-n[o];return r},E.dotProduct=function(s,n){for(var r=0,o=0;o<s.length;o++)r+=s[o]*n[o];return r},E.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},E.normalize=function(s){for(var n=[],r=this.mag(s),o=0;o<s.length;o++)n[o]=s[o]/r;return n},E.multGamma=function(s){for(var n=[],r=0,o=0;o<s.length;o++)r+=s[o];r*=-1/s.length;for(var h=0;h<s.length;h++)n[h]=r+s[h];return n},E.multL=function(s,n,r){for(var o=[],h=[],e=[],p=0;p<n[0].length;p++){for(var t=0,i=0;i<n.length;i++)t+=-.5*n[i][p]*s[i];h[p]=t}for(var l=0;l<r.length;l++){for(var g=0,u=0;u<r.length;u++)g+=r[l][u]*h[u];e[l]=g}for(var T=0;T<n.length;T++){for(var c=0,A=0;A<n[0].length;A++)c+=n[T][A]*e[A];o[T]=c}return o},j.exports=E},function(j,at,F){"use strict";var E=function(){function o(h,e){for(var p=0;p<e.length;p++){var t=e[p];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(h,t.key,t)}}return function(h,e,p){return e&&o(h.prototype,e),p&&o(h,p),h}}();function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}var n=F(11),r=function(){function o(h,e){s(this,o),(e!==null||e!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;h instanceof n?p=h.size():p=h.length,this._quicksort(h,0,p-1)}return E(o,[{key:"_quicksort",value:function(e,p,t){if(p<t){var i=this._partition(e,p,t);this._quicksort(e,p,i),this._quicksort(e,i+1,t)}}},{key:"_partition",value:function(e,p,t){for(var i=this._get(e,p),l=p,g=t;;){for(;this.compareFunction(i,this._get(e,g));)g--;for(;this.compareFunction(this._get(e,l),i);)l++;if(l<g)this._swap(e,l,g),l++,g--;else return g}}},{key:"_get",value:function(e,p){return e instanceof n?e.get_object_at(p):e[p]}},{key:"_set",value:function(e,p,t){e instanceof n?e.set_object_at(p,t):e[p]=t}},{key:"_swap",value:function(e,p,t){var i=this._get(e,p);this._set(e,p,this._get(e,t)),this._set(e,t,i)}},{key:"_defaultCompareFunction",value:function(e,p){return p>e}}]),o}();j.exports=r},function(j,at,F){"use strict";function E(){}E.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var n=Math.min(this.m,this.n);this.s=function(dt){for(var Et=[];dt-- >0;)Et.push(0);return Et}(Math.min(this.m+1,this.n)),this.U=function(dt){var Et=function St(xt){if(xt.length==0)return 0;for(var bt=[],It=0;It<xt[0];It++)bt.push(St(xt.slice(1)));return bt};return Et(dt)}([this.m,n]),this.V=function(dt){var Et=function St(xt){if(xt.length==0)return 0;for(var bt=[],It=0;It<xt[0];It++)bt.push(St(xt.slice(1)));return bt};return Et(dt)}([this.n,this.n]);for(var r=function(dt){for(var Et=[];dt-- >0;)Et.push(0);return Et}(this.n),o=function(dt){for(var Et=[];dt-- >0;)Et.push(0);return Et}(this.m),h=!0,e=!0,p=Math.min(this.m-1,this.n),t=Math.max(0,Math.min(this.n-2,this.m)),i=0;i<Math.max(p,t);i++){if(i<p){this.s[i]=0;for(var l=i;l<this.m;l++)this.s[i]=E.hypot(this.s[i],s[l][i]);if(this.s[i]!==0){s[i][i]<0&&(this.s[i]=-this.s[i]);for(var g=i;g<this.m;g++)s[g][i]/=this.s[i];s[i][i]+=1}this.s[i]=-this.s[i]}for(var u=i+1;u<this.n;u++){if(function(dt,Et){return dt&&Et}(i<p,this.s[i]!==0)){for(var T=0,c=i;c<this.m;c++)T+=s[c][i]*s[c][u];T=-T/s[i][i];for(var A=i;A<this.m;A++)s[A][u]+=T*s[A][i]}r[u]=s[i][u]}if(function(dt,Et){return dt&&Et}(h,i<p))for(var N=i;N<this.m;N++)this.U[N][i]=s[N][i];if(i<t){r[i]=0;for(var L=i+1;L<this.n;L++)r[i]=E.hypot(r[i],r[L]);if(r[i]!==0){r[i+1]<0&&(r[i]=-r[i]);for(var I=i+1;I<this.n;I++)r[I]/=r[i];r[i+1]+=1}if(r[i]=-r[i],function(dt,Et){return dt&&Et}(i+1<this.m,r[i]!==0)){for(var Q=i+1;Q<this.m;Q++)o[Q]=0;for(var R=i+1;R<this.n;R++)for(var et=i+1;et<this.m;et++)o[et]+=r[R]*s[et][R];for(var ut=i+1;ut<this.n;ut++)for(var lt=-r[ut]/r[i+1],mt=i+1;mt<this.m;mt++)s[mt][ut]+=lt*o[mt]}if(e)for(var b=i+1;b<this.n;b++)this.V[b][i]=r[b]}}var Z=Math.min(this.n,this.m+1);if(p<this.n&&(this.s[p]=s[p][p]),this.m<Z&&(this.s[Z-1]=0),t+1<Z&&(r[t]=s[t][Z-1]),r[Z-1]=0,h){for(var a=p;a<n;a++){for(var v=0;v<this.m;v++)this.U[v][a]=0;this.U[a][a]=1}for(var f=p-1;f>=0;f--)if(this.s[f]!==0){for(var m=f+1;m<n;m++){for(var y=0,P=f;P<this.m;P++)y+=this.U[P][f]*this.U[P][m];y=-y/this.U[f][f];for(var D=f;D<this.m;D++)this.U[D][m]+=y*this.U[D][f]}for(var H=f;H<this.m;H++)this.U[H][f]=-this.U[H][f];this.U[f][f]=1+this.U[f][f];for(var X=0;X<f-1;X++)this.U[X][f]=0}else{for(var G=0;G<this.m;G++)this.U[G][f]=0;this.U[f][f]=1}}if(e)for(var J=this.n-1;J>=0;J--){if(function(dt,Et){return dt&&Et}(J<t,r[J]!==0))for(var st=J+1;st<n;st++){for(var B=0,ht=J+1;ht<this.n;ht++)B+=this.V[ht][J]*this.V[ht][st];B=-B/this.V[J+1][J];for(var K=J+1;K<this.n;K++)this.V[K][st]+=B*this.V[K][J]}for(var O=0;O<this.n;O++)this.V[O][J]=0;this.V[J][J]=1}for(var z=Z-1,Y=0,nt=Math.pow(2,-52),pt=Math.pow(2,-966);Z>0;){var _=void 0,Pt=void 0;for(_=Z-2;_>=-1&&_!==-1;_--)if(Math.abs(r[_])<=pt+nt*(Math.abs(this.s[_])+Math.abs(this.s[_+1]))){r[_]=0;break}if(_===Z-2)Pt=4;else{var Tt=void 0;for(Tt=Z-1;Tt>=_&&Tt!==_;Tt--){var Vt=(Tt!==Z?Math.abs(r[Tt]):0)+(Tt!==_+1?Math.abs(r[Tt-1]):0);if(Math.abs(this.s[Tt])<=pt+nt*Vt){this.s[Tt]=0;break}}Tt===_?Pt=3:Tt===Z-1?Pt=1:(Pt=2,_=Tt)}switch(_++,Pt){case 1:{var Ut=r[Z-2];r[Z-2]=0;for(var gt=Z-2;gt>=_;gt--){var ft=E.hypot(this.s[gt],Ut),wt=this.s[gt]/ft,At=Ut/ft;if(this.s[gt]=ft,gt!==_&&(Ut=-At*r[gt-1],r[gt-1]=wt*r[gt-1]),e)for(var Lt=0;Lt<this.n;Lt++)ft=wt*this.V[Lt][gt]+At*this.V[Lt][Z-1],this.V[Lt][Z-1]=-At*this.V[Lt][gt]+wt*this.V[Lt][Z-1],this.V[Lt][gt]=ft}}break;case 2:{var Ct=r[_-1];r[_-1]=0;for(var Mt=_;Mt<Z;Mt++){var Ot=E.hypot(this.s[Mt],Ct),Xt=this.s[Mt]/Ot,Zt=Ct/Ot;if(this.s[Mt]=Ot,Ct=-Zt*r[Mt],r[Mt]=Xt*r[Mt],h)for(var Ft=0;Ft<this.m;Ft++)Ot=Xt*this.U[Ft][Mt]+Zt*this.U[Ft][_-1],this.U[Ft][_-1]=-Zt*this.U[Ft][Mt]+Xt*this.U[Ft][_-1],this.U[Ft][Mt]=Ot}}break;case 3:{var Yt=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[Z-1]),Math.abs(this.s[Z-2])),Math.abs(r[Z-2])),Math.abs(this.s[_])),Math.abs(r[_])),Wt=this.s[Z-1]/Yt,$=this.s[Z-2]/Yt,d=r[Z-2]/Yt,M=this.s[_]/Yt,C=r[_]/Yt,x=(($+Wt)*($-Wt)+d*d)/2,w=Wt*d*(Wt*d),q=0;(function(dt,Et){return dt||Et})(x!==0,w!==0)&&(q=Math.sqrt(x*x+w),x<0&&(q=-q),q=w/(x+q));for(var W=(M+Wt)*(M-Wt)+q,S=M*C,U=_;U<Z-1;U++){var V=E.hypot(W,S),rt=W/V,it=S/V;if(U!==_&&(r[U-1]=V),W=rt*this.s[U]+it*r[U],r[U]=rt*r[U]-it*this.s[U],S=it*this.s[U+1],this.s[U+1]=rt*this.s[U+1],e)for(var yt=0;yt<this.n;yt++)V=rt*this.V[yt][U]+it*this.V[yt][U+1],this.V[yt][U+1]=-it*this.V[yt][U]+rt*this.V[yt][U+1],this.V[yt][U]=V;if(V=E.hypot(W,S),rt=W/V,it=S/V,this.s[U]=V,W=rt*r[U]+it*this.s[U+1],this.s[U+1]=-it*r[U]+rt*this.s[U+1],S=it*r[U+1],r[U+1]=rt*r[U+1],h&&U<this.m-1)for(var k=0;k<this.m;k++)V=rt*this.U[k][U]+it*this.U[k][U+1],this.U[k][U+1]=-it*this.U[k][U]+rt*this.U[k][U+1],this.U[k][U]=V}r[Z-2]=W,Y=Y+1}break;case 4:{if(this.s[_]<=0&&(this.s[_]=this.s[_]<0?-this.s[_]:0,e))for(var tt=0;tt<=z;tt++)this.V[tt][_]=-this.V[tt][_];for(;_<z&&!(this.s[_]>=this.s[_+1]);){var vt=this.s[_];if(this.s[_]=this.s[_+1],this.s[_+1]=vt,e&&_<this.n-1)for(var ot=0;ot<this.n;ot++)vt=this.V[ot][_+1],this.V[ot][_+1]=this.V[ot][_],this.V[ot][_]=vt;if(h&&_<this.m-1)for(var ct=0;ct<this.m;ct++)vt=this.U[ct][_+1],this.U[ct][_+1]=this.U[ct][_],this.U[ct][_]=vt;_++}Y=0,Z--}break}}var Dt={U:this.U,V:this.V,S:this.s};return Dt},E.hypot=function(s,n){var r=void 0;return Math.abs(s)>Math.abs(n)?(r=n/s,r=Math.abs(s)*Math.sqrt(1+r*r)):n!=0?(r=s/n,r=Math.abs(n)*Math.sqrt(1+r*r)):r=0,r},j.exports=E},function(j,at,F){"use strict";var E=function(){function r(o,h){for(var e=0;e<h.length;e++){var p=h[e];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,h,e){return h&&r(o.prototype,h),e&&r(o,e),o}}();function s(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function r(o,h){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,r),this.sequence1=o,this.sequence2=h,this.match_score=e,this.mismatch_penalty=p,this.gap_penalty=t,this.iMax=o.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var i=0;i<this.iMax;i++){this.grid[i]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[i][l]=0}this.tracebackGrid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.tracebackGrid[g]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[g][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return E(r,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var t=1;t<this.jMax;t++){var i=void 0;this.sequence1[p-1]===this.sequence2[t-1]?i=this.grid[p-1][t-1]+this.match_score:i=this.grid[p-1][t-1]+this.mismatch_penalty;var l=this.grid[p-1][t]+this.gap_penalty,g=this.grid[p][t-1]+this.gap_penalty,u=[i,l,g],T=this.arrayAllMaxIndexes(u);this.grid[p][t]=u[T[0]],this.tracebackGrid[p][t]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var e=h[0],p=this.tracebackGrid[e.pos[0]][e.pos[1]];p[0]&&h.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),p[1]&&h.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),p[2]&&h.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),e.pos[0]===0&&e.pos[1]===0&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,e){for(var p=[],t=-1;(t=h.indexOf(e,t+1))!==-1;)p.push(t);return p}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),r}();j.exports=n},function(j,at,F){"use strict";var E=function(){};E.FDLayout=F(18),E.FDLayoutConstants=F(4),E.FDLayoutEdge=F(19),E.FDLayoutNode=F(20),E.DimensionD=F(21),E.HashMap=F(22),E.HashSet=F(23),E.IGeometry=F(8),E.IMath=F(9),E.Integer=F(10),E.Point=F(12),E.PointD=F(5),E.RandomSeed=F(16),E.RectangleD=F(13),E.Transform=F(17),E.UniqueIDGeneretor=F(14),E.Quicksort=F(25),E.LinkedList=F(11),E.LGraphObject=F(2),E.LGraph=F(6),E.LEdge=F(1),E.LGraphManager=F(7),E.LNode=F(3),E.Layout=F(15),E.LayoutConstants=F(0),E.NeedlemanWunsch=F(27),E.Matrix=F(24),E.SVD=F(26),j.exports=E},function(j,at,F){"use strict";function E(){this.listeners=[]}var s=E.prototype;s.addListener=function(n,r){this.listeners.push({event:n,callback:r})},s.removeListener=function(n,r){for(var o=this.listeners.length;o>=0;o--){var h=this.listeners[o];h.event===n&&h.callback===r&&this.listeners.splice(o,1)}},s.emit=function(n,r){for(var o=0;o<this.listeners.length;o++){var h=this.listeners[o];n===h.event&&h.callback(r)}},j.exports=E}])})},24171:function(Gt,j,at){"use strict";at.d(j,{diagram:function(){return $}});var F=at(81295),E=at(17549),s=at(23265),n=at(67546),r=at(35934),o=at(21065),h=at(95895),e=at(99290),p=at(20789),t=at(77942),i=at(76e3),l={L:"left",R:"right",T:"top",B:"bottom"},g={L:(0,h.eW)(d=>`${d},${d/2} 0,${d} 0,0`,"L"),R:(0,h.eW)(d=>`0,${d/2} ${d},0 ${d},${d}`,"R"),T:(0,h.eW)(d=>`0,0 ${d},0 ${d/2},${d}`,"T"),B:(0,h.eW)(d=>`${d/2},0 ${d},${d} 0,${d}`,"B")},u={L:(0,h.eW)((d,M)=>d-M+2,"L"),R:(0,h.eW)((d,M)=>d-2,"R"),T:(0,h.eW)((d,M)=>d-M+2,"T"),B:(0,h.eW)((d,M)=>d-2,"B")},T=(0,h.eW)(function(d){return A(d)?d==="L"?"R":"L":d==="T"?"B":"T"},"getOppositeArchitectureDirection"),c=(0,h.eW)(function(d){const M=d;return M==="L"||M==="R"||M==="T"||M==="B"},"isArchitectureDirection"),A=(0,h.eW)(function(d){const M=d;return M==="L"||M==="R"},"isArchitectureDirectionX"),N=(0,h.eW)(function(d){const M=d;return M==="T"||M==="B"},"isArchitectureDirectionY"),L=(0,h.eW)(function(d,M){const C=A(d)&&N(M),x=N(d)&&A(M);return C||x},"isArchitectureDirectionXY"),I=(0,h.eW)(function(d){const M=d[0],C=d[1],x=A(M)&&N(C),w=N(M)&&A(C);return x||w},"isArchitecturePairXY"),Q=(0,h.eW)(function(d){return d!=="LL"&&d!=="RR"&&d!=="TT"&&d!=="BB"},"isValidArchitectureDirectionPair"),R=(0,h.eW)(function(d,M){const C=`${d}${M}`;return Q(C)?C:void 0},"getArchitectureDirectionPair"),et=(0,h.eW)(function([d,M],C){const x=C[0],w=C[1];return A(x)?N(w)?[d+(x==="L"?-1:1),M+(w==="T"?1:-1)]:[d+(x==="L"?-1:1),M]:A(w)?[d+(w==="L"?1:-1),M+(x==="T"?1:-1)]:[d,M+(x==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),ut=(0,h.eW)(function(d){return d==="LT"||d==="TL"?[1,1]:d==="BL"||d==="LB"?[1,-1]:d==="BR"||d==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),lt=(0,h.eW)(function(d){return d.type==="service"},"isArchitectureService"),mt=(0,h.eW)(function(d){return d.type==="junction"},"isArchitectureJunction"),b=(0,h.eW)(d=>d.data(),"edgeData"),Z=(0,h.eW)(d=>d.data(),"nodeData"),a=h.vZ.architecture,v=new n.A(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:a,dataStructures:void 0,elements:{}})),f=(0,h.eW)(()=>{v.reset(),(0,h.ZH)()},"clear"),m=(0,h.eW)(function({id:d,icon:M,in:C,title:x,iconText:w}){if(v.records.registeredIds[d]!==void 0)throw new Error(`The service id [${d}] is already in use by another ${v.records.registeredIds[d]}`);if(C!==void 0){if(d===C)throw new Error(`The service [${d}] cannot be placed within itself`);if(v.records.registeredIds[C]===void 0)throw new Error(`The service [${d}]'s parent does not exist. Please make sure the parent is created before this service`);if(v.records.registeredIds[C]==="node")throw new Error(`The service [${d}]'s parent is not a group`)}v.records.registeredIds[d]="node",v.records.nodes[d]={id:d,type:"service",icon:M,iconText:w,title:x,edges:[],in:C}},"addService"),y=(0,h.eW)(()=>Object.values(v.records.nodes).filter(lt),"getServices"),P=(0,h.eW)(function({id:d,in:M}){v.records.registeredIds[d]="node",v.records.nodes[d]={id:d,type:"junction",edges:[],in:M}},"addJunction"),D=(0,h.eW)(()=>Object.values(v.records.nodes).filter(mt),"getJunctions"),H=(0,h.eW)(()=>Object.values(v.records.nodes),"getNodes"),X=(0,h.eW)(d=>v.records.nodes[d],"getNode"),G=(0,h.eW)(function({id:d,icon:M,in:C,title:x}){if(v.records.registeredIds[d]!==void 0)throw new Error(`The group id [${d}] is already in use by another ${v.records.registeredIds[d]}`);if(C!==void 0){if(d===C)throw new Error(`The group [${d}] cannot be placed within itself`);if(v.records.registeredIds[C]===void 0)throw new Error(`The group [${d}]'s parent does not exist. Please make sure the parent is created before this group`);if(v.records.registeredIds[C]==="node")throw new Error(`The group [${d}]'s parent is not a group`)}v.records.registeredIds[d]="group",v.records.groups[d]={id:d,icon:M,title:x,in:C}},"addGroup"),J=(0,h.eW)(()=>Object.values(v.records.groups),"getGroups"),st=(0,h.eW)(function({lhsId:d,rhsId:M,lhsDir:C,rhsDir:x,lhsInto:w,rhsInto:q,lhsGroup:W,rhsGroup:S,title:U}){if(!c(C))throw new Error(`Invalid direction given for left hand side of edge ${d}--${M}. Expected (L,R,T,B) got ${C}`);if(!c(x))throw new Error(`Invalid direction given for right hand side of edge ${d}--${M}. Expected (L,R,T,B) got ${x}`);if(v.records.nodes[d]===void 0&&v.records.groups[d]===void 0)throw new Error(`The left-hand id [${d}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(v.records.nodes[M]===void 0&&v.records.groups[d]===void 0)throw new Error(`The right-hand id [${M}] does not yet exist. Please create the service/group before declaring an edge to it.`);const V=v.records.nodes[d].in,rt=v.records.nodes[M].in;if(W&&V&&rt&&V==rt)throw new Error(`The left-hand id [${d}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(S&&V&&rt&&V==rt)throw new Error(`The right-hand id [${M}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const it={lhsId:d,lhsDir:C,lhsInto:w,lhsGroup:W,rhsId:M,rhsDir:x,rhsInto:q,rhsGroup:S,title:U};v.records.edges.push(it),v.records.nodes[d]&&v.records.nodes[M]&&(v.records.nodes[d].edges.push(v.records.edges[v.records.edges.length-1]),v.records.nodes[M].edges.push(v.records.edges[v.records.edges.length-1]))},"addEdge"),B=(0,h.eW)(()=>v.records.edges,"getEdges"),ht=(0,h.eW)(()=>{if(v.records.dataStructures===void 0){const d=Object.entries(v.records.nodes).reduce((W,[S,U])=>(W[S]=U.edges.reduce((V,rt)=>{if(rt.lhsId===S){const it=R(rt.lhsDir,rt.rhsDir);it&&(V[it]=rt.rhsId)}else{const it=R(rt.rhsDir,rt.lhsDir);it&&(V[it]=rt.lhsId)}return V},{}),W),{}),M=Object.keys(d)[0],C={[M]:1},x=Object.keys(d).reduce((W,S)=>S===M?W:ae(ie({},W),{[S]:1}),{}),w=(0,h.eW)(W=>{const S={[W]:[0,0]},U=[W];for(;U.length>0;){const V=U.shift();if(V){C[V]=1,delete x[V];const rt=d[V],[it,yt]=S[V];Object.entries(rt).forEach(([k,tt])=>{C[tt]||(S[tt]=et([it,yt],k),U.push(tt))})}}return S},"BFS"),q=[w(M)];for(;Object.keys(x).length>0;)q.push(w(Object.keys(x)[0]));v.records.dataStructures={adjList:d,spatialMaps:q}}return v.records.dataStructures},"getDataStructures"),K=(0,h.eW)((d,M)=>{v.records.elements[d]=M},"setElementForId"),O=(0,h.eW)(d=>v.records.elements[d],"getElementById"),z={clear:f,setDiagramTitle:h.g2,getDiagramTitle:h.Kr,setAccTitle:h.GN,getAccTitle:h.eu,setAccDescription:h.U$,getAccDescription:h.Mx,addService:m,getServices:y,addJunction:P,getJunctions:D,getNodes:H,getNode:X,addGroup:G,getGroups:J,addEdge:st,getEdges:B,setElementForId:K,getElementById:O,getDataStructures:ht};function Y(d){const M=(0,h.nV)().architecture;return M!=null&&M[d]?M[d]:a[d]}(0,h.eW)(Y,"getConfigField");var nt=(0,h.eW)((d,M)=>{(0,s.A)(d,M),d.groups.map(M.addGroup),d.services.map(C=>M.addService(ae(ie({},C),{type:"service"}))),d.junctions.map(C=>M.addJunction(ae(ie({},C),{type:"junction"}))),d.edges.map(M.addEdge)},"populateDb"),pt={parse:(0,h.eW)(d=>re(this,null,function*(){const M=yield(0,e.Qc)("architecture",d);h.cM.debug(M),nt(M,z)}),"parse")},_=(0,h.eW)(d=>`
  .edge {
    stroke-width: ${d.archEdgeWidth};
    stroke: ${d.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${d.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${d.archGroupBorderColor};
    stroke-width: ${d.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Pt=_,Tt=(0,h.eW)(d=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${d}</g>`,"wrapIcon"),Vt={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Tt('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Tt('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Tt('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Tt('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Tt('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:F.cN,blank:{body:Tt("")}}},Ut=(0,h.eW)(function(d,M){return re(this,null,function*(){const C=Y("padding"),x=Y("iconSize"),w=x/2,q=x/6,W=q/2;yield Promise.all(M.edges().map(S=>re(this,null,function*(){var It,Ht;const{source:U,sourceDir:V,sourceArrow:rt,sourceGroup:it,target:yt,targetDir:k,targetArrow:tt,targetGroup:vt,label:ot}=b(S);let{x:ct,y:Dt}=S[0].sourceEndpoint();const{x:dt,y:Et}=S[0].midpoint();let{x:St,y:xt}=S[0].targetEndpoint();const bt=C+4;if(it&&(A(V)?ct+=V==="L"?-bt:bt:Dt+=V==="T"?-bt:bt+18),vt&&(A(k)?St+=k==="L"?-bt:bt:xt+=k==="T"?-bt:bt+18),!it&&((It=z.getNode(U))==null?void 0:It.type)==="junction"&&(A(V)?ct+=V==="L"?w:-w:Dt+=V==="T"?w:-w),!vt&&((Ht=z.getNode(yt))==null?void 0:Ht.type)==="junction"&&(A(k)?St+=k==="L"?w:-w:xt+=k==="T"?w:-w),S[0]._private.rscratch){const Jt=d.insert("g");if(Jt.insert("path").attr("d",`M ${ct},${Dt} L ${dt},${Et} L${St},${xt} `).attr("class","edge"),rt){const kt=A(V)?u[V](ct,q):ct-W,Bt=N(V)?u[V](Dt,q):Dt-W;Jt.insert("polygon").attr("points",g[V](q)).attr("transform",`translate(${kt},${Bt})`).attr("class","arrow")}if(tt){const kt=A(k)?u[k](St,q):St-W,Bt=N(k)?u[k](xt,q):xt-W;Jt.insert("polygon").attr("points",g[k](q)).attr("transform",`translate(${kt},${Bt})`).attr("class","arrow")}if(ot){const kt=L(V,k)?"XY":A(V)?"X":"Y";let Bt=0;kt==="X"?Bt=Math.abs(ct-St):kt==="Y"?Bt=Math.abs(Dt-xt)/1.5:Bt=Math.abs(ct-St)/2;const $t=Jt.append("g");if(yield(0,E.rw)($t,ot,{useHtmlLabels:!1,width:Bt,classes:"architecture-service-label"},(0,h.nV)()),$t.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),kt==="X")$t.attr("transform","translate("+dt+", "+Et+")");else if(kt==="Y")$t.attr("transform","translate("+dt+", "+Et+") rotate(-90)");else if(kt==="XY"){const Qt=R(V,k);if(Qt&&I(Qt)){const qt=$t.node().getBoundingClientRect(),[te,jt]=ut(Qt);$t.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*te*jt*45})`);const _t=$t.node().getBoundingClientRect();$t.attr("transform",`
                translate(${dt}, ${Et-qt.height/2})
                translate(${te*_t.width/2}, ${jt*_t.height/2})
                rotate(${-1*te*jt*45}, 0, ${qt.height/2})
              `)}}}}})))})},"drawEdges"),gt=(0,h.eW)(function(d,M){return re(this,null,function*(){const x=Y("padding")*.75,w=Y("fontSize"),W=Y("iconSize")/2;yield Promise.all(M.nodes().map(S=>re(this,null,function*(){const U=Z(S);if(U.type==="group"){const{h:V,w:rt,x1:it,y1:yt}=S.boundingBox();d.append("rect").attr("x",it+W).attr("y",yt+W).attr("width",rt).attr("height",V).attr("class","node-bkg");const k=d.append("g");let tt=it,vt=yt;if(U.icon){const ot=k.append("g");ot.html(`<g>${yield(0,F.s4)(U.icon,{height:x,width:x,fallbackPrefix:Vt.prefix})}</g>`),ot.attr("transform","translate("+(tt+W+1)+", "+(vt+W+1)+")"),tt+=x,vt+=w/2-1-2}if(U.label){const ot=k.append("g");yield(0,E.rw)(ot,U.label,{useHtmlLabels:!1,width:rt,classes:"architecture-service-label"},(0,h.nV)()),ot.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),ot.attr("transform","translate("+(tt+W+4)+", "+(vt+W+2)+")")}}})))})},"drawGroups"),ft=(0,h.eW)(function(d,M,C){return re(this,null,function*(){var x;for(const w of C){const q=M.append("g"),W=Y("iconSize");if(w.title){const rt=q.append("g");yield(0,E.rw)(rt,w.title,{useHtmlLabels:!1,width:W*1.5,classes:"architecture-service-label"},(0,h.nV)()),rt.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),rt.attr("transform","translate("+W/2+", "+W+")")}const S=q.append("g");if(w.icon)S.html(`<g>${yield(0,F.s4)(w.icon,{height:W,width:W,fallbackPrefix:Vt.prefix})}</g>`);else if(w.iconText){S.html(`<g>${yield(0,F.s4)("blank",{height:W,width:W,fallbackPrefix:Vt.prefix})}</g>`);const yt=S.append("g").append("foreignObject").attr("width",W).attr("height",W).append("div").attr("class","node-icon-text").attr("style",`height: ${W}px;`).append("div").html(w.iconText),k=(x=parseInt(window.getComputedStyle(yt.node(),null).getPropertyValue("font-size").replace(/\D/g,"")))!=null?x:16;yt.attr("style",`-webkit-line-clamp: ${Math.floor((W-2)/k)};`)}else S.append("path").attr("class","node-bkg").attr("id","node-"+w.id).attr("d",`M0 ${W} v${-W} q0,-5 5,-5 h${W} q5,0 5,5 v${W} H0 Z`);q.attr("class","architecture-service");const{width:U,height:V}=q._groups[0][0].getBBox();w.width=U,w.height=V,d.setElementForId(w.id,q)}return 0})},"drawServices"),wt=(0,h.eW)(function(d,M,C){C.forEach(x=>{const w=M.append("g"),q=Y("iconSize");w.append("g").append("rect").attr("id","node-"+x.id).attr("fill-opacity","0").attr("width",q).attr("height",q),w.attr("class","architecture-junction");const{width:S,height:U}=w._groups[0][0].getBBox();w.width=S,w.height=U,d.setElementForId(x.id,w)})},"drawJunctions");(0,F.ef)([{name:Vt.prefix,icons:Vt}]),p.Z.use(t);function At(d,M){d.forEach(C=>{M.add({group:"nodes",data:{type:"service",id:C.id,icon:C.icon,label:C.title,parent:C.in,width:Y("iconSize"),height:Y("iconSize")},classes:"node-service"})})}(0,h.eW)(At,"addServices");function Lt(d,M){d.forEach(C=>{M.add({group:"nodes",data:{type:"junction",id:C.id,parent:C.in,width:Y("iconSize"),height:Y("iconSize")},classes:"node-junction"})})}(0,h.eW)(Lt,"addJunctions");function Ct(d,M){M.nodes().map(C=>{const x=Z(C);if(x.type==="group")return;x.x=C.position().x,x.y=C.position().y,d.getElementById(x.id).attr("transform","translate("+(x.x||0)+","+(x.y||0)+")")})}(0,h.eW)(Ct,"positionNodes");function Mt(d,M){d.forEach(C=>{M.add({group:"nodes",data:{type:"group",id:C.id,icon:C.icon,label:C.title,parent:C.in},classes:"node-group"})})}(0,h.eW)(Mt,"addGroups");function Ot(d,M){d.forEach(C=>{const{lhsId:x,rhsId:w,lhsInto:q,lhsGroup:W,rhsInto:S,lhsDir:U,rhsDir:V,rhsGroup:rt,title:it}=C,yt=L(C.lhsDir,C.rhsDir)?"segments":"straight",k={id:`${x}-${w}`,label:it,source:x,sourceDir:U,sourceArrow:q,sourceGroup:W,sourceEndpoint:U==="L"?"0 50%":U==="R"?"100% 50%":U==="T"?"50% 0":"50% 100%",target:w,targetDir:V,targetArrow:S,targetGroup:rt,targetEndpoint:V==="L"?"0 50%":V==="R"?"100% 50%":V==="T"?"50% 0":"50% 100%"};M.add({group:"edges",data:k,classes:yt})})}(0,h.eW)(Ot,"addEdges");function Xt(d){const M=d.map(w=>{const q={},W={};return Object.entries(w).forEach(([S,[U,V]])=>{q[V]||(q[V]=[]),W[U]||(W[U]=[]),q[V].push(S),W[U].push(S)}),{horiz:Object.values(q).filter(S=>S.length>1),vert:Object.values(W).filter(S=>S.length>1)}}),[C,x]=M.reduce(([w,q],{horiz:W,vert:S})=>[[...w,...W],[...q,...S]],[[],[]]);return{horizontal:C,vertical:x}}(0,h.eW)(Xt,"getAlignments");function Zt(d){const M=[],C=(0,h.eW)(w=>`${w[0]},${w[1]}`,"posToStr"),x=(0,h.eW)(w=>w.split(",").map(q=>parseInt(q)),"strToPos");return d.forEach(w=>{const q=Object.fromEntries(Object.entries(w).map(([V,rt])=>[C(rt),V])),W=[C([0,0])],S={},U={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;W.length>0;){const V=W.shift();if(V){S[V]=1;const rt=q[V];if(rt){const it=x(V);Object.entries(U).forEach(([yt,k])=>{const tt=C([it[0]+k[0],it[1]+k[1]]),vt=q[tt];vt&&!S[tt]&&(W.push(tt),M.push({[l[yt]]:vt,[l[T(yt)]]:rt,gap:1.5*Y("iconSize")}))})}}}}),M}(0,h.eW)(Zt,"getRelativeConstraints");function Ft(d,M,C,x,{spatialMaps:w}){return new Promise(q=>{const W=(0,i.Ys)("body").append("div").attr("id","cy").attr("style","display:none"),S=(0,p.Z)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Y("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Y("padding")}px`}}]});W.remove(),Mt(C,S),At(d,S),Lt(M,S),Ot(x,S);const U=Xt(w),V=Zt(w),rt=S.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(it){const[yt,k]=it.connectedNodes(),{parent:tt}=Z(yt),{parent:vt}=Z(k);return tt===vt?1.5*Y("iconSize"):.5*Y("iconSize")},edgeElasticity(it){const[yt,k]=it.connectedNodes(),{parent:tt}=Z(yt),{parent:vt}=Z(k);return tt===vt?.45:.001},alignmentConstraint:U,relativePlacementConstraint:V});rt.one("layoutstop",()=>{var yt;function it(k,tt,vt,ot){let ct,Dt;const{x:dt,y:Et}=k,{x:St,y:xt}=tt;Dt=(ot-Et+(dt-vt)*(Et-xt)/(dt-St))/Math.sqrt(1+Math.pow((Et-xt)/(dt-St),2)),ct=Math.sqrt(Math.pow(ot-Et,2)+Math.pow(vt-dt,2)-Math.pow(Dt,2));const bt=Math.sqrt(Math.pow(St-dt,2)+Math.pow(xt-Et,2));ct=ct/bt;let It=(St-dt)*(ot-Et)-(xt-Et)*(vt-dt);switch(!0){case It>=0:It=1;break;case It<0:It=-1;break}let Ht=(St-dt)*(vt-dt)+(xt-Et)*(ot-Et);switch(!0){case Ht>=0:Ht=1;break;case Ht<0:Ht=-1;break}return Dt=Math.abs(Dt)*It,ct=ct*Ht,{distances:Dt,weights:ct}}(0,h.eW)(it,"getSegmentWeights"),S.startBatch();for(const k of Object.values(S.edges()))if((yt=k.data)!=null&&yt.call(k)){const{x:tt,y:vt}=k.source().position(),{x:ot,y:ct}=k.target().position();if(tt!==ot&&vt!==ct){const Dt=k.sourceEndpoint(),dt=k.targetEndpoint(),{sourceDir:Et}=b(k),[St,xt]=N(Et)?[Dt.x,dt.y]:[dt.x,Dt.y],{weights:bt,distances:It}=it(Dt,dt,St,xt);k.style("segment-distances",It),k.style("segment-weights",bt)}}S.endBatch(),rt.run()}),rt.run(),S.ready(it=>{h.cM.info("Ready",it),q(S)})})}(0,h.eW)(Ft,"layoutArchitecture");var Yt=(0,h.eW)((d,M,C,x)=>re(this,null,function*(){const w=x.db,q=w.getServices(),W=w.getJunctions(),S=w.getGroups(),U=w.getEdges(),V=w.getDataStructures(),rt=(0,o.P)(M),it=rt.append("g");it.attr("class","architecture-edges");const yt=rt.append("g");yt.attr("class","architecture-services");const k=rt.append("g");k.attr("class","architecture-groups"),yield ft(w,yt,q),wt(w,yt,W);const tt=yield Ft(q,W,S,U,V);yield Ut(it,tt),yield gt(k,tt),Ct(w,tt),(0,h.j7)(void 0,rt,Y("padding"),Y("useMaxWidth"))}),"draw"),Wt={draw:Yt},$={parser:pt,db:z,renderer:Wt,styles:Pt}},67546:function(Gt,j,at){"use strict";var s;at.d(j,{A:function(){return E}});var F=at(95895),E=(s=class{constructor(r){this.init=r,this.records=this.init()}reset(){this.records=this.init()}},(0,F.eW)(s,"ImperativeState"),s)},23265:function(Gt,j,at){"use strict";at.d(j,{A:function(){return E}});var F=at(95895);function E(s,n){var r,o,h;s.accDescr&&((r=n.setAccDescription)==null||r.call(n,s.accDescr)),s.accTitle&&((o=n.setAccTitle)==null||o.call(n,s.accTitle)),s.title&&((h=n.setDiagramTitle)==null||h.call(n,s.title))}(0,F.eW)(E,"populateCommonDb")}}]);
}());